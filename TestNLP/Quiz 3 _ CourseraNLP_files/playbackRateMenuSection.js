define("bundles/videojs/plugins/playbackRateMenuSection",["require","exports","module","bundles/videojs/layout/playbackRateMenuSection.html","videojs","jquery","underscore"],function(require,exports,module){"use strict";function _defaults(e,r){for(var i=Object.getOwnPropertyNames(r),t=0;t<i.length;t++){var a=i[t],n=Object.getOwnPropertyDescriptor(r,a);n&&n.configurable&&void 0===e[a]&&Object.defineProperty(e,a,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var t=function(){function defineProperties(n,a){for(var t=0;t<a.length;t++){var e=a[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,a){return t&&defineProperties(e.prototype,t),a&&defineProperties(e,a),e}}(),a=function get(i,l,s){var a=!0;e:for(;a;){var t=i,o=l,c=s;a=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,o);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;i=n,l=o,s=c,a=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(c)}},n=require("bundles/videojs/layout/playbackRateMenuSection.html"),e=require("videojs"),$=require("jquery"),_=require("underscore"),r=function(r){function PlaybackRateMenuSection(t,n){_classCallCheck(this,PlaybackRateMenuSection),a(Object.getPrototypeOf(PlaybackRateMenuSection.prototype),"constructor",this).call(this,t,n),this.options_={name:"playbackRateMenuSection"},this.playbackRates_=[.75,1,1.25,1.5,1.75,2],$(this.el_).find('[data-js="c-playback-rate-minus-button"]').click(this.decreasePlaybackRate.bind(this)),$(this.el_).find('[data-js="c-playback-rate-plus-button"]').click(this.increasePlaybackRate.bind(this)),this.player_.on("ratechange",e.bind(this,this.changeRateText)),this.changeRateText.call(this)}return _inherits(PlaybackRateMenuSection,r),t(PlaybackRateMenuSection,[{key:"name",value:function name(){return"PlaybackRateMenuSection"}},{key:"createEl",value:function createEl(e,t){return $(n())[0]}},{key:"changeRateText",value:function changeRateText(){var e=this.player_.playbackRate().toFixed(2)+"x";$(this.el_).find('[data-js="c-playback-rate-text"]').text(e)}},{key:"getRateIndex",value:function getRateIndex(){return _.indexOf(this.playbackRates_,this.player_.playbackRate()||1)}},{key:"decreasePlaybackRate",value:function decreasePlaybackRate(){if(this.player_.playbackRate()===_.first(this.playbackRates_))return;this.player_.options().playbackRates&&this.player_.playbackRate(this.playbackRates_[this.getRateIndex()-1])}},{key:"increasePlaybackRate",value:function increasePlaybackRate(){if(this.player_.playbackRate()===_.last(this.playbackRates_))return;this.player_.options().playbackRates&&this.player_.playbackRate(this.playbackRates_[this.getRateIndex()+1])}}]),PlaybackRateMenuSection}(e.getComponent("Component"));e.registerComponent("PlaybackRateMenuSection",r)});