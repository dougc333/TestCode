define("bundles/videojs/plugins/heartbeat",["require","exports","module","videojs","js/vendor/lucid.v2-7-0"],function(require,exports,module){"use strict";var e=require("videojs"),i=require("js/vendor/lucid.v2-7-0"),t=5e3,n=function Heartbeat(e,i,t){var n=function startHeartbeat(){this.interval&&window.clearInterval(this.interval),this.interval=window.setInterval(t,parseInt(i,10))};e.on("playing",n.bind(this)),e.on("pause",function(){window.clearInterval(this.interval)}.bind(this)),e.on("dispose",function(){window.clearInterval(this.interval)}.bind(this))};e.plugin("setupHeartbeatListener",function(){var e=this,r=[];e.emitter||(e.emitter=i.emitter()),e.emitter.on("emitter.listener",function(a,o){var i=void 0,s=void 0;if(i=/^heartbeat(:(\d+))?$/,s=i.exec(a)){var v=s[2]||t;r.push(new n(e,v,o))}})})});