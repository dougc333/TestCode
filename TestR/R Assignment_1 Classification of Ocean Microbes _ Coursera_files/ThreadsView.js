define("bundles/discussions/components/redesign/forums/ThreadsView",["require","exports","module","react-with-addons","underscore","bundles/discussions/components/DiscussionsBody","bundles/discussions/utils/discussionsUrl","bundles/phoenix/components/CML","bundles/ui/components/Breadcrumbs","bundles/discussions/components/SubscriptionButton","js/lib/connectToRouter","i18n!nls/discussions","vendor/cnpm/fluxible.v0-4/addons/connectToStores","css!bundles/discussions/components/redesign/forums/__styles__/ThreadsView"],function(require,exports,module){"use strict";function _defaults(e,o){for(var r=Object.getOwnPropertyNames(o),t=0;t<r.length;t++){var n=r[t],s=Object.getOwnPropertyDescriptor(o,n);s&&s.configurable&&void 0===e[n]&&Object.defineProperty(e,n,s)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var n=function(){function defineProperties(s,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(s,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),s=function get(r,c,a){var n=!0;e:for(;n;){var t=r,i=c,u=a;n=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,i);if(void 0===e){var s=Object.getPrototypeOf(t);if(null===s)return void 0;r=s,c=i,a=u,n=!0,e=s=void 0;continue e}if("value"in e)return e.value;var o=e.get;if(void 0===o)return void 0;return o.call(u)}},e=require("react-with-addons"),o=require("underscore"),r=o.compose,i=require("bundles/discussions/components/DiscussionsBody"),t=require("bundles/discussions/utils/discussionsUrl"),u=t.getCourseDiscussionsUrl,c=require("bundles/phoenix/components/CML"),a=require("bundles/ui/components/Breadcrumbs"),l=require("bundles/discussions/components/SubscriptionButton"),d=require("js/lib/connectToRouter"),p=require("i18n!nls/discussions"),m=require("vendor/cnpm/fluxible.v0-4/addons/connectToStores");require("css!bundles/discussions/components/redesign/forums/__styles__/ThreadsView");var f=function(t){function ThreadsView(){_classCallCheck(this,ThreadsView),s(Object.getPrototypeOf(ThreadsView.prototype),"constructor",this).apply(this,arguments)}return _inherits(ThreadsView,t),n(ThreadsView,[{key:"renderSubscriptionButton",value:function renderSubscriptionButton(){var t=this.props,n=t.forumMetadatas,s=t.contextId,o=n[s],r=o.viewContext.get("type");if("item"!==r)return e.createElement("div",{className:"flex-1"},e.createElement(l,null));return null}},{key:"render",value:function render(){var n=this.props,s=n.forumMetadatas,o=n.contextId,t=s[o];if(!t)return null;var r=[{label:p("Discussion Forums"),href:u()},t&&{label:t.title}];return e.createElement("div",{className:"rc-ThreadsView horizontal-box align-items-absolute-center"},e.createElement("div",{className:"discussions-threads-container"},e.createElement(a,{className:"breadcrumbs",links:r}),e.createElement("div",null,e.createElement("div",{className:"forum-name headline-5-text color-primary-text"},t.title),e.createElement("div",{className:"forum-description horizontal-box align-items-vertical-center vertical-when-mobile"},e.createElement(c,{className:"body-1-text",cml:t.description}),e.createElement("div",null,this.renderSubscriptionButton()))),e.createElement(i,{key:t.id,viewContext:t.viewContext})))}}],[{key:"propTypes",value:{forumMetadatas:e.PropTypes.object,contextId:e.PropTypes.string},enumerable:!0}]),ThreadsView}(e.Component);module.exports=r(m(["ForumMetadataStore"],function(e,n){var t=e.ForumMetadataStore;return{forumMetadatas:t.getAllForumMetadatas()}}),d(function(e){return{contextId:e.params.forum_id||e.params.group_id||e.params.week_number}}))(f)});