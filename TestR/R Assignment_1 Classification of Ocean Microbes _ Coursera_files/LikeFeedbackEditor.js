define("bundles/content-feedback/components/like/LikeFeedbackEditor",["require","exports","module","classnames","react-with-addons","react-dom","./../FeedbackEditor","bundles/phoenix/mixins/DocumentClickMixin","bundles/phoenix/utils/CMLUtils","i18n!nls/content-feedback","css!./__styles__/LikeFeedbackEditor"],function(require,exports,module){"use strict";var n=require("classnames"),e=require("react-with-addons"),s=require("react-dom"),a=require("./../FeedbackEditor"),c=require("bundles/phoenix/mixins/DocumentClickMixin"),i=require("bundles/phoenix/utils/CMLUtils"),t=require("i18n!nls/content-feedback");require("css!./__styles__/LikeFeedbackEditor");var l=e.createClass({displayName:"LikeFeedbackEditor",mixins:[c],propTypes:{initialCML:e.PropTypes.object,placeholder:e.PropTypes.string.isRequired,onSkip:e.PropTypes.func.isRequired,onSend:e.PropTypes.func.isRequired},getDefaultProps:function getDefaultProps(){return{initialCML:i.create("")}},getInitialState:function getInitialState(){return{allowSend:!i.isEmpty(this.props.initialCML),cml:this.props.initialCML}},componentDidMount:function componentDidMount(){this.addDocumentClickListener({elements:[s.findDOMNode(this)],onClick:this.props.onSkip})},handleChange:function handleChange(e){this.setState({allowSend:!i.isEmpty(e),cml:e})},handleSkip:function handleSkip(e){e.preventDefault(),this.props.onSkip()},handleSend:function handleSend(e){e.preventDefault(),this.props.onSend(this.state.cml)},render:function render(){var i=n("c-like-feedback-action",{disabled:!this.state.allowSend});return e.createElement("div",{className:"rc-LikeFeedbackEditor"},e.createElement(a,{isFocused:!0,cml:this.state.cml,onChange:this.handleChange,placeholder:this.props.placeholder}),e.createElement("div",{className:"c-like-feedback-actions"},e.createElement("a",{className:"c-like-feedback-action",onClick:this.handleSkip,href:"#"},t("Skip")),e.createElement("a",{className:i,onClick:this.handleSend,href:"#"},t("Send"))))}});module.exports=l});