define("bundles/discussions/utils/ViewContextLoader",["require","exports","module","q","bundles/discussions/data/forumData","bundles/discussions/data/groupData","bundles/discussions/viewModels/viewContext","pages/open-course/common/singletons/course","pages/open-course/common/singletons/courseMaterials","pages/open-course/common/singletons/courseSchedule"],function(require,exports,module){"use strict";var o=require("q"),u=require("bundles/discussions/data/forumData"),t=require("bundles/discussions/data/groupData"),n=require("bundles/discussions/viewModels/viewContext"),s=require("pages/open-course/common/singletons/course"),r=require("pages/open-course/common/singletons/courseMaterials"),a=require("pages/open-course/common/singletons/courseSchedule"),e={loadContextFromParams:function loadContextFromParams(o,n,s,u){return o?e.loadModuleContext(o):n?e.loadForumContext(n):s?e.loadGroupContext(s):u?e.loadWeekContext(u):e.loadCourseContext()},loadCourseContext:function loadCourseContext(){var e=o.all([s]).spread(function(e){return new n({course:e})});return e.done(),e},loadForumContext:function loadForumContext(t){var e=o.all([s,u(t)]).spread(function(e,o){return new n({course:e,forum:o})});return e.done(),e},loadGroupContext:function loadGroupContext(u){var e=o.all([s,t(u)]).spread(function(e,o){return new n({course:e,group:o})});return e.done(),e},loadModuleContext:function loadModuleContext(u){var e=o.all([s,r]).spread(function(e,o){return new n({course:e,module:o.getModules().get(u)})});return e.done(),e},loadWeekContext:function loadWeekContext(e){var u=o.all([s,a]).spread(function(o,s){var u=s.containsWeek(e)?e:void 0;return new n({course:o,week:u})});return u.done(),u}};module.exports=e});