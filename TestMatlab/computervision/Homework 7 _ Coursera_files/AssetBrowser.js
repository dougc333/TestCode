define("bundles/asset-admin/components/AssetBrowser",["require","exports","module","react-with-addons","./AssetsList","./AssetsListHeader","bundles/teach-course/components/BounceLoader","bundles/teach-course/components/TeachInfiniteScroll","bundles/asset-admin/actions/AssetAdminActions","css!./__styles__/AssetBrowser"],function(require,exports,module){"use strict";function _defaults(e,r){for(var o=Object.getOwnPropertyNames(r),t=0;t<o.length;t++){var s=o[t],n=Object.getOwnPropertyDescriptor(r,s);n&&n.configurable&&void 0===e[s]&&Object.defineProperty(e,s,n)}return e}function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}function _inherits(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):_defaults(t,e))}var s=function(){function defineProperties(n,s){for(var t=0;t<s.length;t++){var e=s[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(n,e.key,e)}}return function(e,t,s){return t&&defineProperties(e.prototype,t),s&&defineProperties(e,s),e}}(),n=function get(o,l,c){var s=!0;e:for(;s;){var t=o,a=l,i=c;s=!1,null===t&&(t=Function.prototype);var e=Object.getOwnPropertyDescriptor(t,a);if(void 0===e){var n=Object.getPrototypeOf(t);if(null===n)return void 0;o=n,l=a,c=i,s=!0,e=n=void 0;continue e}if("value"in e)return e.value;var r=e.get;if(void 0===r)return void 0;return r.call(i)}},e=require("react-with-addons"),t=require("./AssetsList"),r=require("./AssetsListHeader"),o=require("bundles/teach-course/components/BounceLoader"),a=require("bundles/teach-course/components/TeachInfiniteScroll"),i=require("bundles/asset-admin/actions/AssetAdminActions"),l=i.getAssetsListByCourse;require("css!./__styles__/AssetBrowser");var c=function(i){function AssetBrowser(){var e=this;_classCallCheck(this,AssetBrowser),n(Object.getPrototypeOf(AssetBrowser.prototype),"constructor",this).apply(this,arguments),this.state={isLoading:!1},this.handleInfiniteScroll=function(){var t=e.props,n=t.courseId,s=t.nextPageIndex;s&&(e.setState({isLoading:!0}),e.context.executeAction(l,{courseId:n,nextPageIndex:s}))}}return _inherits(AssetBrowser,i),s(AssetBrowser,[{key:"getChildContext",value:function getChildContext(){return{scrollContainer:".rc-AssetAdminModal .scrollable-assets-list"}}},{key:"componentDidUpdate",value:function componentDidUpdate(e){e.nextPageIndex!==this.props.nextPageIndex&&this.setState({isLoading:!1})}},{key:"render",value:function render(){var s=this.props,n=s.assets,i=s.selectedAssets,l=s.allowMultiple,c=s.hideHeader;return e.createElement("div",{className:"rc-AssetBrowser"},e.createElement("div",{className:"assets-wrapper"},!n&&e.createElement("div",{className:"assets-loading-state"},e.createElement(o,null)),!c&&e.createElement(r,null),n&&e.createElement("div",{className:"scrollable-assets-list"},e.createElement(a,{isLoading:this.state.isLoading,onInfiniteScroll:this.handleInfiniteScroll},e.createElement(t,{assets:n,selectedAssets:i,allowMultiple:l})))))}}],[{key:"propTypes",value:{courseId:e.PropTypes.string.isRequired,assets:e.PropTypes.array,selectedAssets:e.PropTypes.array,nextPageIndex:e.PropTypes.string,allowMultiple:e.PropTypes.bool,hideHeader:e.PropTypes.bool},enumerable:!0},{key:"contextTypes",value:{executeAction:e.PropTypes.func.isRequired},enumerable:!0},{key:"childContextTypes",value:{scrollContainer:e.PropTypes.string},enumerable:!0}]),AssetBrowser}(e.Component);module.exports=c});