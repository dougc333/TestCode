define("bundles/scribe-plugins/scribe-plugin-autolink",["require","exports","module"],function(require,exports,module){"use strict";var e=/https?:\/\/[^ \r\n\t]+/gim,n=function getLinkedNodesFromText(c,s){var a=!0;e:for(;a;){var t=c,n=s;a=!1,n=n||[],e.exec("");var u=e.exec(t);if(u){var r=u[0],o=t.split(r);o[0]&&n.push(document.createTextNode(o[0]));var i=document.createElement("a");i.setAttribute("href",r),i.innerHTML=r,n.push(i),c=o[1],s=n,a=!0,u=r=o=i=void 0;continue e}return t&&n.push(document.createTextNode(t)),n}};module.exports=function(){return function(t){function handleKeydown(i){var r=i.keyCode;if(9===r||13===r||32===r){var o=function(){var i=new t.api.Selection,o=i.range;if(!o)return{v:void 0};var r=o.endContainer,a=r.parentNode;3===r.nodeType&&!function(){var u=r.textContent;e.test(u)&&t.transactionManager.run(function(){var e=n(u);e.forEach(function(e){a.insertBefore(e,r)}),o.setEndAfter(r),a.removeChild(r),o.collapse(),i.selection.removeAllRanges(),i.selection.addRange(o)})}()}();if("object"==typeof o)return o.v}}t.el.addEventListener("keydown",handleKeydown)}}});