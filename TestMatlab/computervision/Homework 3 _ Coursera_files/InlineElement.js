define("bundles/CMLConverter/HTMLToCMLConverter/InlineElement",["require","exports","module","underscore","bundles/CMLConverter/CMLParser"],function(require,exports,module){"use strict";function _classCallCheck(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}var e=function(){function defineProperties(r,n){for(var t=0;t<n.length;t++){var e=n[t];e.enumerable=e.enumerable||!1,e.configurable=!0,"value"in e&&(e.writable=!0),Object.defineProperty(r,e.key,e)}}return function(e,t,n){return t&&defineProperties(e.prototype,t),n&&defineProperties(e,n),e}}(),_=require("underscore"),t=require("bundles/CMLConverter/CMLParser"),n=t.SUPPORTED_INLINE_BLOCKS,r={a:[{name:"href",required:!0},{name:"title"}]},i=function(){function InlineElement(r,t){var e=this;if(_classCallCheck(this,InlineElement),this.doc=r,this.node=t,this.tagName=this.getTagName(t),_(n).contains(this.tagName))this.childNodes=_(this.node.childNodes).clone(),this.block=this.doc.createElement(this.tagName),this.setBlockAttributes(),_(this.childNodes).each(function(t){var n=e.getTagName(t);if(n===e.tagName)throw new Error("Invalid nested inline element "+n);var r=new InlineElement(e.doc,t);e.block.appendChild(r.block)});else{if(3!==t.nodeType)throw new Error("Invalid inline element "+this.tagName);this.block=this.node}}return e(InlineElement,[{key:"getTagName",value:function getTagName(e){return e.tagName&&e.tagName.toLowerCase()}},{key:"setBlockAttributes",value:function setBlockAttributes(){var e=this,t=r[this.tagName];t&&_(t).each(function(n){var t=n.name,i=n.required,r=e.node.getAttribute(t);if(r)e.block.setAttribute(t,r);else if(i)throw new Error("Missing attribute "+t+" for "+e.tagName)})}}]),InlineElement}();module.exports=i});