function Queue(){var t=[],e=0;this.getLength=function(){return t.length-e},this.isEmpty=function(){return 0==t.length},this.enqueue=function(e){t.push(e)},this.dequeue=function(){if(0!=t.length){var i=t[e];return 2*++e>=t.length&&(t=t.slice(e),e=0),i}},this.peek=function(){return t.length>0?t[e]:void 0}}function input_modal(t,e,i,n,s){t||(t=$("body"));var o=$("#input_modal");o.modal({backdrop:"static"}),position_modal_in_pane(o,t),$(".modal-body p",o).text(e),$("#input_modal_input").attr("placeholder",i),$("#input_modal_form").unbind("submit"),$("#input_modal_form").submit(function(t){t.preventDefault(),$("#input_modal").modal("hide");var e;return e=s?s($("#input_modal_input").val()):$("#input_modal_input").val(),n(e),!1}),o.modal("show")}function confirm_modal(t,e,i,n){n||(n=$(this)),t||(t=$("body"));var s=$("#confirm_modal");s.modal({backdrop:"static",keyboard:!1}),position_modal_in_pane(s,t),$(".modal-body p",s).text(e),$("#confirm_modal #confirm_no").unbind("click"),$("#confirm_modal #confirm_no").click(function(){$.proxy(i,n)(!1)}),$("#confirm_modal #confirm_yes").unbind("click"),$("#confirm_modal #confirm_yes").click(function(){$.proxy(i,n)(!0)}),$("#confirm_modal #confirm_yes").focus(),s.modal("show")}function position_modal_in_pane(t,e){return}function show_loading_modal(t,e){t&&t.is(":visible")||(t=$("body")),e||(e=get_random_string(32));$("#loading_modal").clone(!0).attr("id","loading_modal_"+e).addClass("loading_modal").appendTo(t);return e}function hide_loading_modal(t){logEvent({type:"hide_loading_modal",id:t}),t="loading_modal_"+t,$("#"+t).remove()}function show_text_modal(t,e,i){e&&e.is(":visible")||(e=$("body")),i||(i=get_random_string(32));var n;return $("#text_modal_"+i).length>0?(n=$("#text_modal_"+i),$(".modal-body",n).empty()):n=$("#text_modal").clone(!0).attr("id","text_modal_"+i).addClass("text_modal").appendTo($("body")),n.modal({keyboard:!1}),position_modal_in_pane(n,e),n.modal("show"),$(".modal-body",n).append(text_box(t)),i}function hide_text_modal(t){logEvent({type:"hide_text_modal",id:t}),t="text_modal_"+t,$("#"+t).modal("hide"),$("#"+t).remove()}function show_main_modal(t,e){$("#main_modal .modal-body").empty();var i=$("#main_modal");i.modal({keyboard:!0,backdrop:e?"static":!0}),$("#main_modal .modal-body").append(t),i.modal("show")}function hide_main_modal(){$("#main_modal").modal("hide"),$("body").removeClass("modal-open"),$(".modal-backdrop").remove()}function show_image_modal(t){var e=$('<img src="'+t+'"></img>');$("body").append(e);var i=e[0].clientWidth,n=e[0].clientHeight;e.remove(),console.log("width ",n),console.log("height",i),i+n===0?(console.log("For some reason, dimensions are 0"),i=100,n=100):0===n?(console.log("For some reason, width is 0"),n=i):0===i&&(console.log("For some reason, height is 0"),i=n);var s=Math.max(200,Math.min($("body").height()-100,500)),o=Math.max(200,Math.min($("body").width()-100,500));i>s&&(n*=s/i,i=s),n>o&&(i*=o/n,n=o),console.log("width ",n),console.log("height",i),e=$('<img src="'+t+'" width="100%" height="100%"></img>'),$("#main_modal .modal-body").empty(),$("#main_modal .modal-body").append(e);var a=$("<button>Pop out</button>");$("#main_modal .modal-body").append(a),e.load(function(){console.log("loaded"),console.log(e);var i=$("#main_modal");parseInt($("#main_modal .modal-body").css("padding"));i.height(300),i.width(300),i.modal({keyboard:!0}),i.modal("show"),a.click(function(){i.modal("hide"),window.open(t)})})}function trigger_files_modal(t,e,i,n,s){t||(t=$("body"));var o=$("#files_modal");o.modal({backdrop:"static"}),$("#files_modal_submit").val(e.action),n.crumbs=i,n.cd_callback(i),position_modal_in_pane(o,t),void 0!==e.input_default&&$("#files_modal_input").val(e.input_default),e.focus_name_input&&$("#files_modal_input").focus(),$("#files_modal_form").unbind("submit"),$("#files_modal_form").submit(function(t){return t.preventDefault(),$("#files_modal").modal("hide"),s(n.crumbs,$("#files_modal_input").val()),!1}),o.modal("show")}function readonly_box(t){var e=$('<div type="text" id="text_shown" readonly="readonly"></div>');return e.text(t),e}function text_box(t){var e=$('<div id="text_shown" style="width:auto;"></div>');return e.text(t),e}function show_error(t){var e="Error:\n\n"+t+"\n"+JSON.stringify(t.stack);show_main_modal(text_box(e)),errors_list.push("client error: "+JSON.stringify(t))}function bind_dropdown_submenus(){$(".dropdown-submenu").unbind("mouseover"),$(".dropdown-submenu").siblings().unbind("mouseover"),$(".dropdown-submenu").mouseover(function(t){$(this).children(".dropdown-menu").css("display","block")}),$(".dropdown-submenu").siblings().mouseover(function(t){$(this).siblings(".dropdown-submenu").find(".dropdown-menu").css("display","none")})}function getParameterByName(t){t=t.replace(/[\[]/,"\\[").replace(/[\]]/,"\\]");var e=new RegExp("[\\?&]"+t+"=([^&#]*)"),i=e.exec(location.search);return null===i?"":decodeURIComponent(i[1].replace(/\+/g," "))}function get_csv_data(t){var e,i,n=[],s=t.split("\n"),o=0;for(e in s)i=s[e].split(","),n.push(i),i.length>o&&(o=i.length);for(e in n)for(i=n[e];i.length<o;)i.push("");return n}function set_spreadsheet_data(t,e,i,n){var s;i||(i=function(t,e){}),s=n&&n.read_only?function(t,e,i){return{readOnly:!0}}:function(t,e,i){return{}},t.handsontable({contextMenu:!0,data:e,rowHeaders:!0,colHeaders:!0,manualColumnResize:!0,startRows:100,startCols:100,cells:s,onChange:i})}function make_button(t,e){var i=t.icon||"",n=t.text||"",s=t.classes||"",o=t.attrs||{},a=$("<li>").addClass(s).append($("<a>").append($("<i>").addClass(i),t.withText?" "+t.text:"")).attr(o);if(e&&a.css("width",e),n){if(t.hotkey){var r=Managers[t.hotkey[0]].hotkey_mapping[t.hotkey[1]];r&&("string"==typeof r&&(r=[r]),n+='<br/><span class="tooltip-subtitle">'+r.join(", ")+"</span>")}a.tooltip({animation:!0,html:!0,placement:"bottom",title:n})}return t.withSeparator&&a.addClass("with-separator"),t.click&&a.click(t.click),a}function update_buttons(t,e,i){t.empty();for(var n=0;n<e.length;n++)make_button(e[n],i).appendTo(t)}function ensure_valid_location(t){return $.trim(t)}function get_name(t){var e=t.split("/").pop();return e}function get_extension(t){if(t.indexOf(".")<0)return"";var e=t.split(".").slice(-2).join(".");return["tar.gz","tar.bz2"].indexOf(e)>=0?e:t.split(".").slice(-1)[0]}function formatBytes(t){for(var e,i=["B","KB","MB","GB","TB"],n=t,s=0;n>=1e3&&4>s;s++)n/=1e3;return e=0===s?n:n.toFixed(2),e+" "+i[s]}function logEvent(t){terminal_log.events.push(t);for(var e in terminal_log.listeners)terminal_log.listeners[e](t,terminal_log.events,terminal_log.events.length)}function scale_and_preserve_aspect_ratio(t,e,i,n){var s=e.height(),o=e.width(),a=Math.min(s/n,o/i),r=i*a,l=n*a;t.width(r),t.height(l),t.css("margin-top",(s-l)/2),t.css("margin-left",(o-r)/2)}function get_random_string(t){var e="0123456789ABCDEFGHIJKLMNOPQRSTUVWXTZabcdefghiklmnopqrstuvwxyz";t=t?t:32;for(var i="",n=0;t>n;n++){var s=Math.floor(Math.random()*e.length);i+=e.substring(s,s+1)}return i}function get_file(t,e,i){var n=get_file_url(t);void 0===i&&(i="text"),$.ajax({url:n,type:"GET",dataType:i,success:e})}function get_file_url(t){for(;t&&"/"===t[0];)t=t.slice(1);return server_url+_SERVE_FILES_PATH+"/"+t}function get_download_url(t){for(;t&&"/"===t[0];)t=t.slice(1);return server_url+"/file_download/"+t}function checkVersion(){getVersions().done(function(t,e){if(t===e)setTimeout(checkVersion,versionSyncTimeout);else{console.info("Server version mismatch (local: %s, global: %s)",t,e);var i="A newer version of the server is available. Update now?";confirm_modal(null,i,function(t){t?updateVersion(e,function(t){t?setTimeout(checkVersion,versionSyncTimeout):setInterval(getGlobalVersion,versionSyncTimeout)}):setInterval(getGlobalVersion,versionSyncTimeout)})}}).fail(function(){setTimeout(checkVersion,versionSyncTimeout)})}function updateVersion(t,e){function i(){o++>150&&(clearInterval(r),a(!1)),getLocalVersion(1).done(function(e){e===t&&(clearInterval(r),a(!0))})}var n="/CL/readonly/cloudlabs/latest/ttyjs/node_modules/pty.js/src/unix/ptyclient fork nohup /CL/readonly/cloudlabs/latest/container_scripts/container_update.sh",s={type:"execshell",cmd:n};get_socket("meta").emit("message",s);var o=0,a=_.once(function(t){if(hide_main_modal(),t){var i="Updated server. You may need to refresh the page for compatibility. Refresh now?";confirm_modal(null,i,function(i){i&&window.location.reload(),e(t)})}else show_main_modal(text_box("Failed to update server. Restart your terminal to update at a later time.")),e(t)});show_main_modal(text_box("Updating server: this should take less than a minute..."),!0);var r=setInterval(i,500)}function getVersions(t){return $.when(getLocalVersion(t),getGlobalVersion())}function getLocalVersion(t){function e(t){i().done(function(t){n.resolve(t)}).fail(function(i){t-=1,0>=t?n.reject(i):setTimeout(function(){e(t)},500)})}function i(){return $.ajax({type:"GET",cache:!1,url:"/info",converters:{"text json":function(t){return $.parseJSON(t).version}}})}var n=$.Deferred();return e(t||5),n}function getGlobalVersion(){var t=$.Deferred();return $.get("/version").done(function(e){t.resolve(e)}).fail(function(e){t.reject(e)}),t}function handle_socket_message(t){if(null===t)return void console.log("Received null socket message",t);if(message_queueing===!0)return void message_queue.enqueue(t);if("callback"===t.type){var e=socket_cb_table[t.id];return void(e&&(e.apply(e,t.arguments),delete socket_cb_table[t.id]))}if("file_message"===t.type)return message_queueing=t.sync_matters,void get_file("/local/"+t.id+".json",function(t){for(message_queueing=!1,handle_socket_message(t);!message_queue.isEmpty()&&!message_queueing;)t=message_queue.dequeue(),handle_socket_message(t)},"json");var i,n;if(t.to)n=t.to.indexOf(".")>=0?t.to.split(".")[0]:t.to,(i=socket_message_handlers[n])(t);else for(n in socket_message_handlers)(i=socket_message_handlers[n])(t)}function joinMember(t){if(!socket_members[t].joined&&actual_socket){actual_socket.emit("join",{memberName:t}),socket_members[t].joined=!0;for(var e in socket_members[t].emit_queue){var i=socket_members[t].emit_queue[e];actual_socket.emit(i[0],i[1])}socket_members[t].emit_queue=[]}}function unjoin_member(t){socket_members[t].joined=!1}function initialize_actual_socket(){actual_socket=io.connect(server_url+"/ipc",{"force new connection":!0,reconnect:!0,"reconnection delay":500,"max reconnection attempts":10});var t=5e3,e=null;actual_socket.on("connect",function(){$("#reconnect_modal").modal("hide");for(var t in socket_members)isMemberAllowed(socket_members[t].base,joinMember.bind(null,t));clearTimeout(e)}),actual_socket.on("disconnect",function(){e=setTimeout(function(){$("#reconnect_modal").modal("show")},t);for(var i in socket_members)unjoin_member(i)}),actual_socket.on("message",function(t){handle_socket_message(t)})}function get_actual_socket(){return actual_socket}function isMemberAllowed(t,e){var i=["meta","html","editor","files","graph"];return getLocalVersion().done(function(n){n.split(".")[1]>=1||"dev"===n?e():-1!==i.indexOf(t)?e():console.info("Refusing socket for plugin: %o",t)})}function get_socket(t){if(sockets[t])return sockets[t];var e=t+"."+client_id;socket_members[e]={base:t,joined:!1,emit_queue:[]};var i={emit:function(t,i,n){if(n){var s=uuid.v4();socket_cb_table[s]=n,i.cb=s}i.from||(i.from=e),i.to||(i.to="computer");var o=socket_members[e];o.joined?(0!==o.emit_queue.length&&console.log("member joined, but emit queue non-empty?"),actual_socket.emit(t,i)):o.emit_queue.push([t,i])},on:function(e,i){"message"===e?socket_message_handlers[t]=i:console.log("Don't know what to do with registering of: ",e)}};return sockets[t]=i,isMemberAllowed(t,joinMember.bind(null,e)),i}function HotkeyManager(){this.hotkeys={},this.specialKeys={8:"backspace",9:"tab",10:"return",13:"return",19:"pause",20:"capslock",27:"esc",32:"space",33:"pageup",34:"pagedown",35:"end",36:"home",37:"left",38:"up",39:"right",40:"down",45:"insert",46:"del",96:"0",97:"1",98:"2",99:"3",100:"4",101:"5",102:"6",103:"7",104:"8",105:"9",106:"*",107:"+",109:"-",110:".",111:"/",112:"f1",113:"f2",114:"f3",115:"f4",116:"f5",117:"f6",118:"f7",119:"f8",120:"f9",121:"f10",122:"f11",123:"f12",144:"numlock",145:"scroll",186:";",187:"=",188:",",189:"-",190:".",191:"/",192:"`",219:"[",220:"\\",221:"]",222:"'"},this.shiftNums={"`":"~",1:"!",2:"@",3:"#",4:"$",5:"%",6:"^",7:"&",8:"*",9:"(",0:")","-":"_","=":"+",";":":","'":'"',",":"<",".":">","/":"?","\\":"|"}}function PanelManager(t,e){e=$(e),e.addClass("panel"),this.panel=e,this.panel_id=e.attr("id"),this.name=t,this.hotkey_mapping={},Managers[t]?console.error("Panel is already registered with name "+t):Managers[t]=this;var i=this;e.click(function(){i.focus()}),this.hotkeys=new HotkeyManager,this.maximize_icon=$("<i>").addClass("fa fa-fw fa-expand").css("float","right").click(function(t){return t.preventDefault(),i.toggle_maximize(),!1});var n=$("<li>").addClass("panel_dock unselectable").hide().append($("<a>").text(t).append(this.maximize_icon)).appendTo($("#top_bar_views_list")).click(function(t){return t.preventDefault(),i.toggle(),i.focus(),!1});this.dock=n,this.showing=!1,this.opened=!1,this.maximized=!1}function Upload(t,e){return this.callback=e,this.checksum=CryptoJS.algo.SHA1.create(),this.file=t,this.size=t.size,this.uid=t.uid,this.upload_path=t.upload_path,this.name=this.file.path||this.file.webkitRelativePath||this.file.name,this.file.slice=t.slice||t.webkitSlice||t.mozSlice,this.url="/upload?upload_uid="+this.uid+"&upload_path="+encodeURIComponent(this.upload_path),this.errorCount=0,this.currentChunk=1,this.chunk_size=768e3,this.chunkRange=0==this.size?[0,0]:getChunks(this.size,this.chunk_size),this.range_start=this.chunkRange[0],this.range_end=this.chunkRange[1],this.updateStats(),this.begin()}function clientProgress(t){if(t.lengthComputable){Math.round(100*t.loaded/t.total),uploads[this.uid]}}function chunkComplete(t){var e=JSON.parse(t.target.responseText),i=uploads[this.upload.uid];if(i){switch(e.status){case"success":i.errorCount=0,i["continue"](e["file-hash"]);break;case"failure":console.log("Hash mismatch in file:",i.name,", on chunk",e.chunkNumber,"of",e.expectedChunks,". ","Trying",10-i.errorCount,"more time(s)."),i.errorCount++,i.errorCount>9?(uploadFailed(i),console.log("Hash mismatch in file:",i.name,",","on chunk",e.chunkNumber,"/",e.expectedChunks+",","10 consecutive times. Cancelling upload.")):i._upload(e.chunkNumber);break;case"error":uploadFailed(i)}return i.updateStats()}}function uploadFailed(t){var e=document.getElementById(t.uid+"-row"),i=document.getElementById("upload_alerts");return t.is_cancelled=!0,i.innerHTML+=alertTemplate(t.name?t.name:"","danger","experienced an error while trying to upload."),e?e.parentNode.removeChild(e):!1}function uploadCanceled(t){var e=document.getElementById(this.upload.uid+"-row"),i=document.getElementById("upload_alerts");return this.is_cancelled=!0,i.innerHTML+=alertTemplate(this.file.name,"warning","has been canceled or your browser has dropped the connection."),e.parentNode.removeChild(e)}function getChunks(t,e){for(var i=[],n=Math.floor(t/e),s=0;n>=s;s++)i.push(s*e);return t/e%1&&i.push(t),i}function formatBytes(t){var e=["B","KB","MB","GB","TB"],n=t;for(i=0;n>=1e3&&i<4;i++)n/=1e3;return n.toFixed(2)+" "+e[i]}function pause(t){var e=t.getAttribute("id").replace("-pause","");uploads[e].pause()}function resume(t){var e=t.getAttribute("id").replace("-resume","");uploads[e].resume()}function cancel(t){var e=t.getAttribute("id").replace("-cancel","");uploads[e].cancel("warning","has been canceled.")}function dragenter(t){t.preventDefault()}function dragleave(t){t.stopPropagation(),t.preventDefault()}function drop(t){t.stopPropagation(),t.preventDefault(),~window.navigator.userAgent.indexOf("Chrome")?handleSelectedFolders(t.dataTransfer.items):handleSelectedFiles(t.dataTransfer.files)}function handleSelectedFiles(t,e){if(0!==t.length){if(t.length)for(var i=0;i<t.length;i++)startUploading(t[i]);else e!=="/"+t.name&&(t.path=e),startUploading(t);return!1}}function handleSelectedFolders(t){for(var e=t.length,i=0;e>i;i++){var n=t[i].webkitGetAsEntry();findFiles(n)}}function parseDirectory(t){var e=t.createReader();e.readEntries(function(t){for(var e=0;e<t.length;e++)findFiles(t[e])},errorHandler)}function findFiles(t){t.isFile?t.file(function(e){handleSelectedFiles(e,t.fullPath)},errorHandler):t.isDirectory&&parseDirectory(t)}function startUploading(t){if("."!=t.name){t.uid=uuid(),t.upload_path=FilesManager.getCurDir()+"/";var e=document.createElement("div");e.id=t.uid+"-row",uploadList.appendChild(e),q.push(t,function(t){})}}function errorHandler(t){if(t)throw t}function initialTemplate(t,e,i,n){return'      <div class="actions">        <span class="filename">{name}</span> &middot;        <a href="#" id="{uid}-pause" onclick="pause(this)">Pause</a>        <a href="#" id="{uid}-resume" style="display: none;" onclick="resume(this)">Resume</a> &middot;        <a href="#" id="{uid}-cancel" onclick="cancel(this)">Cancel</a>      </div>      <div class="progressbar">        <div class="progress progress-striped active">          <div id="{uid}-pbar" class="progress-bar" style="width: {percent}%">            <span class="sr-only">{percent}% Complete</span>          </div>        </div>      </div>'.supplant({uid:t,name:e,size:i,percent:n})}function alertTemplate(t,e,i){return'<div class="alert alert-{status} alert-dismissable">            <button type="button" class="close" data-dismiss="alert" aria-hidden="true">&times;</button>            <strong>{name}</strong> upload {outcome}        </div>'.supplant({name:t,status:e,outcome:i})}function fix_octave_array(t){return t?void 0===t.length?[t]:t:[]}function flatten_octave_array(t){for(var t=fix_octave_array(t),e=0;e<t.length;e++)t[e]&&1==t[e].length&&(t[e]=t[e][0]);return t}function octave_to_rgbColor(t){return"rgb("+t.map(function(t){return Math.round(256*t)}).join(",")+")"}function AxisImageDrawable(t,e,i,n,s){return this.image=t,this.xmin=e,this.ymin=i,this.xmax=n,this.ymax=s,this.draw=function(t,e,i,n){t.drawImage(this.image,this.xmin,this.ymin,this.xmax-this.xmin,this.ymax-this.ymin)},this}function ImageDrawable(t,e,i,n,s){return this.image=t,this.xmin=e,this.ymin=i,this.xmax=n,this.ymax=s,this.draw=function(t,e,i,n){t.drawImage(this.image,e(this.xmin),i(this.ymax),e(this.xmax)-e(this.xmin),i(this.ymin)-i(this.ymax))},this}function RectangleDrawable(t,e,i,n,s){return this.x=t,this.y=e,this.w=i,this.h=n,this.options=s,this.draw=function(t,e,i,n){t.strokeStyle="#000",t.rect(e(this.x),i(this.y),e(this.x+this.w)-e(this.x),i(this.y+this.h)-i(this.y)),t.stroke()},this}function MatImageDrawable(t){return this.options=t,this.draw=function(e,i,n,s){var o=t.m,a=t.n;t.XData.length||(t.XData=[t.XData]),t.YData.length||(t.YData=[t.YData]);for(var r,l=1==t.XData.length?1:(t.XData[1]-t.XData[0])/o,c=1==t.YData.length?1:(t.YData[1]-t.YData[0])/a,h=t.XData[0],u=t.YData[0],d=h-.5*l,p=0;o>p;p++){r=d,d=r+l;for(var f,m=u-.5*c,g=0;a>g;g++)f=m,m=f+c,e.beginPath(),e.fillStyle=octave_to_rgbColor([t.r[p*a+g],t.g[p*a+g],t.b[p*a+g]]),e.rect(i(r)-1,n(f)-1,i(d)-i(r)+2,n(m)-n(f)+2),e.fill()}},this}function TextDrawable(t){this.options=t,this.draw=function(t,e,i,n){t.save(),t.font=this.options.FontSize+"pt "+this.options.FontName,t.fillStyle=octave_to_rgbColor(this.options.Color),t.textAlign=this.options.HorizontalAlignment;var s={top:"top",cap:"top",middle:"middle",baseline:"bottom",bottom:"bottom"};t.textBaseline=s[this.options.VerticalAlignment]||"middle",t.translate(e(this.options.Position[0]),i(this.options.Position[1])),t.rotate(this.options.Rotation*Math.PI/180),t.fillText(this.options.String,0,0),t.restore()}}function PatchDrawable(t){this.options=t;var e=flatten_octave_array(this.options.XData),i=flatten_octave_array(this.options.YData),n=e.length;this.x=[],this.y=[];for(var s=0;n>s;s++)null!==e[s]&&null!==i[s]&&(this.x.push(e[s]),this.y.push(i[s]));this.x=flatten_octave_array(this.options.XData),this.y=flatten_octave_array(this.options.YData),this.draw=function(t,e,i,n){t.beginPath();var s=(this.x.length,this.x.map(function(t){return e(t)})),o=this.y.map(function(t){return i(t)});t.styledLine(s,o,this.options.LineStyle)}}function LineDrawable(t,e,i){return this.x=fix_octave_array(t),this.y=fix_octave_array(e),void 0===i.Color&&(i.Color=[0,0,0]),void 0===i.LineStyle&&(i.LineStyle="-"),void 0===i.LineWidth&&(i.LineWidth=.5),void 0===i.Marker&&(i.Marker="none"),void 0===i.MarkerEdgeColor&&(i.MarkerEdgeColor="auto"),void 0===i.MarkerFaceColor&&(i.MarkerFaceColor="none"),void 0===i.MarkerSize&&(i.MarkerSize=6),"auto"==i.MarkerEdgeColor&&(i.MarkerEdgeColor=i.Color),"auto"==i.MarkerFaceColor&&(i.MarkerFaceColor=i.Color),this.options=i,this.draw=function(t,e,i,n){t.lineCap="butt",t.lineWidth=this.options.LineWidth,t.strokeStyle=octave_to_rgbColor(this.options.Color);var s=this.x.map(function(t){return e(t)}),o=this.y.map(function(t){return i(t)});if(t.styledLine(s,o,this.options.LineStyle),t.stroke(),"none"!==this.options.MarkerEdgeColor&&(t.strokeStyle=octave_to_rgbColor(this.options.MarkerEdgeColor)),"none"!==this.options.MarkerFaceColor&&(t.fillStyle=octave_to_rgbColor(this.options.MarkerFaceColor)),"none"!==this.options.Marker)for(var a=0;a<s.length;a++)null!==s[a]&&null!==o[a]&&(t.drawMarker(this.options.Marker,s[a],o[a],this.options.MarkerSize),"none"!==this.options.MarkerEdgeColor&&t.stroke(),"none"!==this.options.MarkerFaceColor&&t.fill(),"."==this.options.Marker&&(t.fillStyle=t.strokeStyle,t.fill()))},this}function AxisTextDrawable(t,e,i,n,s){this.x=e,this.y=i,this.text=t,this.rotation=n,this.draw=function(t,e,i,n){t.save(),t.textAlign="center",t.translate(this.x,this.y),t.rotate(this.rotation),t.fillText(this.text,0,0),t.restore()}}function AxisDrawable(t){this.options=t,this.draw=function(t,e,i,n){t.lineWidth=this.options.axesLineWidth,t.lineCap="square",t.strokeStyle="#000",t.beginPath();var s=this.options.margin_left-this.options.axesLineWidth/2,o=n.width-this.options.margin_right+this.options.axesLineWidth/2,a=n.height-this.options.margin_bot+this.options.axesLineWidth/2,r=this.options.margin_top-this.options.axesLineWidth/2;t.moveTo(s,r),t.lineTo(s,a),t.lineTo(o,a),t.stroke()}}function TicksDrawable(t,e,i){this.direction=t&&"y"!==t?"x":"y",this.ticks=fix_octave_array(e),this.tickLength=i.tickLength||10,this.tickWidth=i.tickWidth||1,this.tickColor="#000",this.gridWidth=i.gridWidth||1,this.gridColor="#DDD",this.options=i,this.fitNumberStringToWidth=function(t,e,i){var n=t.measureText(e).width;if(n>i){var s=parseFloat(e);if(0==s)return console.log("num was 0??"),"0";for(var o=s+"",a=Math.floor(Math.log(Math.abs(s))/Math.log(10)),r=s/Math.pow(10,a),l=r+"e"+a,e=l.length<o.length?l:o,n=t.measureText(e).width,c=0;n>i;){if(c++,100==c){console.log("HUNDRED ITERS",s,r,a);break}var r=r+"";if(1==r.length)break;"."==r[r.length-1]&&(r=r.slice(0,-1)),r=parseFloat(r.slice(0,-1)+"0")+"";var l=r+"e"+a,o=parseFloat(l)+"",e=l.length<o.length?l:o;n=t.measureText(e).width}}return e},this.draw=function(t,e,i,n){if(t.lineWidth=this.tickWidth,t.strokeStyle=this.tickColor,t.beginPath(),t.lineCap="square",t.font="10pt Arial",t.fillStyle="#000",!this.ticks)return void console.log("NO TICKS?",this.ticks);if("x"==this.direction){var s=this.options.XTickLabelWidth;t.textAlign="center";for(var o=0;o<this.ticks.length;o++){var a=this.ticks[o],r=this.fitNumberStringToWidth(t,a+"",s),l=e(a);l<n.width-this.options.margin_right&&l>this.options.margin_left&&(t.moveTo(l,n.height-this.options.margin_bot),t.lineTo(l,n.height-this.options.margin_bot-this.tickLength),t.fillText(r,l,n.height-this.options.margin_bot+this.options.XTickLabelHeight,s))}}else{var c=5,s=this.options.YTickLabelWidth-c;t.textAlign="right",t.textBaseline="middle";for(var o=0;o<this.ticks.length;o++){var a=this.ticks[o],r=this.fitNumberStringToWidth(t,a+"",s),h=i(a);h<n.height-this.options.margin_bot&&h>this.options.margin_top&&(t.moveTo(this.options.margin_left,h),t.lineTo(this.options.margin_left+this.tickLength,h),t.fillText(r,this.options.margin_left-c,h,s))}}if(t.closePath(),t.stroke(),t.lineWidth=this.gridWidth,t.strokeStyle=this.gridColor,t.beginPath(),t.lineCap="square","x"==this.direction){if("on"==this.options.XGrid)for(var o=0;o<this.ticks.length;o++){var a=this.ticks[o],l=e(a);l<n.width-this.options.margin_right&&l>this.options.margin_left&&(t.moveTo(l,n.height-this.options.margin_bot),t.lineTo(l,this.options.margin_top))}}else if("on"==this.options.YGrid)for(var o=0;o<this.ticks.length;o++){var a=this.ticks[o],h=i(a);h<n.height-this.options.margin_bot&&h>this.options.margin_top&&(t.moveTo(this.options.margin_left,h),t.lineTo(n.width-this.options.margin_right,h))}t.closePath(),t.stroke()}}function canvasAxisPlotter(t,e,i,n){function s(t,e,i){t==e&&(t-=1,e-=1);var n=100,s=i/n,o=(e-t)/s,a=Math.floor(Math.log(o)/Math.log(10)),r=o/Math.pow(10,a);2>r?r=1:5>r?r=2:10>r?r=5:console.log("unexpected amount:",r,t,e,o,a);var l=r*Math.pow(10,a),c=Math.floor(t/l),h=Math.ceil(e/l);if(Math.abs(c)+Math.abs(h)>1e16)return console.log("integers too big",c,h),[l*c,l*h];for(var u=[],d=c;h>=d;d++){var p=(r*d).toFixed(0)+"e"+a,f=a>0?0:-a,m=(r*d*Math.pow(10,a)).toFixed(f),g=p.length<m.length?p:m;0==d&&(g="0"),u.push(g)}var v=0;return[u,v]}function o(t,e){w+=t,x+=e,k.update_limits()}function a(){D++}function r(t){var e=k.tile_cache[t];e?e.callback?(e.callback(),k.deleted||P.push(e.options),delete e.callback):e.status!==S&&k.error("Tried to unqueue a request that wasnt done"):(k.log("caller is "+arguments.callee.caller.toString().slice(0,40)),k.log("unqueueing non-existent request?",t))}function l(t){var e=t.offsetX||t.clientX-$(t.target).offset().left+window.pageXOffset,i=t.offsetY||t.clientY-$(t.target).offset().top+window.pageYOffset;return{X:e,Y:i}}function c(t){var e=l(t);R=e.X,O=e.Y;var i=e.X,n=e.Y;$(v).mousemove(function(t){var e=l(t),s=e.X-i,a=e.Y-n;if(i=e.X,n=e.Y,"pan"==k.mode)o(s,a),k.redraw({});else if("zoom_in"==k.mode){var r=Math.min(k.rx(R),k.rx(i)),c=Math.max(k.rx(R),k.rx(i)),h=Math.min(k.ry(O),k.ry(n)),u=Math.max(k.ry(O),k.ry(n));C=new RectangleDrawable(r,h,c-r,u-h,{}),k.redraw_axis_layer()}})}function h(t){if(null!==R){$(v).off("mousemove");var e=l(t),i=e.X,n=e.Y;"zoom_in"==k.mode?null!==C&&(C=null,R!=i&&O!=n&&(k.xmin=Math.min(k.rx(R),k.rx(i)),k.xmax=Math.max(k.rx(R),k.rx(i)),k.ymin=Math.min(k.ry(O),k.ry(n)),k.ymax=Math.max(k.ry(O),k.ry(n)),k.update_transform(),k.redraw({}))):"zoom_out"==k.mode,R=null,O=null}}var u=2,d=1;n.is_legend&&(u+=10,d+=10);var p=$("<canvas>").addClass("new_plot_canvas");n.is_legend?p.addClass("axis_legend"):p.addClass("axis_not_legend"),p.css("z-index",u),e.append(p),p=p[0];var f=p.getContext("2d");n.is_legend?p.style.border=1:p.style.border=0;var m=$("<canvas>").addClass("new_plot_canvas").addClass("not_axis").css("z-index",d);e.append(m),m=m[0];var g=m.getContext("2d");m.style.border=0;var v=p;this.options={};for(var y in n)this.options[y]=n[y];"normal"!==n.XDir&&"reverse"!==n.XDir&&(this.error("why is there no valid Xdir? "+n.XDir),this.options.XDir="normal"),"normal"!==n.YDir&&"reverse"!==n.YDir&&(this.error("why is there no valid Ydir? "+n.YDir),this.options.YDir="normal"),"linear"!==n.XScale&&"log"!==n.XScale&&(this.error("why is there no valid XScale? "+n.XScale),this.options.XScale="linear"),"linear"!==n.YScale&&"log"!==n.YScale&&(this.error("why is there no valid YScale? "+n.YScale),this.options.YScale="linear"),this.options.XLabelHeight=30,this.options.YLabelWidth=30,this.options.TitleHeight=50,this.options.YTickLabelWidth=50,this.options.XTickLabelHeight=15,this.options.XTickLabelWidth=50,this.options.margin_left=this.options.YTickLabelWidth+(this.options.YLabel?this.options.YLabelWidth:0),this.options.margin_bot=this.options.XTickLabelHeight+(this.options.XLabel?this.options.XLabelHeight:0),this.options.margin_right=5,this.options.margin_top=5+(this.options.Title?this.options.TitleHeight:0),this.options.tickLength=n.tickLength||10,this.options.axesLineWidth=n.axesLineWidth||2,this.mode=void 0!==n.mode?n.mode:"zoom_in",n.is_legend&&(this.mode="never"),3==n.ndims&&(this.mode="never"),"log"==n.XScale||"log"==n.YScale,n.is_legend&&(this.options.margin_left=0,this.options.margin_right=0,this.options.margin_bot=0,this.options.margin_top=0),this.set_mode=function(t){"never"!=this.mode&&(this.mode=t,"zoom_in"==t||"zoom_out"==t||("pan"==t?this.options.local_plotting||P.push({one_to_cover:!1,prefetch_pan:!0}):"never"==t||this.error("Canvas axis plotter,  Unknown mode: "+t)))},this.set_mode(this.mode),this.handle=this.options.handle,this.xmin=this.options.XLim[0],this.xmax=this.options.XLim[1],this.ymin=this.options.YLim[0],this.ymax=this.options.YLim[1];var b,_,w,x,k=this;this.tile_cache={},this.global_cache=i,this.log=function(){},this.error=function(t){console.log(t)},this.assert=function(t,e){t||this.error(e)};var C=null;this.update_transform=function(){var t,e,i,n;"normal"==this.options.XDir?(t=this.xmin,e=this.xmax):(t=this.xmax,e=this.xmin),"normal"==this.options.YDir?(i=this.ymin,n=this.ymax):(i=this.ymax,n=this.ymin),b=(this.canvas_w-this.options.margin_left-this.options.margin_right)/(e-t),_=(this.canvas_h-this.options.margin_bot-this.options.margin_top)/(i-n),w=-b*t+this.options.margin_left,x=-_*n+this.options.margin_top},this.update_limits=function(){var t=(w-this.options.margin_left)/-b,e=(this.canvas_w-this.options.margin_left-this.options.margin_right)/b+t,i=(x-this.options.margin_top)/-_,n=(this.canvas_h-this.options.margin_bot-this.options.margin_top)/_+i;"normal"==this.options.XDir?(this.xmin=t,this.xmax=e):(this.xmin=e,this.xmax=t),"normal"==this.options.YDir?(this.ymin=n,this.ymax=i):(this.ymin=i,this.ymax=n)},this.canvas_w=null,this.canvas_h=null,this.resize=function(){m.width=m.clientWidth,m.height=m.clientHeight,p.width=m.clientWidth,p.height=m.clientHeight,this.canvas_w=m.clientWidth,this.canvas_h=m.clientHeight,this.update_transform()},this.resize(),this.tx=function(t){return null===t?null:b*t+w},this.ty=function(t){return null===t?null:_*t+x},this.rx=function(t){return(t-w)/b},this.ry=function(t){return(t-x)/_},this.getHash=function(t){return this.handle+","+t.join(",")},this.draw_item=function(t,e){I&&(I(),I=null),void 0===e&&(e=!0),g.save(),e&&(g.beginPath(),g.rect(this.options.margin_left,this.options.margin_top,m.width-this.options.margin_left-this.options.margin_right,m.height-this.options.margin_bot-this.options.margin_top),g.clip(),g.closePath()),g.beginPath(),H&&(H=null),t.draw(g,this.tx,this.ty,m),g.closePath(),e&&g.restore()},this.draw_items=function(t,e){t.forEach(function(t){k.draw_item(t,e)})},this.tileFetched=function(t){if("fetch_plot_tile"==t.passback.type)var e=[t.xi,t.xp,t.yi,t.yp,t.W,t.H],i=this.getHash(e),n=t.xi*Math.pow(2,t.xp-1),s=(t.xi+2)*Math.pow(2,t.xp-1),o=t.yi*Math.pow(2,t.yp-1),a=(t.yi+2)*Math.pow(2,t.yp-1);else var i=k.handle+","+t.W+","+t.H;if(!k.tile_cache[i]||!k.tile_cache[i].id||k.tile_cache[i].id!=t.passback.id){if(k.tile_cache[i])var l=k.tile_cache[i].id;else var l="missing!";return void this.error("Wrong passback? probably from different client.  "+t.passback.id+" "+l)}var c=Date.now();k.log("ID",t.passback.id,"SEND TIME",k.tile_cache[i].time,"RECEIVE TIME",c,"DIFF",c-k.tile_cache[i].time);var h=k.tile_cache[i],u=h.draw_on_return&&h.version==D;r(i);var d=[];if(t.md5 in k.global_cache)return d=k.global_cache[t.md5],k.tile_cache[i]={status:S,drawables:d},void(u&&k.draw_items(d));if(k.tile_cache[i]||(k.tile_cache[i]={status:T,time:Date.now()}),k.tile_cache[i].status==S&&k.log("WAS ALREADY DONE??"),t.result.xs){var p=new LineDrawable(t.result.xs,t.result.ys);d.push(p),k.draw_item(p)}if(t.result.image){var f=new Image;f.onload=function(){if(k.log("ID",t.passback.id,"LOAD TIME",Date.now()),"fetch_plot_tile"==t.passback.type){var e=new ImageDrawable(f,n,o,s,a);u&&k.draw_item(e)}else{var e=new AxisImageDrawable(f,0,0,k.canvas_w,k.canvas_h);u&&k.draw_item(e,!1)}d.push(e)},f.src=t.result.image,f.src="//"+document.domain+t.result.image}k.tile_cache[i].drawables=d,k.tile_cache[i].status=S,
k.global_cache[t.md5]=d},this.try_drawing_tile=function(t){var e=this.getHash(t),i=this.tile_cache[e],n=i&&i.status==S;return n&&this.draw_items(i.drawables),n},this.try_drawing_tiles=function(t){t.forEach(function(t){k.try_drawing_tile(t)})};var T="fetching",S="done",D=0,M=2,E=uuid.v1(),P=async.queue(function(e,i){if(e.full_static)var n=k.canvas_w,s=k.canvas_h,o=k.handle+","+n+","+s,a={type:"fetch_plot_full",to:"computer",from:"plot",client_id:client_id,handle:k.handle,W:n,H:s,hash:o,passback:{is_prefetch:h,version:D,id:E,type:"fetch_plot_full"},counter:D};else{var l=k.get_tile_to_fetch(e),c=l[0],h=l[1];if(!c)return k.log("no tile!"),i();var n=c[4],s=c[5];if(!(n>0&&s>0))return k.log("WIDTH OR HEIGHT WAS ZERO",n,s),i();var o=k.getHash(c),a={type:"fetch_plot_tile",to:"computer",from:"plot",client_id:client_id,handle:k.handle,xi:c[0],xp:c[1],yi:c[2],yp:c[3],W:n,H:s,hash:o,passback:{is_prefetch:h,version:D,id:E,type:"fetch_plot_tile"},counter:D}}if(a){k.log("FETCHING NOW",JSON.stringify(a)),k.log("setting id",o,E);var u=k.tile_cache[o];if(u&&u.status==S)return k.log("WAS ALREADY DONE"),e.full_static&&(u.drawables&&u.drawables.length?(k.log("drawing full static",n,s,u.drawables),k.draw_items(u.drawables,!1)):k.log("WEIRD!! DONE BUT NO DRAWABLES?")),i();k.tile_cache[o]={status:T,time:Date.now(),callback:i,options:e,draw_on_return:!h,version:D,id:E},t.emit("message",a);var d=1e4;setTimeout(function(){k.tile_cache[o].id==E&&r(o)},d)}},M);if(this.should_fetch_now=function(t){var e=this.getHash(t),i=this.tile_cache[e],n=Date.now();return void 0===i||i.status==T&&i.time<n-1e3},this.update_fetch_style=function(t){var e=this.getHash(t),i=this.tile_cache[e];i&&i.status==T&&(i.version=D,i.draw_on_return=!0)},this.update_fetch_styles=function(t){t.forEach(function(t){k.update_fetch_style(t)})},this.redraw_axis_layer=function(){if(2==k.options.ndims){f.clearRect(0,0,this.canvas_w,this.canvas_h);var t=new AxisDrawable(this.options);if(t.draw(f,this.tx,this.ty,p),"auto"==this.options.XTickMode){var e=s(this.xmin,this.xmax,this.canvas_w-this.options.margin_left-this.options.margin_right),i=e[0];e[1];n=new TicksDrawable("x",i,this.options)}else var n=new TicksDrawable("x",this.options.XTick,this.options);if("auto"==this.options.YTickMode){var e=s(this.ymin,this.ymax,this.canvas_h-this.options.margin_bot-this.options.margin_top),o=e[0];e[1];a=new TicksDrawable("y",o,this.options)}else var a=new TicksDrawable("y",this.options.YTick,this.options);if(n.draw(f,this.tx,this.ty,p),a.draw(f,this.tx,this.ty,p),this.options.Title){f.font="15pt Arial";var r=new AxisTextDrawable(this.options.Title,(this.options.margin_left+m.width-this.options.margin_right)/2,this.options.TitleHeight/2,0,this.options);r.draw(f,this.tx,this.ty,p)}if(this.options.XLabel){f.font="12pt Arial",f.textBaseline="bottom";var l=new AxisTextDrawable(this.options.XLabel,(this.options.margin_left+m.width-this.options.margin_right)/2,m.height-this.options.XLabelHeight/2,0,this.options),l=new AxisTextDrawable(this.options.XLabel,(this.options.margin_left+m.width-this.options.margin_right)/2,m.height,0,this.options);l.draw(f,this.tx,this.ty,p)}if(this.options.YLabel){f.font="12pt Arial";var c=new AxisTextDrawable(this.options.YLabel,this.options.YLabelWidth/2,(this.options.margin_top+m.height-this.options.margin_bot)/2,3*Math.PI/2,this.options);c.draw(f,this.tx,this.ty,p)}C&&C.draw(f,this.tx,this.ty,p)}},this.get_draw_region_dims=function(){var t=this.canvas_w-this.options.margin_left-this.options.margin_right,e=this.canvas_h-this.options.margin_bot-this.options.margin_top;return[t,e]},this.get_pixel_dims=function(t,e,i){void 0===i&&(i=0);var n=this.get_draw_region_dims(),s=Math.round(Math.pow(2,-i)*n[0]*t/(this.xmax-this.xmin)),o=Math.round(Math.pow(2,-i)*n[1]*e/(this.ymax-this.ymin));return[s,o]},this.get_default_powers=function(){var t=Math.ceil(Math.log(this.xmax-this.xmin)/Math.log(2)),e=Math.ceil(Math.log(this.ymax-this.ymin)/Math.log(2));return[t,e]},this.get_tiles_of_size_to_cover=function(t,e,i,n,s,o,a,r,l){void 0===o&&(o=0),void 0===r&&(r=0);var c=this.get_default_powers();if(void 0===s&&(s=c[0]),void 0===a&&(a=c[1]),0!==o||0!==r)return k.error("Currently cannot deal with non-zero offsets");for(var h=Math.pow(2,s),u=Math.pow(2,a),d=this.get_pixel_dims(h,u,l),p=d[0],f=d[1],m=Math.floor(t/h),g=Math.ceil(e/h),v=Math.floor(i/u),y=Math.ceil(n/u),b=[],_=m;g>_;_++)for(var w=v;y>w;w++)b.push([2*_,s,2*w,a,p,f]);return b},this.get_one_to_cover=function(t,e,i,n){var s=this.get_default_powers(),o=s[0]+1,a=s[1]+1,r=Math.pow(2,o),l=Math.pow(2,a),c=this.get_pixel_dims(r,l),h=c[0],u=c[1],d=Math.floor(this.xmin/Math.pow(2,o-1)),p=Math.floor(this.ymin/Math.pow(2,a-1)),f=d*Math.pow(2,o-1),m=d*Math.pow(2,o-1)+Math.pow(2,o),g=p*Math.pow(2,a-1),v=p*Math.pow(2,a-1)+Math.pow(2,a);return this.assert(t>=f,"Tile xmin, "+f+" not smaller than xmin, "+t),this.assert(m>=e,"Tile xmax, "+m+" not greater than xmax, "+e),this.assert(i>=g,"Tile ymin, "+g+" not smaller than ymin, "+i),this.assert(v>=n,"Tile ymax, "+v+" not greater than ymax, "+n),[d,o,p,a,h,u]},this.xp=null,this.yp=null,this.get_tile_to_fetch=function(t){function e(t){for(var e=0;e<t.length;e++)if(k.should_fetch_now(t[e]))return t[e];return null}if(t.one_to_cover){var i=this.get_one_to_cover(this.xmin,this.xmax,this.ymin,this.ymax);if(this.should_fetch_now(i))return[i,!1]}else{var n=this.get_tiles_of_size_to_cover(this.xmin,this.xmax,this.ymin,this.ymax),i=e(n);if(i)return[i,!1]}var s=this.xmax-this.xmin,o=this.ymax-this.ymin,a=this.get_default_powers(),r=a[0],l=a[1];if(t.prefetch_pan){var n=this.get_tiles_of_size_to_cover(this.xmin-s,this.xmax+s,this.ymin-o,this.ymax+o,r,0,l,0),i=e(n);if(i)return[i,!0]}if(t.prefetch_zoom){var c=1,n=this.get_tiles_of_size_to_cover(this.xmin-s,this.xmax+s,this.ymin-o,this.ymax+o,r+c,0,l+c,0,c),i=e(n);if(i)return[i,!0];c=-1;var n=this.get_tiles_of_size_to_cover(this.xmin-s/2,this.xmax+s/2,this.ymin-o/2,this.ymax+o/2,r+c,0,l+c,0,c),i=e(n);if(i)return[i,!0]}return[null,null]},this.try_draw_at_any_res=function(t,e,i,n){for(var s=this.get_default_powers(),o=2,a=1,r=s[0]+o,l=s[1]+o,c=this.get_tiles_of_size_to_cover(this.xmin,this.xmax,this.ymin,this.ymax,r,0,l,0,o),h=0;h<c.length;h++)this.try_draw_tile_at_any_res(c[h],o+a)},this.try_draw_tile_at_any_res=function(t,e){this.try_drawing_tile(t);if(0!=e){var i=t[0],n=t[1],s=t[2],o=t[3],a=t[4],r=t[5];this.try_draw_tile_at_any_res([2*i,n-1,2*s,o-1,a,r],e-1),this.try_draw_tile_at_any_res([2*i,n-1,2*(s+1),o-1,a,r],e-1),this.try_draw_tile_at_any_res([2*(i+1),n-1,2*s,o-1,a,r],e-1),this.try_draw_tile_at_any_res([2*(i+1),n-1,2*(s+1),o-1,a,r],e-1)}},this.options.children||(this.options.children=[]),this.options.local_plotting){this.options.children.length||(this.options.children=[this.options.children]),this.drawables=[];for(var A=0;A<this.options.children.length;A++){var N=this.options.children[A];"line"==N.Type?this.drawables.push(new LineDrawable(N.XData,N.YData,N)):"text"==N.Type?this.drawables.push(new TextDrawable(N)):"patch"==N.Type?this.drawables.push(new PatchDrawable(N)):"image"==N.Type&&this.drawables.push(new MatImageDrawable(N))}}var H=null,I=null;this.redraw=function(t){if(!this.deleted){if(this.resize(),this.canvas_w<=0||this.canvas_h<=0)return void console.log("canvas dimensions too small, not drawing",this.canvas_w,this.canvas_h);var e=function(){H=Date.now(),g.clearRect(0,0,k.canvas_w,k.canvas_h),k.options.is_legend?(g.fillStyle="#FFF",g.fillRect(0,0,k.canvas_w,k.canvas_h),g.fill()):k.redraw_axis_layer()};if(I=e,3==this.options.ndims)return void P.push({full_static:!0});if(this.options.local_plotting)return this.log("DRAWING RIGHT AWAY!"),void this.draw_items(this.drawables);t.switch_view&&a();var i=t.switch_view;if(P.push({one_to_cover:i}),k.log("REDRAWING",i),i){var n=this.get_one_to_cover(this.xmin,this.xmax,this.ymin,this.ymax);this.update_fetch_style(n),this.try_drawing_tile(n)}else{this.try_draw_at_any_res(this.xmin,this.xmax,this.ymin,this.ymax);var s=this.get_tiles_of_size_to_cover(this.xmin,this.xmax,this.ymin,this.ymax);this.update_fetch_styles(s),this.try_drawing_tiles(s)}}},$(v).dblclick(function(t){var e=(t.shiftKey,k.rx(t.pageX-$(v).offset().left)),i=k.ry(t.pageY-$(v).offset().top);if("zoom_in"==k.mode){var n=(k.xmax-k.xmin)/2,s=(k.ymax-k.ymin)/2;k.xmax=e+n/2,k.xmin=e-n/2,k.ymax=i+s/2,k.ymin=i-s/2,k.update_transform(),k.redraw({})}else if("zoom_out"==k.mode){var n=k.xmax-k.xmin,s=k.ymax-k.ymin;k.xmin=e-n,k.xmax=e+n,k.ymin=i-s,k.ymax=i+s,k.update_transform(),k.redraw({})}});var R=null,O=null;return $(document).keyup(function(t){27==t.keyCode&&(C=null,$(v).off("mousemove"),k.redraw_axis_layer())}),$(v).mousedown(c),$("body").mouseup(h),this.zooming=null,this.redraw({switch_view:!0}),this.deleted=!1,this._delete=function(){this.deleted=!0},this}var io="undefined"==typeof module?{}:module.exports;!function(){!function(t,e){var i=t;i.version="0.9.11",i.protocol=1,i.transports=[],i.j=[],i.sockets={},i.connect=function(t,n){var s,o,a=i.util.parseUri(t);e&&e.location&&(a.protocol=a.protocol||e.location.protocol.slice(0,-1),a.host=a.host||(e.document?e.document.domain:e.location.hostname),a.port=a.port||e.location.port),s=i.util.uniqueUri(a);var r={host:a.host,secure:"https"==a.protocol,port:a.port||("https"==a.protocol?443:80),query:a.query||""};return i.util.merge(r,n),!r["force new connection"]&&i.sockets[s]||(o=new i.Socket(r)),!r["force new connection"]&&o&&(i.sockets[s]=o),o=o||i.sockets[s],o.of(a.path.length>1?a.path:"")}}("object"==typeof module?module.exports:this.io={},this),function(t,e){var i=t.util={},n=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/,s=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"];i.parseUri=function(t){for(var e=n.exec(t||""),i={},o=14;o--;)i[s[o]]=e[o]||"";return i},i.uniqueUri=function(t){var i=t.protocol,n=t.host,s=t.port;return"document"in e?(n=n||document.domain,s=s||("https"==i&&"https:"!==document.location.protocol?443:document.location.port)):(n=n||"localhost",s||"https"!=i||(s=443)),(i||"http")+"://"+n+":"+(s||80)},i.query=function(t,e){var n=i.chunkQuery(t||""),s=[];i.merge(n,i.chunkQuery(e||""));for(var o in n)n.hasOwnProperty(o)&&s.push(o+"="+n[o]);return s.length?"?"+s.join("&"):""},i.chunkQuery=function(t){for(var e,i={},n=t.split("&"),s=0,o=n.length;o>s;++s)e=n[s].split("="),e[0]&&(i[e[0]]=e[1]);return i};var o=!1;i.load=function(t){return"document"in e&&"complete"===document.readyState||o?t():void i.on(e,"load",t,!1)},i.on=function(t,e,i,n){t.attachEvent?t.attachEvent("on"+e,i):t.addEventListener&&t.addEventListener(e,i,n)},i.request=function(t){if(t&&"undefined"!=typeof XDomainRequest&&!i.ua.hasCORS)return new XDomainRequest;if("undefined"!=typeof XMLHttpRequest&&(!t||i.ua.hasCORS))return new XMLHttpRequest;if(!t)try{return new(window[["Active"].concat("Object").join("X")])("Microsoft.XMLHTTP")}catch(e){}return null},"undefined"!=typeof window&&i.load(function(){o=!0}),i.defer=function(t){return i.ua.webkit&&"undefined"==typeof importScripts?void i.load(function(){setTimeout(t,100)}):t()},i.merge=function(t,e,n,s){var o,a=s||[],r="undefined"==typeof n?2:n;for(o in e)e.hasOwnProperty(o)&&i.indexOf(a,o)<0&&("object"==typeof t[o]&&r?i.merge(t[o],e[o],r-1,a):(t[o]=e[o],a.push(e[o])));return t},i.mixin=function(t,e){i.merge(t.prototype,e.prototype)},i.inherit=function(t,e){function i(){}i.prototype=e.prototype,t.prototype=new i},i.isArray=Array.isArray||function(t){return"[object Array]"===Object.prototype.toString.call(t)},i.intersect=function(t,e){for(var n=[],s=t.length>e.length?t:e,o=t.length>e.length?e:t,a=0,r=o.length;r>a;a++)~i.indexOf(s,o[a])&&n.push(o[a]);return n},i.indexOf=function(t,e,i){for(var n=t.length,i=0>i?0>i+n?0:i+n:i||0;n>i&&t[i]!==e;i++);return i>=n?-1:i},i.toArray=function(t){for(var e=[],i=0,n=t.length;n>i;i++)e.push(t[i]);return e},i.ua={},i.ua.hasCORS="undefined"!=typeof XMLHttpRequest&&function(){try{var t=new XMLHttpRequest}catch(e){return!1}return void 0!=t.withCredentials}(),i.ua.webkit="undefined"!=typeof navigator&&/webkit/i.test(navigator.userAgent),i.ua.iDevice="undefined"!=typeof navigator&&/iPad|iPhone|iPod/i.test(navigator.userAgent)}("undefined"!=typeof io?io:module.exports,this),function(t,e){function i(){}t.EventEmitter=i,i.prototype.on=function(t,i){return this.$events||(this.$events={}),this.$events[t]?e.util.isArray(this.$events[t])?this.$events[t].push(i):this.$events[t]=[this.$events[t],i]:this.$events[t]=i,this},i.prototype.addListener=i.prototype.on,i.prototype.once=function(t,e){function i(){n.removeListener(t,i),e.apply(this,arguments)}var n=this;return i.listener=e,this.on(t,i),this},i.prototype.removeListener=function(t,i){if(this.$events&&this.$events[t]){var n=this.$events[t];if(e.util.isArray(n)){for(var s=-1,o=0,a=n.length;a>o;o++)if(n[o]===i||n[o].listener&&n[o].listener===i){s=o;break}if(0>s)return this;n.splice(s,1),n.length||delete this.$events[t]}else(n===i||n.listener&&n.listener===i)&&delete this.$events[t]}return this},i.prototype.removeAllListeners=function(t){return void 0===t?(this.$events={},this):(this.$events&&this.$events[t]&&(this.$events[t]=null),this)},i.prototype.listeners=function(t){return this.$events||(this.$events={}),this.$events[t]||(this.$events[t]=[]),e.util.isArray(this.$events[t])||(this.$events[t]=[this.$events[t]]),this.$events[t]},i.prototype.emit=function(t){if(!this.$events)return!1;var i=this.$events[t];if(!i)return!1;var n=Array.prototype.slice.call(arguments,1);if("function"==typeof i)i.apply(this,n);else{if(!e.util.isArray(i))return!1;for(var s=i.slice(),o=0,a=s.length;a>o;o++)s[o].apply(this,n)}return!0}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(exports,nativeJSON){"use strict";function f(t){return 10>t?"0"+t:t}function date(t,e){return isFinite(t.valueOf())?t.getUTCFullYear()+"-"+f(t.getUTCMonth()+1)+"-"+f(t.getUTCDate())+"T"+f(t.getUTCHours())+":"+f(t.getUTCMinutes())+":"+f(t.getUTCSeconds())+"Z":null}function quote(t){return escapable.lastIndex=0,escapable.test(t)?'"'+t.replace(escapable,function(t){var e=meta[t];return"string"==typeof e?e:"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})+'"':'"'+t+'"'}function str(t,e){var i,n,s,o,a,r=gap,l=e[t];switch(l instanceof Date&&(l=date(t)),"function"==typeof rep&&(l=rep.call(e,t,l)),typeof l){case"string":return quote(l);case"number":return isFinite(l)?String(l):"null";case"boolean":case"null":return String(l);case"object":if(!l)return"null";if(gap+=indent,a=[],"[object Array]"===Object.prototype.toString.apply(l)){for(o=l.length,i=0;o>i;i+=1)a[i]=str(i,l)||"null";return s=0===a.length?"[]":gap?"[\n"+gap+a.join(",\n"+gap)+"\n"+r+"]":"["+a.join(",")+"]",gap=r,s}if(rep&&"object"==typeof rep)for(o=rep.length,i=0;o>i;i+=1)"string"==typeof rep[i]&&(n=rep[i],s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));else for(n in l)Object.prototype.hasOwnProperty.call(l,n)&&(s=str(n,l),s&&a.push(quote(n)+(gap?": ":":")+s));return s=0===a.length?"{}":gap?"{\n"+gap+a.join(",\n"+gap)+"\n"+r+"}":"{"+a.join(",")+"}",gap=r,s}}if(nativeJSON&&nativeJSON.parse)return exports.JSON={parse:nativeJSON.parse,stringify:nativeJSON.stringify};var JSON=exports.JSON={},cx=/[\u0000\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,escapable=/[\\\"\x00-\x1f\x7f-\x9f\u00ad\u0600-\u0604\u070f\u17b4\u17b5\u200c-\u200f\u2028-\u202f\u2060-\u206f\ufeff\ufff0-\uffff]/g,gap,indent,meta={"\b":"\\b","	":"\\t","\n":"\\n","\f":"\\f","\r":"\\r",'"':'\\"',"\\":"\\\\"},rep;JSON.stringify=function(t,e,i){var n;if(gap="",indent="","number"==typeof i)for(n=0;i>n;n+=1)indent+=" ";else"string"==typeof i&&(indent=i);if(rep=e,e&&"function"!=typeof e&&("object"!=typeof e||"number"!=typeof e.length))throw new Error("JSON.stringify");return str("",{"":t})},JSON.parse=function(text,reviver){function walk(t,e){var i,n,s=t[e];if(s&&"object"==typeof s)for(i in s)Object.prototype.hasOwnProperty.call(s,i)&&(n=walk(s,i),void 0!==n?s[i]=n:delete s[i]);return reviver.call(t,e,s)}var j;if(text=String(text),cx.lastIndex=0,cx.test(text)&&(text=text.replace(cx,function(t){return"\\u"+("0000"+t.charCodeAt(0).toString(16)).slice(-4)})),/^[\],:{}\s]*$/.test(text.replace(/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,"@").replace(/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,"]").replace(/(?:^|:|,)(?:\s*\[)+/g,"")))return j=eval("("+text+")"),"function"==typeof reviver?walk({"":j},""):j;throw new SyntaxError("JSON.parse")}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof JSON?JSON:void 0),function(t,e){var i=t.parser={},n=i.packets=["disconnect","connect","heartbeat","message","json","event","ack","error","noop"],s=i.reasons=["transport not supported","client not handshaken","unauthorized"],o=i.advice=["reconnect"],a=e.JSON,r=e.util.indexOf;i.encodePacket=function(t){var e=r(n,t.type),i=t.id||"",l=t.endpoint||"",c=t.ack,h=null;switch(t.type){case"error":var u=t.reason?r(s,t.reason):"",d=t.advice?r(o,t.advice):"";""===u&&""===d||(h=u+(""!==d?"+"+d:""));break;case"message":""!==t.data&&(h=t.data);break;case"event":var p={name:t.name};t.args&&t.args.length&&(p.args=t.args),h=a.stringify(p);break;case"json":h=a.stringify(t.data);break;case"connect":t.qs&&(h=t.qs);break;case"ack":h=t.ackId+(t.args&&t.args.length?"+"+a.stringify(t.args):"")}var f=[e,i+("data"==c?"+":""),l];return null!==h&&void 0!==h&&f.push(h),f.join(":")},i.encodePayload=function(t){var e="";if(1==t.length)return t[0];for(var i=0,n=t.length;n>i;i++){var s=t[i];e+="�"+s.length+"�"+t[i]}return e};var l=/([^:]+):([0-9]+)?(\+)?:([^:]+)?:?([\s\S]*)?/;i.decodePacket=function(t){var e=t.match(l);if(!e)return{};var i=e[2]||"",t=e[5]||"",r={type:n[e[1]],endpoint:e[4]||""};switch(i&&(r.id=i,e[3]?r.ack="data":r.ack=!0),r.type){case"error":var e=t.split("+");r.reason=s[e[0]]||"",r.advice=o[e[1]]||"";break;case"message":r.data=t||"";break;case"event":try{var c=a.parse(t);r.name=c.name,r.args=c.args}catch(h){}r.args=r.args||[];break;case"json":try{r.data=a.parse(t)}catch(h){}break;case"connect":r.qs=t||"";break;case"ack":var e=t.match(/^([0-9]+)(\+)?(.*)/);if(e&&(r.ackId=e[1],r.args=[],e[3]))try{r.args=e[3]?a.parse(e[3]):[]}catch(h){}break;case"disconnect":case"heartbeat":}return r},i.decodePayload=function(t){if("�"==t.charAt(0)){for(var e=[],n=1,s="";n<t.length;n++)"�"==t.charAt(n)?(e.push(i.decodePacket(t.substr(n+1).substr(0,s))),n+=Number(s)+1,s=""):s+=t.charAt(n);return e}return[i.decodePacket(t)]}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e){function i(t,e){this.socket=t,this.sessid=e}t.Transport=i,e.util.mixin(i,e.EventEmitter),i.prototype.heartbeats=function(){return!0},i.prototype.onData=function(t){if(this.clearCloseTimeout(),(this.socket.connected||this.socket.connecting||this.socket.reconnecting)&&this.setCloseTimeout(),""!==t){var i=e.parser.decodePayload(t);if(i&&i.length)for(var n=0,s=i.length;s>n;n++)this.onPacket(i[n])}return this},i.prototype.onPacket=function(t){return this.socket.setHeartbeatTimeout(),"heartbeat"==t.type?this.onHeartbeat():("connect"==t.type&&""==t.endpoint&&this.onConnect(),"error"==t.type&&"reconnect"==t.advice&&(this.isOpen=!1),this.socket.onPacket(t),this)},i.prototype.setCloseTimeout=function(){if(!this.closeTimeout){var t=this;this.closeTimeout=setTimeout(function(){t.onDisconnect()},this.socket.closeTimeout)}},i.prototype.onDisconnect=function(){return this.isOpen&&this.close(),this.clearTimeouts(),this.socket.onDisconnect(),this},i.prototype.onConnect=function(){return this.socket.onConnect(),this},i.prototype.clearCloseTimeout=function(){this.closeTimeout&&(clearTimeout(this.closeTimeout),this.closeTimeout=null)},i.prototype.clearTimeouts=function(){this.clearCloseTimeout(),this.reopenTimeout&&clearTimeout(this.reopenTimeout)},i.prototype.packet=function(t){this.send(e.parser.encodePacket(t))},i.prototype.onHeartbeat=function(t){this.packet({type:"heartbeat"})},i.prototype.onOpen=function(){this.isOpen=!0,this.clearCloseTimeout(),this.socket.onOpen()},i.prototype.onClose=function(){this.isOpen=!1,this.socket.onClose(),this.onDisconnect()},i.prototype.prepareUrl=function(){var t=this.socket.options;return this.scheme()+"://"+t.host+":"+t.port+"/"+t.resource+"/"+e.protocol+"/"+this.name+"/"+this.sessid},i.prototype.ready=function(t,e){e.call(this)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,i){function n(t){if(this.options={port:80,secure:!1,document:"document"in i?document:!1,resource:"socket.io",transports:e.transports,"connect timeout":1e4,"try multiple transports":!0,reconnect:!0,"reconnection delay":500,"reconnection limit":1/0,"reopen delay":3e3,"max reconnection attempts":10,"sync disconnect on unload":!1,"auto connect":!0,"flash policy port":10843,manualFlush:!1},e.util.merge(this.options,t),this.connected=!1,this.open=!1,this.connecting=!1,this.reconnecting=!1,this.namespaces={},this.buffer=[],this.doBuffer=!1,this.options["sync disconnect on unload"]&&(!this.isXDomain()||e.util.ua.hasCORS)){var n=this;e.util.on(i,"beforeunload",function(){n.disconnectSync()},!1)}this.options["auto connect"]&&this.connect()}function s(){}t.Socket=n,e.util.mixin(n,e.EventEmitter),n.prototype.of=function(t){return this.namespaces[t]||(this.namespaces[t]=new e.SocketNamespace(this,t),""!==t&&this.namespaces[t].packet({type:"connect"})),this.namespaces[t]},n.prototype.publish=function(){this.emit.apply(this,arguments);var t;for(var e in this.namespaces)this.namespaces.hasOwnProperty(e)&&(t=this.of(e),t.$emit.apply(t,arguments))},n.prototype.handshake=function(t){function i(e){e instanceof Error?(n.connecting=!1,n.onError(e.message)):t.apply(null,e.split(":"))}var n=this,o=this.options,a=["http"+(o.secure?"s":"")+":/",o.host+":"+o.port,o.resource,e.protocol,e.util.query(this.options.query,"t="+ +new Date)].join("/");if(this.isXDomain()&&!e.util.ua.hasCORS){var r=document.getElementsByTagName("script")[0],l=document.createElement("script");l.src=a+"&jsonp="+e.j.length,r.parentNode.insertBefore(l,r),e.j.push(function(t){i(t),l.parentNode.removeChild(l)})}else{var c=e.util.request();c.open("GET",a,!0),this.isXDomain()&&(c.withCredentials=!0),c.onreadystatechange=function(){4==c.readyState&&(c.onreadystatechange=s,200==c.status?i(c.responseText):403==c.status?n.onError(c.responseText):(n.connecting=!1,!n.reconnecting&&n.onError(c.responseText)))},c.send(null)}},n.prototype.getTransport=function(t){for(var i,n=t||this.transports,s=0;i=n[s];s++)if(e.Transport[i]&&e.Transport[i].check(this)&&(!this.isXDomain()||e.Transport[i].xdomainCheck(this)))return new e.Transport[i](this,this.sessionid);return null},n.prototype.connect=function(t){if(this.connecting)return this;var i=this;return i.connecting=!0,this.handshake(function(n,s,o,a){function r(t){return i.transport&&i.transport.clearTimeouts(),i.transport=i.getTransport(t),i.transport?void i.transport.ready(i,function(){i.connecting=!0,i.publish("connecting",i.transport.name),i.transport.open(),i.options["connect timeout"]&&(i.connectTimeoutTimer=setTimeout(function(){if(!i.connected&&(i.connecting=!1,i.options["try multiple transports"])){for(var t=i.transports;t.length>0&&t.splice(0,1)[0]!=i.transport.name;);t.length?r(t):i.publish("connect_failed")}},i.options["connect timeout"]))}):i.publish("connect_failed")}i.sessionid=n,i.closeTimeout=1e3*o,i.heartbeatTimeout=1e3*s,i.transports||(i.transports=i.origTransports=a?e.util.intersect(a.split(","),i.options.transports):i.options.transports),i.setHeartbeatTimeout(),r(i.transports),i.once("connect",function(){clearTimeout(i.connectTimeoutTimer),t&&"function"==typeof t&&t()})}),this},n.prototype.setHeartbeatTimeout=function(){if(clearTimeout(this.heartbeatTimeoutTimer),!this.transport||this.transport.heartbeats()){var t=this;this.heartbeatTimeoutTimer=setTimeout(function(){t.transport.onClose()},this.heartbeatTimeout)}},n.prototype.packet=function(t){return this.connected&&!this.doBuffer?this.transport.packet(t):this.buffer.push(t),this},n.prototype.setBuffer=function(t){this.doBuffer=t,!t&&this.connected&&this.buffer.length&&(this.options.manualFlush||this.flushBuffer())},n.prototype.flushBuffer=function(){this.transport.payload(this.buffer),this.buffer=[]},n.prototype.disconnect=function(){return(this.connected||this.connecting)&&(this.open&&this.of("").packet({type:"disconnect"}),this.onDisconnect("booted")),this},n.prototype.disconnectSync=function(){var t=e.util.request(),i=["http"+(this.options.secure?"s":"")+":/",this.options.host+":"+this.options.port,this.options.resource,e.protocol,"",this.sessionid].join("/")+"/?disconnect=1";t.open("GET",i,!1),t.send(null),this.onDisconnect("booted")},n.prototype.isXDomain=function(){var t=i.location.port||("https:"==i.location.protocol?443:80);return this.options.host!==i.location.hostname||this.options.port!=t},n.prototype.onConnect=function(){this.connected||(this.connected=!0,this.connecting=!1,this.doBuffer||this.setBuffer(!1),this.emit("connect"))},n.prototype.onOpen=function(){this.open=!0},n.prototype.onClose=function(){this.open=!1,clearTimeout(this.heartbeatTimeoutTimer)},n.prototype.onPacket=function(t){this.of(t.endpoint).onPacket(t)},n.prototype.onError=function(t){t&&t.advice&&"reconnect"===t.advice&&(this.connected||this.connecting)&&(this.disconnect(),this.options.reconnect&&this.reconnect()),this.publish("error",t&&t.reason?t.reason:t)},n.prototype.onDisconnect=function(t){var e=this.connected,i=this.connecting;this.connected=!1,this.connecting=!1,this.open=!1,(e||i)&&(this.transport.close(),this.transport.clearTimeouts(),e&&(this.publish("disconnect",t),"booted"!=t&&this.options.reconnect&&!this.reconnecting&&this.reconnect()))},n.prototype.reconnect=function(){function t(){if(i.connected){for(var t in i.namespaces)i.namespaces.hasOwnProperty(t)&&""!==t&&i.namespaces[t].packet({type:"connect"});i.publish("reconnect",i.transport.name,i.reconnectionAttempts)}clearTimeout(i.reconnectionTimer),i.removeListener("connect_failed",e),i.removeListener("connect",e),i.reconnecting=!1,delete i.reconnectionAttempts,delete i.reconnectionDelay,delete i.reconnectionTimer,delete i.redoTransports,i.options["try multiple transports"]=s}function e(){return i.reconnecting?i.connected?t():i.connecting&&i.reconnecting?i.reconnectionTimer=setTimeout(e,1e3):void(i.reconnectionAttempts++>=n?i.redoTransports?(i.publish("reconnect_failed"),t()):(i.on("connect_failed",e),i.options["try multiple transports"]=!0,i.transports=i.origTransports,i.transport=i.getTransport(),i.redoTransports=!0,i.connect()):(i.reconnectionDelay<o&&(i.reconnectionDelay*=2),i.connect(),i.publish("reconnecting",i.reconnectionDelay,i.reconnectionAttempts),i.reconnectionTimer=setTimeout(e,i.reconnectionDelay))):void 0}this.reconnecting=!0,this.reconnectionAttempts=0,this.reconnectionDelay=this.options["reconnection delay"];var i=this,n=this.options["max reconnection attempts"],s=this.options["try multiple transports"],o=this.options["reconnection limit"];this.options["try multiple transports"]=!1,this.reconnectionTimer=setTimeout(e,this.reconnectionDelay),this.on("connect",e)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),function(t,e){function i(t,e){this.socket=t,this.name=e||"",this.flags={},this.json=new n(this,"json"),this.ackPackets=0,this.acks={}}function n(t,e){this.namespace=t,this.name=e}t.SocketNamespace=i,e.util.mixin(i,e.EventEmitter),i.prototype.$emit=e.EventEmitter.prototype.emit,i.prototype.of=function(){return this.socket.of.apply(this.socket,arguments)},i.prototype.packet=function(t){return t.endpoint=this.name,this.socket.packet(t),this.flags={},this},i.prototype.send=function(t,e){var i={type:this.flags.json?"json":"message",data:t};return"function"==typeof e&&(i.id=++this.ackPackets,i.ack=!0,this.acks[i.id]=e),this.packet(i)},i.prototype.emit=function(t){var e=Array.prototype.slice.call(arguments,1),i=e[e.length-1],n={type:"event",name:t};return"function"==typeof i&&(n.id=++this.ackPackets,n.ack="data",this.acks[n.id]=i,e=e.slice(0,e.length-1)),n.args=e,this.packet(n)},i.prototype.disconnect=function(){return""===this.name?this.socket.disconnect():(this.packet({type:"disconnect"}),this.$emit("disconnect")),this},i.prototype.onPacket=function(t){function i(){n.packet({type:"ack",args:e.util.toArray(arguments),ackId:t.id})}var n=this;switch(t.type){case"connect":this.$emit("connect");break;case"disconnect":""===this.name?this.socket.onDisconnect(t.reason||"booted"):this.$emit("disconnect",t.reason);break;case"message":case"json":var s=["message",t.data];"data"==t.ack?s.push(i):t.ack&&this.packet({type:"ack",ackId:t.id}),this.$emit.apply(this,s);break;case"event":var s=[t.name].concat(t.args);"data"==t.ack&&s.push(i),this.$emit.apply(this,s);break;case"ack":this.acks[t.ackId]&&(this.acks[t.ackId].apply(this,t.args),delete this.acks[t.ackId]);break;case"error":t.advice?this.socket.onError(t):"unauthorized"==t.reason?this.$emit("connect_failed",t.reason):this.$emit("error",t.reason)}},n.prototype.send=function(){this.namespace.flags[this.name]=!0,this.namespace.send.apply(this.namespace,arguments)},n.prototype.emit=function(){this.namespace.flags[this.name]=!0,this.namespace.emit.apply(this.namespace,arguments)}}("undefined"!=typeof io?io:module.exports,"undefined"!=typeof io?io:module.parent.exports),function(t,e,i){function n(t){e.Transport.apply(this,arguments)}t.websocket=n,e.util.inherit(n,e.Transport),n.prototype.name="websocket",n.prototype.open=function(){var t,n=e.util.query(this.socket.options.query),s=this;return t||(t=i.MozWebSocket||i.WebSocket),this.websocket=new t(this.prepareUrl()+n),this.websocket.onopen=function(){s.onOpen(),s.socket.setBuffer(!1)},this.websocket.onmessage=function(t){s.onData(t.data)},this.websocket.onclose=function(){s.onClose(),s.socket.setBuffer(!0)},this.websocket.onerror=function(t){s.onError(t)},this},e.util.ua.iDevice?n.prototype.send=function(t){var e=this;return setTimeout(function(){e.websocket.send(t)},0),this}:n.prototype.send=function(t){return this.websocket.send(t),this},n.prototype.payload=function(t){for(var e=0,i=t.length;i>e;e++)this.packet(t[e]);return this},n.prototype.close=function(){return this.websocket.close(),this},n.prototype.onError=function(t){this.socket.onError(t)},n.prototype.scheme=function(){return this.socket.options.secure?"wss":"ws"},n.check=function(){return"WebSocket"in i&&!("__addTask"in WebSocket)||"MozWebSocket"in i},n.xdomainCheck=function(){return!0},e.transports.push("websocket")}("undefined"!=typeof io?io.Transport:module.exports,"undefined"!=typeof io?io:module.parent.exports,this),"function"==typeof define&&define.amd&&define([],function(){return io})}();var dateFormat=function(){var t=/d{1,4}|m{1,4}|yy(?:yy)?|([HhMsTt])\1?|[LloSZ]|"[^"]*"|'[^']*'/g,e=/\b(?:[PMCEA][SDP]T|(?:Pacific|Mountain|Central|Eastern|Atlantic) (?:Standard|Daylight|Prevailing) Time|(?:GMT|UTC)(?:[-+]\d{4})?)\b/g,i=/[^-+\dA-Z]/g,n=function(t,e){for(t=String(t),e=e||2;t.length<e;)t="0"+t;return t};return function(s,o,a){var r=dateFormat;if(1!=arguments.length||"[object String]"!=Object.prototype.toString.call(s)||/\d/.test(s)||(o=s,s=void 0),s=s?new Date(s):new Date,isNaN(s))throw SyntaxError("invalid date");o=String(r.masks[o]||o||r.masks["default"]),"UTC:"==o.slice(0,4)&&(o=o.slice(4),a=!0);var l=a?"getUTC":"get",c=s[l+"Date"](),h=s[l+"Day"](),u=s[l+"Month"](),d=s[l+"FullYear"](),p=s[l+"Hours"](),f=s[l+"Minutes"](),m=s[l+"Seconds"](),g=s[l+"Milliseconds"](),v=a?0:s.getTimezoneOffset(),y={d:c,dd:n(c),ddd:r.i18n.dayNames[h],dddd:r.i18n.dayNames[h+7],m:u+1,mm:n(u+1),mmm:r.i18n.monthNames[u],mmmm:r.i18n.monthNames[u+12],yy:String(d).slice(2),yyyy:d,h:p%12||12,hh:n(p%12||12),H:p,HH:n(p),M:f,MM:n(f),s:m,ss:n(m),l:n(g,3),L:n(g>99?Math.round(g/10):g),
t:12>p?"a":"p",tt:12>p?"am":"pm",T:12>p?"A":"P",TT:12>p?"AM":"PM",Z:a?"UTC":(String(s).match(e)||[""]).pop().replace(i,""),o:(v>0?"-":"+")+n(100*Math.floor(Math.abs(v)/60)+Math.abs(v)%60,4),S:["th","st","nd","rd"][c%10>3?0:(c%100-c%10!=10)*c%10]};return o.replace(t,function(t){return t in y?y[t]:t.slice(1,t.length-1)})}}();dateFormat.masks={"default":"ddd mmm dd yyyy HH:MM:ss",shortDate:"m/d/yy",mediumDate:"mmm d, yyyy",longDate:"mmmm d, yyyy",fullDate:"dddd, mmmm d, yyyy",shortTime:"h:MM TT",mediumTime:"h:MM:ss TT",longTime:"h:MM:ss TT Z",isoDate:"yyyy-mm-dd",isoTime:"HH:MM:ss",isoDateTime:"yyyy-mm-dd'T'HH:MM:ss",isoUtcDateTime:"UTC:yyyy-mm-dd'T'HH:MM:ss'Z'"},dateFormat.i18n={dayNames:["Sun","Mon","Tue","Wed","Thu","Fri","Sat","Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],monthNames:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec","January","February","March","April","May","June","July","August","September","October","November","December"]},Date.prototype.format=function(t,e){return dateFormat(this,t,e)},function(t,e){function i(t){var e,i,n=R[t]={};for(t=t.split(/\s+/),e=0,i=t.length;i>e;e++)n[t[e]]=!0;return n}function n(t,i,n){if(n===e&&1===t.nodeType){var s="data-"+i.replace(z,"-$1").toLowerCase();if(n=t.getAttribute(s),"string"==typeof n){try{n="true"===n?!0:"false"===n?!1:"null"===n?null:I.isNumeric(n)?+n:L.test(n)?I.parseJSON(n):n}catch(o){}I.data(t,i,n)}else n=e}return n}function s(t){for(var e in t)if(("data"!==e||!I.isEmptyObject(t[e]))&&"toJSON"!==e)return!1;return!0}function o(t,e,i){var n=e+"defer",s=e+"queue",o=e+"mark",a=I._data(t,n);!a||"queue"!==i&&I._data(t,s)||"mark"!==i&&I._data(t,o)||setTimeout(function(){I._data(t,s)||I._data(t,o)||(I.removeData(t,n,!0),a.fire())},0)}function a(){return!1}function r(){return!0}function l(t){return!t||!t.parentNode||11===t.parentNode.nodeType}function c(t,e,i){if(e=e||0,I.isFunction(e))return I.grep(t,function(t,n){var s=!!e.call(t,n,t);return s===i});if(e.nodeType)return I.grep(t,function(t,n){return t===e===i});if("string"==typeof e){var n=I.grep(t,function(t){return 1===t.nodeType});if(ht.test(e))return I.filter(e,n,!i);e=I.filter(e,n)}return I.grep(t,function(t,n){return I.inArray(t,e)>=0===i})}function h(t){var e=ft.split("|"),i=t.createDocumentFragment();if(i.createElement)for(;e.length;)i.createElement(e.pop());return i}function u(t,e){return I.nodeName(t,"table")?t.getElementsByTagName("tbody")[0]||t.appendChild(t.ownerDocument.createElement("tbody")):t}function d(t,e){if(1===e.nodeType&&I.hasData(t)){var i,n,s,o=I._data(t),a=I._data(e,o),r=o.events;if(r){delete a.handle,a.events={};for(i in r)for(n=0,s=r[i].length;s>n;n++)I.event.add(e,i,r[i][n])}a.data&&(a.data=I.extend({},a.data))}}function p(t,e){var i;1===e.nodeType&&(e.clearAttributes&&e.clearAttributes(),e.mergeAttributes&&e.mergeAttributes(t),i=e.nodeName.toLowerCase(),"object"===i?e.outerHTML=t.outerHTML:"input"!==i||"checkbox"!==t.type&&"radio"!==t.type?"option"===i?e.selected=t.defaultSelected:"input"===i||"textarea"===i?e.defaultValue=t.defaultValue:"script"===i&&e.text!==t.text&&(e.text=t.text):(t.checked&&(e.defaultChecked=e.checked=t.checked),e.value!==t.value&&(e.value=t.value)),e.removeAttribute(I.expando),e.removeAttribute("_submit_attached"),e.removeAttribute("_change_attached"))}function f(t){return"undefined"!=typeof t.getElementsByTagName?t.getElementsByTagName("*"):"undefined"!=typeof t.querySelectorAll?t.querySelectorAll("*"):[]}function m(t){"checkbox"!==t.type&&"radio"!==t.type||(t.defaultChecked=t.checked)}function g(t){var e=(t.nodeName||"").toLowerCase();"input"===e?m(t):"script"!==e&&"undefined"!=typeof t.getElementsByTagName&&I.grep(t.getElementsByTagName("input"),m)}function v(t){var e=A.createElement("div");return Mt.appendChild(e),e.innerHTML=t.outerHTML,e.firstChild}function y(t,e,i){var n="width"===e?t.offsetWidth:t.offsetHeight,s="width"===e?1:0,o=4;if(n>0){if("border"!==i)for(;o>s;s+=2)i||(n-=parseFloat(I.css(t,"padding"+Ft[s]))||0),"margin"===i?n+=parseFloat(I.css(t,i+Ft[s]))||0:n-=parseFloat(I.css(t,"border"+Ft[s]+"Width"))||0;return n+"px"}if(n=Et(t,e),(0>n||null==n)&&(n=t.style[e]),Rt.test(n))return n;if(n=parseFloat(n)||0,i)for(;o>s;s+=2)n+=parseFloat(I.css(t,"padding"+Ft[s]))||0,"padding"!==i&&(n+=parseFloat(I.css(t,"border"+Ft[s]+"Width"))||0),"margin"===i&&(n+=parseFloat(I.css(t,i+Ft[s]))||0);return n+"px"}function b(t){return function(e,i){if("string"!=typeof e&&(i=e,e="*"),I.isFunction(i))for(var n,s,o,a=e.toLowerCase().split(ee),r=0,l=a.length;l>r;r++)n=a[r],o=/^\+/.test(n),o&&(n=n.substr(1)||"*"),s=t[n]=t[n]||[],s[o?"unshift":"push"](i)}}function _(t,i,n,s,o,a){o=o||i.dataTypes[0],a=a||{},a[o]=!0;for(var r,l=t[o],c=0,h=l?l.length:0,u=t===oe;h>c&&(u||!r);c++)r=l[c](i,n,s),"string"==typeof r&&(!u||a[r]?r=e:(i.dataTypes.unshift(r),r=_(t,i,n,s,r,a)));return!u&&r||a["*"]||(r=_(t,i,n,s,"*",a)),r}function w(t,i){var n,s,o=I.ajaxSettings.flatOptions||{};for(n in i)i[n]!==e&&((o[n]?t:s||(s={}))[n]=i[n]);s&&I.extend(!0,t,s)}function x(t,e,i,n){if(I.isArray(e))I.each(e,function(e,s){i||Yt.test(t)?n(t,s):x(t+"["+("object"==typeof s?e:"")+"]",s,i,n)});else if(i||"object"!==I.type(e))n(t,e);else for(var s in e)x(t+"["+s+"]",e[s],i,n)}function k(t,i,n){var s,o,a,r,l=t.contents,c=t.dataTypes,h=t.responseFields;for(o in h)o in n&&(i[h[o]]=n[o]);for(;"*"===c[0];)c.shift(),s===e&&(s=t.mimeType||i.getResponseHeader("content-type"));if(s)for(o in l)if(l[o]&&l[o].test(s)){c.unshift(o);break}if(c[0]in n)a=c[0];else{for(o in n){if(!c[0]||t.converters[o+" "+c[0]]){a=o;break}r||(r=o)}a=a||r}return a?(a!==c[0]&&c.unshift(a),n[a]):void 0}function C(t,i){t.dataFilter&&(i=t.dataFilter(i,t.dataType));var n,s,o,a,r,l,c,h,u=t.dataTypes,d={},p=u.length,f=u[0];for(n=1;p>n;n++){if(1===n)for(s in t.converters)"string"==typeof s&&(d[s.toLowerCase()]=t.converters[s]);if(a=f,f=u[n],"*"===f)f=a;else if("*"!==a&&a!==f){if(r=a+" "+f,l=d[r]||d["* "+f],!l){h=e;for(c in d)if(o=c.split(" "),(o[0]===a||"*"===o[0])&&(h=d[o[1]+" "+f])){c=d[c],c===!0?l=h:h===!0&&(l=c);break}}l||h||I.error("No conversion from "+r.replace(" "," to ")),l!==!0&&(i=l?l(i):h(c(i)))}}return i}function T(){try{return new t.XMLHttpRequest}catch(e){}}function S(){try{return new t.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function D(){return setTimeout(M,0),ve=I.now()}function M(){ve=e}function E(t,e){var i={};return I.each(we.concat.apply([],we.slice(0,e)),function(){i[this]=t}),i}function $(t){if(!ye[t]){var e=A.body,i=I("<"+t+">").appendTo(e),n=i.css("display");i.remove(),"none"!==n&&""!==n||(fe||(fe=A.createElement("iframe"),fe.frameBorder=fe.width=fe.height=0),e.appendChild(fe),me&&fe.createElement||(me=(fe.contentWindow||fe.contentDocument).document,me.write((I.support.boxModel?"<!doctype html>":"")+"<html><body>"),me.close()),i=me.createElement(t),me.body.appendChild(i),n=I.css(i,"display"),e.removeChild(fe)),ye[t]=n}return ye[t]}function P(t){return I.isWindow(t)?t:9===t.nodeType?t.defaultView||t.parentWindow:!1}var A=t.document,N=t.navigator,H=t.location,I=function(){function i(){if(!r.isReady){try{A.documentElement.doScroll("left")}catch(t){return void setTimeout(i,1)}r.ready()}}var n,s,o,a,r=function(t,e){return new r.fn.init(t,e,n)},l=t.jQuery,c=t.$,h=/^(?:[^#<]*(<[\w\W]+>)[^>]*$|#([\w\-]*)$)/,u=/\S/,d=/^\s+/,p=/\s+$/,f=/^<(\w+)\s*\/?>(?:<\/\1>)?$/,m=/^[\],:{}\s]*$/,g=/\\(?:["\\\/bfnrt]|u[0-9a-fA-F]{4})/g,v=/"[^"\\\n\r]*"|true|false|null|-?\d+(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,y=/(?:^|:|,)(?:\s*\[)+/g,b=/(webkit)[ \/]([\w.]+)/,_=/(opera)(?:.*version)?[ \/]([\w.]+)/,w=/(msie) ([\w.]+)/,x=/(mozilla)(?:.*? rv:([\w.]+))?/,k=/-([a-z]|[0-9])/gi,C=/^-ms-/,T=function(t,e){return(e+"").toUpperCase()},S=N.userAgent,D=Object.prototype.toString,M=Object.prototype.hasOwnProperty,E=Array.prototype.push,$=Array.prototype.slice,P=String.prototype.trim,H=Array.prototype.indexOf,I={};return r.fn=r.prototype={constructor:r,init:function(t,i,n){var s,o,a,l;if(!t)return this;if(t.nodeType)return this.context=this[0]=t,this.length=1,this;if("body"===t&&!i&&A.body)return this.context=A,this[0]=A.body,this.selector=t,this.length=1,this;if("string"==typeof t){if(s="<"===t.charAt(0)&&">"===t.charAt(t.length-1)&&t.length>=3?[null,t,null]:h.exec(t),!s||!s[1]&&i)return!i||i.jquery?(i||n).find(t):this.constructor(i).find(t);if(s[1])return i=i instanceof r?i[0]:i,l=i?i.ownerDocument||i:A,a=f.exec(t),a?r.isPlainObject(i)?(t=[A.createElement(a[1])],r.fn.attr.call(t,i,!0)):t=[l.createElement(a[1])]:(a=r.buildFragment([s[1]],[l]),t=(a.cacheable?r.clone(a.fragment):a.fragment).childNodes),r.merge(this,t);if(o=A.getElementById(s[2]),o&&o.parentNode){if(o.id!==s[2])return n.find(t);this.length=1,this[0]=o}return this.context=A,this.selector=t,this}return r.isFunction(t)?n.ready(t):(t.selector!==e&&(this.selector=t.selector,this.context=t.context),r.makeArray(t,this))},selector:"",jquery:"1.7.2",length:0,size:function(){return this.length},toArray:function(){return $.call(this,0)},get:function(t){return null==t?this.toArray():0>t?this[this.length+t]:this[t]},pushStack:function(t,e,i){var n=this.constructor();return r.isArray(t)?E.apply(n,t):r.merge(n,t),n.prevObject=this,n.context=this.context,"find"===e?n.selector=this.selector+(this.selector?" ":"")+i:e&&(n.selector=this.selector+"."+e+"("+i+")"),n},each:function(t,e){return r.each(this,t,e)},ready:function(t){return r.bindReady(),o.add(t),this},eq:function(t){return t=+t,-1===t?this.slice(t):this.slice(t,t+1)},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},slice:function(){return this.pushStack($.apply(this,arguments),"slice",$.call(arguments).join(","))},map:function(t){return this.pushStack(r.map(this,function(e,i){return t.call(e,i,e)}))},end:function(){return this.prevObject||this.constructor(null)},push:E,sort:[].sort,splice:[].splice},r.fn.init.prototype=r.fn,r.extend=r.fn.extend=function(){var t,i,n,s,o,a,l=arguments[0]||{},c=1,h=arguments.length,u=!1;for("boolean"==typeof l&&(u=l,l=arguments[1]||{},c=2),"object"==typeof l||r.isFunction(l)||(l={}),h===c&&(l=this,--c);h>c;c++)if(null!=(t=arguments[c]))for(i in t)n=l[i],s=t[i],l!==s&&(u&&s&&(r.isPlainObject(s)||(o=r.isArray(s)))?(o?(o=!1,a=n&&r.isArray(n)?n:[]):a=n&&r.isPlainObject(n)?n:{},l[i]=r.extend(u,a,s)):s!==e&&(l[i]=s));return l},r.extend({noConflict:function(e){return t.$===r&&(t.$=c),e&&t.jQuery===r&&(t.jQuery=l),r},isReady:!1,readyWait:1,holdReady:function(t){t?r.readyWait++:r.ready(!0)},ready:function(t){if(t===!0&&!--r.readyWait||t!==!0&&!r.isReady){if(!A.body)return setTimeout(r.ready,1);if(r.isReady=!0,t!==!0&&--r.readyWait>0)return;o.fireWith(A,[r]),r.fn.trigger&&r(A).trigger("ready").off("ready")}},bindReady:function(){if(!o){if(o=r.Callbacks("once memory"),"complete"===A.readyState)return setTimeout(r.ready,1);if(A.addEventListener)A.addEventListener("DOMContentLoaded",a,!1),t.addEventListener("load",r.ready,!1);else if(A.attachEvent){A.attachEvent("onreadystatechange",a),t.attachEvent("onload",r.ready);var e=!1;try{e=null==t.frameElement}catch(n){}A.documentElement.doScroll&&e&&i()}}},isFunction:function(t){return"function"===r.type(t)},isArray:Array.isArray||function(t){return"array"===r.type(t)},isWindow:function(t){return null!=t&&t==t.window},isNumeric:function(t){return!isNaN(parseFloat(t))&&isFinite(t)},type:function(t){return null==t?String(t):I[D.call(t)]||"object"},isPlainObject:function(t){if(!t||"object"!==r.type(t)||t.nodeType||r.isWindow(t))return!1;try{if(t.constructor&&!M.call(t,"constructor")&&!M.call(t.constructor.prototype,"isPrototypeOf"))return!1}catch(i){return!1}var n;for(n in t);return n===e||M.call(t,n)},isEmptyObject:function(t){for(var e in t)return!1;return!0},error:function(t){throw new Error(t)},parseJSON:function(e){return"string"==typeof e&&e?(e=r.trim(e),t.JSON&&t.JSON.parse?t.JSON.parse(e):m.test(e.replace(g,"@").replace(v,"]").replace(y,""))?new Function("return "+e)():void r.error("Invalid JSON: "+e)):null},parseXML:function(i){if("string"!=typeof i||!i)return null;var n,s;try{t.DOMParser?(s=new DOMParser,n=s.parseFromString(i,"text/xml")):(n=new ActiveXObject("Microsoft.XMLDOM"),n.async="false",n.loadXML(i))}catch(o){n=e}return n&&n.documentElement&&!n.getElementsByTagName("parsererror").length||r.error("Invalid XML: "+i),n},noop:function(){},globalEval:function(e){e&&u.test(e)&&(t.execScript||function(e){t.eval.call(t,e)})(e)},camelCase:function(t){return t.replace(C,"ms-").replace(k,T)},nodeName:function(t,e){return t.nodeName&&t.nodeName.toUpperCase()===e.toUpperCase()},each:function(t,i,n){var s,o=0,a=t.length,l=a===e||r.isFunction(t);if(n)if(l){for(s in t)if(i.apply(t[s],n)===!1)break}else for(;a>o&&i.apply(t[o++],n)!==!1;);else if(l){for(s in t)if(i.call(t[s],s,t[s])===!1)break}else for(;a>o&&i.call(t[o],o,t[o++])!==!1;);return t},trim:P?function(t){return null==t?"":P.call(t)}:function(t){return null==t?"":t.toString().replace(d,"").replace(p,"")},makeArray:function(t,e){var i=e||[];if(null!=t){var n=r.type(t);null==t.length||"string"===n||"function"===n||"regexp"===n||r.isWindow(t)?E.call(i,t):r.merge(i,t)}return i},inArray:function(t,e,i){var n;if(e){if(H)return H.call(e,t,i);for(n=e.length,i=i?0>i?Math.max(0,n+i):i:0;n>i;i++)if(i in e&&e[i]===t)return i}return-1},merge:function(t,i){var n=t.length,s=0;if("number"==typeof i.length)for(var o=i.length;o>s;s++)t[n++]=i[s];else for(;i[s]!==e;)t[n++]=i[s++];return t.length=n,t},grep:function(t,e,i){var n,s=[];i=!!i;for(var o=0,a=t.length;a>o;o++)n=!!e(t[o],o),i!==n&&s.push(t[o]);return s},map:function(t,i,n){var s,o,a=[],l=0,c=t.length,h=t instanceof r||c!==e&&"number"==typeof c&&(c>0&&t[0]&&t[c-1]||0===c||r.isArray(t));if(h)for(;c>l;l++)s=i(t[l],l,n),null!=s&&(a[a.length]=s);else for(o in t)s=i(t[o],o,n),null!=s&&(a[a.length]=s);return a.concat.apply([],a)},guid:1,proxy:function(t,i){if("string"==typeof i){var n=t[i];i=t,t=n}if(!r.isFunction(t))return e;var s=$.call(arguments,2),o=function(){return t.apply(i,s.concat($.call(arguments)))};return o.guid=t.guid=t.guid||o.guid||r.guid++,o},access:function(t,i,n,s,o,a,l){var c,h=null==n,u=0,d=t.length;if(n&&"object"==typeof n){for(u in n)r.access(t,i,u,n[u],1,a,s);o=1}else if(s!==e){if(c=l===e&&r.isFunction(s),h&&(c?(c=i,i=function(t,e,i){return c.call(r(t),i)}):(i.call(t,s),i=null)),i)for(;d>u;u++)i(t[u],n,c?s.call(t[u],u,i(t[u],n)):s,l);o=1}return o?t:h?i.call(t):d?i(t[0],n):a},now:function(){return(new Date).getTime()},uaMatch:function(t){t=t.toLowerCase();var e=b.exec(t)||_.exec(t)||w.exec(t)||t.indexOf("compatible")<0&&x.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},sub:function(){function t(e,i){return new t.fn.init(e,i)}r.extend(!0,t,this),t.superclass=this,t.fn=t.prototype=this(),t.fn.constructor=t,t.sub=this.sub,t.fn.init=function(i,n){return n&&n instanceof r&&!(n instanceof t)&&(n=t(n)),r.fn.init.call(this,i,n,e)},t.fn.init.prototype=t.fn;var e=t(A);return t},browser:{}}),r.each("Boolean Number String Function Array Date RegExp Object".split(" "),function(t,e){I["[object "+e+"]"]=e.toLowerCase()}),s=r.uaMatch(S),s.browser&&(r.browser[s.browser]=!0,r.browser.version=s.version),r.browser.webkit&&(r.browser.safari=!0),u.test(" ")&&(d=/^[\s\xA0]+/,p=/[\s\xA0]+$/),n=r(A),A.addEventListener?a=function(){A.removeEventListener("DOMContentLoaded",a,!1),r.ready()}:A.attachEvent&&(a=function(){"complete"===A.readyState&&(A.detachEvent("onreadystatechange",a),r.ready())}),r}(),R={};I.Callbacks=function(t){t=t?R[t]||i(t):{};var n,s,o,a,r,l,c=[],h=[],u=function(e){var i,n,s,o;for(i=0,n=e.length;n>i;i++)s=e[i],o=I.type(s),"array"===o?u(s):"function"===o&&(t.unique&&p.has(s)||c.push(s))},d=function(e,i){for(i=i||[],n=!t.memory||[e,i],s=!0,o=!0,l=a||0,a=0,r=c.length;c&&r>l;l++)if(c[l].apply(e,i)===!1&&t.stopOnFalse){n=!0;break}o=!1,c&&(t.once?n===!0?p.disable():c=[]:h&&h.length&&(n=h.shift(),p.fireWith(n[0],n[1])))},p={add:function(){if(c){var t=c.length;u(arguments),o?r=c.length:n&&n!==!0&&(a=t,d(n[0],n[1]))}return this},remove:function(){if(c)for(var e=arguments,i=0,n=e.length;n>i;i++)for(var s=0;s<c.length&&(e[i]!==c[s]||(o&&r>=s&&(r--,l>=s&&l--),c.splice(s--,1),!t.unique));s++);return this},has:function(t){if(c)for(var e=0,i=c.length;i>e;e++)if(t===c[e])return!0;return!1},empty:function(){return c=[],this},disable:function(){return c=h=n=e,this},disabled:function(){return!c},lock:function(){return h=e,n&&n!==!0||p.disable(),this},locked:function(){return!h},fireWith:function(e,i){return h&&(o?t.once||h.push([e,i]):t.once&&n||d(e,i)),this},fire:function(){return p.fireWith(this,arguments),this},fired:function(){return!!s}};return p};var O=[].slice;I.extend({Deferred:function(t){var e,i=I.Callbacks("once memory"),n=I.Callbacks("once memory"),s=I.Callbacks("memory"),o="pending",a={resolve:i,reject:n,notify:s},r={done:i.add,fail:n.add,progress:s.add,state:function(){return o},isResolved:i.fired,isRejected:n.fired,then:function(t,e,i){return l.done(t).fail(e).progress(i),this},always:function(){return l.done.apply(l,arguments).fail.apply(l,arguments),this},pipe:function(t,e,i){return I.Deferred(function(n){I.each({done:[t,"resolve"],fail:[e,"reject"],progress:[i,"notify"]},function(t,e){var i,s=e[0],o=e[1];I.isFunction(s)?l[t](function(){i=s.apply(this,arguments),i&&I.isFunction(i.promise)?i.promise().then(n.resolve,n.reject,n.notify):n[o+"With"](this===l?n:this,[i])}):l[t](n[o])})}).promise()},promise:function(t){if(null==t)t=r;else for(var e in r)t[e]=r[e];return t}},l=r.promise({});for(e in a)l[e]=a[e].fire,l[e+"With"]=a[e].fireWith;return l.done(function(){o="resolved"},n.disable,s.lock).fail(function(){o="rejected"},i.disable,s.lock),t&&t.call(l,l),l},when:function(t){function e(t){return function(e){n[t]=arguments.length>1?O.call(arguments,0):e,--r||l.resolveWith(l,n)}}function i(t){return function(e){a[t]=arguments.length>1?O.call(arguments,0):e,l.notifyWith(c,a)}}var n=O.call(arguments,0),s=0,o=n.length,a=new Array(o),r=o,l=1>=o&&t&&I.isFunction(t.promise)?t:I.Deferred(),c=l.promise();if(o>1){for(;o>s;s++)n[s]&&n[s].promise&&I.isFunction(n[s].promise)?n[s].promise().then(e(s),l.reject,i(s)):--r;r||l.resolveWith(l,n)}else l!==t&&l.resolveWith(l,o?[t]:[]);return c}}),I.support=function(){var e,i,n,s,o,a,r,l,c,h,u,d=A.createElement("div");A.documentElement;if(d.setAttribute("className","t"),d.innerHTML="   <link/><table></table><a href='/a' style='top:1px;float:left;opacity:.55;'>a</a><input type='checkbox'/>",i=d.getElementsByTagName("*"),n=d.getElementsByTagName("a")[0],!i||!i.length||!n)return{};s=A.createElement("select"),o=s.appendChild(A.createElement("option")),a=d.getElementsByTagName("input")[0],e={leadingWhitespace:3===d.firstChild.nodeType,tbody:!d.getElementsByTagName("tbody").length,htmlSerialize:!!d.getElementsByTagName("link").length,style:/top/.test(n.getAttribute("style")),hrefNormalized:"/a"===n.getAttribute("href"),opacity:/^0.55/.test(n.style.opacity),cssFloat:!!n.style.cssFloat,checkOn:"on"===a.value,optSelected:o.selected,getSetAttribute:"t"!==d.className,enctype:!!A.createElement("form").enctype,html5Clone:"<:nav></:nav>"!==A.createElement("nav").cloneNode(!0).outerHTML,submitBubbles:!0,changeBubbles:!0,focusinBubbles:!1,deleteExpando:!0,noCloneEvent:!0,inlineBlockNeedsLayout:!1,shrinkWrapBlocks:!1,reliableMarginRight:!0,pixelMargin:!0},I.boxModel=e.boxModel="CSS1Compat"===A.compatMode,a.checked=!0,e.noCloneChecked=a.cloneNode(!0).checked,s.disabled=!0,e.optDisabled=!o.disabled;try{delete d.test}catch(p){e.deleteExpando=!1}if(!d.addEventListener&&d.attachEvent&&d.fireEvent&&(d.attachEvent("onclick",function(){e.noCloneEvent=!1}),d.cloneNode(!0).fireEvent("onclick")),a=A.createElement("input"),a.value="t",a.setAttribute("type","radio"),e.radioValue="t"===a.value,a.setAttribute("checked","checked"),a.setAttribute("name","t"),d.appendChild(a),r=A.createDocumentFragment(),r.appendChild(d.lastChild),e.checkClone=r.cloneNode(!0).cloneNode(!0).lastChild.checked,e.appendChecked=a.checked,r.removeChild(a),r.appendChild(d),d.attachEvent)for(h in{submit:1,change:1,focusin:1})c="on"+h,u=c in d,u||(d.setAttribute(c,"return;"),u="function"==typeof d[c]),e[h+"Bubbles"]=u;return r.removeChild(d),r=s=o=d=a=null,I(function(){var i,n,s,o,a,r,c,h,p,f,m,g,v=A.getElementsByTagName("body")[0];v&&(c=1,g="padding:0;margin:0;border:",f="position:absolute;top:0;left:0;width:1px;height:1px;",m=g+"0;visibility:hidden;",h="style='"+f+g+"5px solid #000;",p="<div "+h+"display:block;'><div style='"+g+"0;display:block;overflow:hidden;'></div></div><table "+h+"' cellpadding='0' cellspacing='0'><tr><td></td></tr></table>",i=A.createElement("div"),i.style.cssText=m+"width:0;height:0;position:static;top:0;margin-top:"+c+"px",v.insertBefore(i,v.firstChild),d=A.createElement("div"),i.appendChild(d),d.innerHTML="<table><tr><td style='"+g+"0;display:none'></td><td>t</td></tr></table>",l=d.getElementsByTagName("td"),u=0===l[0].offsetHeight,l[0].style.display="",l[1].style.display="none",e.reliableHiddenOffsets=u&&0===l[0].offsetHeight,t.getComputedStyle&&(d.innerHTML="",r=A.createElement("div"),r.style.width="0",r.style.marginRight="0",d.style.width="2px",d.appendChild(r),e.reliableMarginRight=0===(parseInt((t.getComputedStyle(r,null)||{marginRight:0}).marginRight,10)||0)),"undefined"!=typeof d.style.zoom&&(d.innerHTML="",d.style.width=d.style.padding="1px",d.style.border=0,d.style.overflow="hidden",d.style.display="inline",d.style.zoom=1,e.inlineBlockNeedsLayout=3===d.offsetWidth,d.style.display="block",d.style.overflow="visible",d.innerHTML="<div style='width:5px;'></div>",e.shrinkWrapBlocks=3!==d.offsetWidth),d.style.cssText=f+m,d.innerHTML=p,n=d.firstChild,s=n.firstChild,o=n.nextSibling.firstChild.firstChild,a={doesNotAddBorder:5!==s.offsetTop,doesAddBorderForTableAndCells:5===o.offsetTop},s.style.position="fixed",s.style.top="20px",a.fixedPosition=20===s.offsetTop||15===s.offsetTop,s.style.position=s.style.top="",n.style.overflow="hidden",n.style.position="relative",a.subtractsBorderForOverflowNotVisible=-5===s.offsetTop,a.doesNotIncludeMarginInBodyOffset=v.offsetTop!==c,t.getComputedStyle&&(d.style.marginTop="1%",e.pixelMargin="1%"!==(t.getComputedStyle(d,null)||{marginTop:0}).marginTop),"undefined"!=typeof i.style.zoom&&(i.style.zoom=1),v.removeChild(i),r=d=i=null,I.extend(e,a))}),e}();var L=/^(?:\{.*\}|\[.*\])$/,z=/([A-Z])/g;I.extend({cache:{},uuid:0,expando:"jQuery"+(I.fn.jquery+Math.random()).replace(/\D/g,""),noData:{embed:!0,object:"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000",applet:!0},hasData:function(t){return t=t.nodeType?I.cache[t[I.expando]]:t[I.expando],!!t&&!s(t)},data:function(t,i,n,s){if(I.acceptData(t)){var o,a,r,l=I.expando,c="string"==typeof i,h=t.nodeType,u=h?I.cache:t,d=h?t[l]:t[l]&&l,p="events"===i;if(d&&u[d]&&(p||s||u[d].data)||!c||n!==e)return d||(h?t[l]=d=++I.uuid:d=l),u[d]||(u[d]={},h||(u[d].toJSON=I.noop)),"object"!=typeof i&&"function"!=typeof i||(s?u[d]=I.extend(u[d],i):u[d].data=I.extend(u[d].data,i)),o=a=u[d],s||(a.data||(a.data={}),a=a.data),n!==e&&(a[I.camelCase(i)]=n),p&&!a[i]?o.events:(c?(r=a[i],null==r&&(r=a[I.camelCase(i)])):r=a,r)}},removeData:function(t,e,i){if(I.acceptData(t)){var n,o,a,r=I.expando,l=t.nodeType,c=l?I.cache:t,h=l?t[r]:r;if(c[h]){if(e&&(n=i?c[h]:c[h].data)){I.isArray(e)||(e in n?e=[e]:(e=I.camelCase(e),e=e in n?[e]:e.split(" ")));for(o=0,a=e.length;a>o;o++)delete n[e[o]];if(!(i?s:I.isEmptyObject)(n))return}(i||(delete c[h].data,s(c[h])))&&(I.support.deleteExpando||!c.setInterval?delete c[h]:c[h]=null,l&&(I.support.deleteExpando?delete t[r]:t.removeAttribute?t.removeAttribute(r):t[r]=null))}}},_data:function(t,e,i){return I.data(t,e,i,!0)},acceptData:function(t){if(t.nodeName){var e=I.noData[t.nodeName.toLowerCase()];if(e)return!(e===!0||t.getAttribute("classid")!==e)}return!0}}),I.fn.extend({data:function(t,i){var s,o,a,r,l,c=this[0],h=0,u=null;if(t===e){if(this.length&&(u=I.data(c),1===c.nodeType&&!I._data(c,"parsedAttrs"))){for(a=c.attributes,l=a.length;l>h;h++)r=a[h].name,0===r.indexOf("data-")&&(r=I.camelCase(r.substring(5)),n(c,r,u[r]));I._data(c,"parsedAttrs",!0)}return u}return"object"==typeof t?this.each(function(){I.data(this,t)}):(s=t.split(".",2),s[1]=s[1]?"."+s[1]:"",o=s[1]+"!",I.access(this,function(i){return i===e?(u=this.triggerHandler("getData"+o,[s[0]]),u===e&&c&&(u=I.data(c,t),u=n(c,t,u)),u===e&&s[1]?this.data(s[0]):u):(s[1]=i,void this.each(function(){var e=I(this);e.triggerHandler("setData"+o,s),I.data(this,t,i),e.triggerHandler("changeData"+o,s)}))},null,i,arguments.length>1,null,!1))},removeData:function(t){return this.each(function(){I.removeData(this,t)})}}),I.extend({_mark:function(t,e){t&&(e=(e||"fx")+"mark",I._data(t,e,(I._data(t,e)||0)+1))},_unmark:function(t,e,i){if(t!==!0&&(i=e,e=t,t=!1),e){i=i||"fx";var n=i+"mark",s=t?0:(I._data(e,n)||1)-1;s?I._data(e,n,s):(I.removeData(e,n,!0),o(e,i,"mark"))}},queue:function(t,e,i){var n;return t?(e=(e||"fx")+"queue",n=I._data(t,e),i&&(!n||I.isArray(i)?n=I._data(t,e,I.makeArray(i)):n.push(i)),n||[]):void 0},dequeue:function(t,e){e=e||"fx";var i=I.queue(t,e),n=i.shift(),s={};"inprogress"===n&&(n=i.shift()),n&&("fx"===e&&i.unshift("inprogress"),I._data(t,e+".run",s),n.call(t,function(){I.dequeue(t,e)},s)),i.length||(I.removeData(t,e+"queue "+e+".run",!0),o(t,e,"queue"))}}),I.fn.extend({queue:function(t,i){var n=2;return"string"!=typeof t&&(i=t,t="fx",n--),arguments.length<n?I.queue(this[0],t):i===e?this:this.each(function(){var e=I.queue(this,t,i);"fx"===t&&"inprogress"!==e[0]&&I.dequeue(this,t)})},dequeue:function(t){return this.each(function(){I.dequeue(this,t)})},delay:function(t,e){return t=I.fx?I.fx.speeds[t]||t:t,e=e||"fx",this.queue(e,function(e,i){var n=setTimeout(e,t);i.stop=function(){clearTimeout(n)}})},clearQueue:function(t){return this.queue(t||"fx",[])},promise:function(t,i){function n(){--l||o.resolveWith(a,[a])}"string"!=typeof t&&(i=t,t=e),t=t||"fx";for(var s,o=I.Deferred(),a=this,r=a.length,l=1,c=t+"defer",h=t+"queue",u=t+"mark";r--;)(s=I.data(a[r],c,e,!0)||(I.data(a[r],h,e,!0)||I.data(a[r],u,e,!0))&&I.data(a[r],c,I.Callbacks("once memory"),!0))&&(l++,s.add(n));return n(),o.promise(i)}});var F,W,j,B=/[\n\t\r]/g,Y=/\s+/,q=/\r/g,V=/^(?:button|input)$/i,U=/^(?:button|input|object|select|textarea)$/i,X=/^a(?:rea)?$/i,G=/^(?:autofocus|autoplay|async|checked|controls|defer|disabled|hidden|loop|multiple|open|readonly|required|scoped|selected)$/i,K=I.support.getSetAttribute;I.fn.extend({attr:function(t,e){return I.access(this,I.attr,t,e,arguments.length>1)},removeAttr:function(t){return this.each(function(){I.removeAttr(this,t)})},prop:function(t,e){return I.access(this,I.prop,t,e,arguments.length>1)},removeProp:function(t){return t=I.propFix[t]||t,this.each(function(){try{this[t]=e,delete this[t]}catch(i){}})},addClass:function(t){var e,i,n,s,o,a,r;if(I.isFunction(t))return this.each(function(e){I(this).addClass(t.call(this,e,this.className))});if(t&&"string"==typeof t)for(e=t.split(Y),i=0,n=this.length;n>i;i++)if(s=this[i],1===s.nodeType)if(s.className||1!==e.length){for(o=" "+s.className+" ",a=0,r=e.length;r>a;a++)~o.indexOf(" "+e[a]+" ")||(o+=e[a]+" ");s.className=I.trim(o)}else s.className=t;return this},removeClass:function(t){var i,n,s,o,a,r,l;if(I.isFunction(t))return this.each(function(e){I(this).removeClass(t.call(this,e,this.className))});if(t&&"string"==typeof t||t===e)for(i=(t||"").split(Y),n=0,s=this.length;s>n;n++)if(o=this[n],1===o.nodeType&&o.className)if(t){for(a=(" "+o.className+" ").replace(B," "),r=0,l=i.length;l>r;r++)a=a.replace(" "+i[r]+" "," ");o.className=I.trim(a)}else o.className="";return this},toggleClass:function(t,e){var i=typeof t,n="boolean"==typeof e;return I.isFunction(t)?this.each(function(i){I(this).toggleClass(t.call(this,i,this.className,e),e)}):this.each(function(){if("string"===i)for(var s,o=0,a=I(this),r=e,l=t.split(Y);s=l[o++];)r=n?r:!a.hasClass(s),a[r?"addClass":"removeClass"](s);else"undefined"!==i&&"boolean"!==i||(this.className&&I._data(this,"__className__",this.className),this.className=this.className||t===!1?"":I._data(this,"__className__")||"")})},hasClass:function(t){for(var e=" "+t+" ",i=0,n=this.length;n>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(B," ").indexOf(e)>-1)return!0;return!1},val:function(t){var i,n,s,o=this[0];{if(arguments.length)return s=I.isFunction(t),this.each(function(n){var o,a=I(this);1===this.nodeType&&(o=s?t.call(this,n,a.val()):t,null==o?o="":"number"==typeof o?o+="":I.isArray(o)&&(o=I.map(o,function(t){return null==t?"":t+""})),i=I.valHooks[this.type]||I.valHooks[this.nodeName.toLowerCase()],i&&"set"in i&&i.set(this,o,"value")!==e||(this.value=o))});if(o)return i=I.valHooks[o.type]||I.valHooks[o.nodeName.toLowerCase()],i&&"get"in i&&(n=i.get(o,"value"))!==e?n:(n=o.value,"string"==typeof n?n.replace(q,""):null==n?"":n)}}}),I.extend({valHooks:{option:{get:function(t){var e=t.attributes.value;return!e||e.specified?t.value:t.text}},select:{get:function(t){var e,i,n,s,o=t.selectedIndex,a=[],r=t.options,l="select-one"===t.type;if(0>o)return null;for(i=l?o:0,n=l?o+1:r.length;n>i;i++)if(s=r[i],s.selected&&(I.support.optDisabled?!s.disabled:null===s.getAttribute("disabled"))&&(!s.parentNode.disabled||!I.nodeName(s.parentNode,"optgroup"))){if(e=I(s).val(),l)return e;a.push(e)}return l&&!a.length&&r.length?I(r[o]).val():a},set:function(t,e){var i=I.makeArray(e);return I(t).find("option").each(function(){this.selected=I.inArray(I(this).val(),i)>=0}),i.length||(t.selectedIndex=-1),i}}},attrFn:{val:!0,css:!0,html:!0,text:!0,data:!0,width:!0,height:!0,offset:!0},attr:function(t,i,n,s){var o,a,r,l=t.nodeType;if(t&&3!==l&&8!==l&&2!==l)return s&&i in I.attrFn?I(t)[i](n):"undefined"==typeof t.getAttribute?I.prop(t,i,n):(r=1!==l||!I.isXMLDoc(t),r&&(i=i.toLowerCase(),a=I.attrHooks[i]||(G.test(i)?W:F)),n!==e?null===n?void I.removeAttr(t,i):a&&"set"in a&&r&&(o=a.set(t,n,i))!==e?o:(t.setAttribute(i,""+n),n):a&&"get"in a&&r&&null!==(o=a.get(t,i))?o:(o=t.getAttribute(i),null===o?e:o))},removeAttr:function(t,e){var i,n,s,o,a,r=0;if(e&&1===t.nodeType)for(n=e.toLowerCase().split(Y),o=n.length;o>r;r++)s=n[r],s&&(i=I.propFix[s]||s,a=G.test(s),a||I.attr(t,s,""),t.removeAttribute(K?s:i),a&&i in t&&(t[i]=!1))},attrHooks:{type:{set:function(t,e){if(V.test(t.nodeName)&&t.parentNode)I.error("type property can't be changed");else if(!I.support.radioValue&&"radio"===e&&I.nodeName(t,"input")){var i=t.value;return t.setAttribute("type",e),i&&(t.value=i),e}}},value:{get:function(t,e){return F&&I.nodeName(t,"button")?F.get(t,e):e in t?t.value:null},set:function(t,e,i){return F&&I.nodeName(t,"button")?F.set(t,e,i):void(t.value=e)}}},propFix:{tabindex:"tabIndex",readonly:"readOnly","for":"htmlFor","class":"className",maxlength:"maxLength",cellspacing:"cellSpacing",cellpadding:"cellPadding",rowspan:"rowSpan",colspan:"colSpan",usemap:"useMap",frameborder:"frameBorder",contenteditable:"contentEditable"},prop:function(t,i,n){var s,o,a,r=t.nodeType;if(t&&3!==r&&8!==r&&2!==r)return a=1!==r||!I.isXMLDoc(t),a&&(i=I.propFix[i]||i,o=I.propHooks[i]),n!==e?o&&"set"in o&&(s=o.set(t,n,i))!==e?s:t[i]=n:o&&"get"in o&&null!==(s=o.get(t,i))?s:t[i]},propHooks:{tabIndex:{get:function(t){var i=t.getAttributeNode("tabindex");return i&&i.specified?parseInt(i.value,10):U.test(t.nodeName)||X.test(t.nodeName)&&t.href?0:e}}}}),I.attrHooks.tabindex=I.propHooks.tabIndex,W={get:function(t,i){var n,s=I.prop(t,i);return s===!0||"boolean"!=typeof s&&(n=t.getAttributeNode(i))&&n.nodeValue!==!1?i.toLowerCase():e},set:function(t,e,i){var n;return e===!1?I.removeAttr(t,i):(n=I.propFix[i]||i,n in t&&(t[n]=!0),t.setAttribute(i,i.toLowerCase())),i}},K||(j={name:!0,id:!0,coords:!0},F=I.valHooks.button={get:function(t,i){var n;return n=t.getAttributeNode(i),n&&(j[i]?""!==n.nodeValue:n.specified)?n.nodeValue:e},set:function(t,e,i){var n=t.getAttributeNode(i);return n||(n=A.createAttribute(i),t.setAttributeNode(n)),n.nodeValue=e+""}},I.attrHooks.tabindex.set=F.set,I.each(["width","height"],function(t,e){I.attrHooks[e]=I.extend(I.attrHooks[e],{set:function(t,i){return""===i?(t.setAttribute(e,"auto"),i):void 0}})}),I.attrHooks.contenteditable={get:F.get,set:function(t,e,i){
""===e&&(e="false"),F.set(t,e,i)}}),I.support.hrefNormalized||I.each(["href","src","width","height"],function(t,i){I.attrHooks[i]=I.extend(I.attrHooks[i],{get:function(t){var n=t.getAttribute(i,2);return null===n?e:n}})}),I.support.style||(I.attrHooks.style={get:function(t){return t.style.cssText.toLowerCase()||e},set:function(t,e){return t.style.cssText=""+e}}),I.support.optSelected||(I.propHooks.selected=I.extend(I.propHooks.selected,{get:function(t){var e=t.parentNode;return e&&(e.selectedIndex,e.parentNode&&e.parentNode.selectedIndex),null}})),I.support.enctype||(I.propFix.enctype="encoding"),I.support.checkOn||I.each(["radio","checkbox"],function(){I.valHooks[this]={get:function(t){return null===t.getAttribute("value")?"on":t.value}}}),I.each(["radio","checkbox"],function(){I.valHooks[this]=I.extend(I.valHooks[this],{set:function(t,e){return I.isArray(e)?t.checked=I.inArray(I(t).val(),e)>=0:void 0}})});var Q=/^(?:textarea|input|select)$/i,J=/^([^\.]*)?(?:\.(.+))?$/,Z=/(?:^|\s)hover(\.\S+)?\b/,tt=/^key/,et=/^(?:mouse|contextmenu)|click/,it=/^(?:focusinfocus|focusoutblur)$/,nt=/^(\w*)(?:#([\w\-]+))?(?:\.([\w\-]+))?$/,st=function(t){var e=nt.exec(t);return e&&(e[1]=(e[1]||"").toLowerCase(),e[3]=e[3]&&new RegExp("(?:^|\\s)"+e[3]+"(?:\\s|$)")),e},ot=function(t,e){var i=t.attributes||{};return(!e[1]||t.nodeName.toLowerCase()===e[1])&&(!e[2]||(i.id||{}).value===e[2])&&(!e[3]||e[3].test((i["class"]||{}).value))},at=function(t){return I.event.special.hover?t:t.replace(Z,"mouseenter$1 mouseleave$1")};I.event={add:function(t,i,n,s,o){var a,r,l,c,h,u,d,p,f,m,g;if(3!==t.nodeType&&8!==t.nodeType&&i&&n&&(a=I._data(t))){for(n.handler&&(f=n,n=f.handler,o=f.selector),n.guid||(n.guid=I.guid++),l=a.events,l||(a.events=l={}),r=a.handle,r||(a.handle=r=function(t){return"undefined"==typeof I||t&&I.event.triggered===t.type?e:I.event.dispatch.apply(r.elem,arguments)},r.elem=t),i=I.trim(at(i)).split(" "),c=0;c<i.length;c++)h=J.exec(i[c])||[],u=h[1],d=(h[2]||"").split(".").sort(),g=I.event.special[u]||{},u=(o?g.delegateType:g.bindType)||u,g=I.event.special[u]||{},p=I.extend({type:u,origType:h[1],data:s,handler:n,guid:n.guid,selector:o,quick:o&&st(o),namespace:d.join(".")},f),m=l[u],m||(m=l[u]=[],m.delegateCount=0,g.setup&&g.setup.call(t,s,d,r)!==!1||(t.addEventListener?t.addEventListener(u,r,!1):t.attachEvent&&t.attachEvent("on"+u,r))),g.add&&(g.add.call(t,p),p.handler.guid||(p.handler.guid=n.guid)),o?m.splice(m.delegateCount++,0,p):m.push(p),I.event.global[u]=!0;t=null}},global:{},remove:function(t,e,i,n,s){var o,a,r,l,c,h,u,d,p,f,m,g,v=I.hasData(t)&&I._data(t);if(v&&(d=v.events)){for(e=I.trim(at(e||"")).split(" "),o=0;o<e.length;o++)if(a=J.exec(e[o])||[],r=l=a[1],c=a[2],r){for(p=I.event.special[r]||{},r=(n?p.delegateType:p.bindType)||r,m=d[r]||[],h=m.length,c=c?new RegExp("(^|\\.)"+c.split(".").sort().join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=0;u<m.length;u++)g=m[u],!s&&l!==g.origType||i&&i.guid!==g.guid||c&&!c.test(g.namespace)||n&&n!==g.selector&&("**"!==n||!g.selector)||(m.splice(u--,1),g.selector&&m.delegateCount--,p.remove&&p.remove.call(t,g));0===m.length&&h!==m.length&&(p.teardown&&p.teardown.call(t,c)!==!1||I.removeEvent(t,r,v.handle),delete d[r])}else for(r in d)I.event.remove(t,r+e[o],i,n,!0);I.isEmptyObject(d)&&(f=v.handle,f&&(f.elem=null),I.removeData(t,["events","handle"],!0))}},customEvent:{getData:!0,setData:!0,changeData:!0},trigger:function(i,n,s,o){if(!s||3!==s.nodeType&&8!==s.nodeType){var a,r,l,c,h,u,d,p,f,m,g=i.type||i,v=[];if(!it.test(g+I.event.triggered)&&(g.indexOf("!")>=0&&(g=g.slice(0,-1),r=!0),g.indexOf(".")>=0&&(v=g.split("."),g=v.shift(),v.sort()),s&&!I.event.customEvent[g]||I.event.global[g]))if(i="object"==typeof i?i[I.expando]?i:new I.Event(g,i):new I.Event(g),i.type=g,i.isTrigger=!0,i.exclusive=r,i.namespace=v.join("."),i.namespace_re=i.namespace?new RegExp("(^|\\.)"+v.join("\\.(?:.*\\.)?")+"(\\.|$)"):null,u=g.indexOf(":")<0?"on"+g:"",s){if(i.result=e,i.target||(i.target=s),n=null!=n?I.makeArray(n):[],n.unshift(i),d=I.event.special[g]||{},!d.trigger||d.trigger.apply(s,n)!==!1){if(f=[[s,d.bindType||g]],!o&&!d.noBubble&&!I.isWindow(s)){for(m=d.delegateType||g,c=it.test(m+g)?s:s.parentNode,h=null;c;c=c.parentNode)f.push([c,m]),h=c;h&&h===s.ownerDocument&&f.push([h.defaultView||h.parentWindow||t,m])}for(l=0;l<f.length&&!i.isPropagationStopped();l++)c=f[l][0],i.type=f[l][1],p=(I._data(c,"events")||{})[i.type]&&I._data(c,"handle"),p&&p.apply(c,n),p=u&&c[u],p&&I.acceptData(c)&&p.apply(c,n)===!1&&i.preventDefault();return i.type=g,o||i.isDefaultPrevented()||d._default&&d._default.apply(s.ownerDocument,n)!==!1||"click"===g&&I.nodeName(s,"a")||!I.acceptData(s)||u&&s[g]&&("focus"!==g&&"blur"!==g||0!==i.target.offsetWidth)&&!I.isWindow(s)&&(h=s[u],h&&(s[u]=null),I.event.triggered=g,s[g](),I.event.triggered=e,h&&(s[u]=h)),i.result}}else{a=I.cache;for(l in a)a[l].events&&a[l].events[g]&&I.event.trigger(i,n,a[l].handle.elem,!0)}}},dispatch:function(i){i=I.event.fix(i||t.event);var n,s,o,a,r,l,c,h,u,d,p=(I._data(this,"events")||{})[i.type]||[],f=p.delegateCount,m=[].slice.call(arguments,0),g=!i.exclusive&&!i.namespace,v=I.event.special[i.type]||{},y=[];if(m[0]=i,i.delegateTarget=this,!v.preDispatch||v.preDispatch.call(this,i)!==!1){if(f&&(!i.button||"click"!==i.type))for(a=I(this),a.context=this.ownerDocument||this,o=i.target;o!=this;o=o.parentNode||this)if(o.disabled!==!0){for(l={},h=[],a[0]=o,n=0;f>n;n++)u=p[n],d=u.selector,l[d]===e&&(l[d]=u.quick?ot(o,u.quick):a.is(d)),l[d]&&h.push(u);h.length&&y.push({elem:o,matches:h})}for(p.length>f&&y.push({elem:this,matches:p.slice(f)}),n=0;n<y.length&&!i.isPropagationStopped();n++)for(c=y[n],i.currentTarget=c.elem,s=0;s<c.matches.length&&!i.isImmediatePropagationStopped();s++)u=c.matches[s],(g||!i.namespace&&!u.namespace||i.namespace_re&&i.namespace_re.test(u.namespace))&&(i.data=u.data,i.handleObj=u,r=((I.event.special[u.origType]||{}).handle||u.handler).apply(c.elem,m),r!==e&&(i.result=r,r===!1&&(i.preventDefault(),i.stopPropagation())));return v.postDispatch&&v.postDispatch.call(this,i),i.result}},props:"attrChange attrName relatedNode srcElement altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(t,e){return null==t.which&&(t.which=null!=e.charCode?e.charCode:e.keyCode),t}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(t,i){var n,s,o,a=i.button,r=i.fromElement;return null==t.pageX&&null!=i.clientX&&(n=t.target.ownerDocument||A,s=n.documentElement,o=n.body,t.pageX=i.clientX+(s&&s.scrollLeft||o&&o.scrollLeft||0)-(s&&s.clientLeft||o&&o.clientLeft||0),t.pageY=i.clientY+(s&&s.scrollTop||o&&o.scrollTop||0)-(s&&s.clientTop||o&&o.clientTop||0)),!t.relatedTarget&&r&&(t.relatedTarget=r===t.target?i.toElement:r),t.which||a===e||(t.which=1&a?1:2&a?3:4&a?2:0),t}},fix:function(t){if(t[I.expando])return t;var i,n,s=t,o=I.event.fixHooks[t.type]||{},a=o.props?this.props.concat(o.props):this.props;for(t=I.Event(s),i=a.length;i;)n=a[--i],t[n]=s[n];return t.target||(t.target=s.srcElement||A),3===t.target.nodeType&&(t.target=t.target.parentNode),t.metaKey===e&&(t.metaKey=t.ctrlKey),o.filter?o.filter(t,s):t},special:{ready:{setup:I.bindReady},load:{noBubble:!0},focus:{delegateType:"focusin"},blur:{delegateType:"focusout"},beforeunload:{setup:function(t,e,i){I.isWindow(this)&&(this.onbeforeunload=i)},teardown:function(t,e){this.onbeforeunload===e&&(this.onbeforeunload=null)}}},simulate:function(t,e,i,n){var s=I.extend(new I.Event,i,{type:t,isSimulated:!0,originalEvent:{}});n?I.event.trigger(s,null,e):I.event.dispatch.call(e,s),s.isDefaultPrevented()&&i.preventDefault()}},I.event.handle=I.event.dispatch,I.removeEvent=A.removeEventListener?function(t,e,i){t.removeEventListener&&t.removeEventListener(e,i,!1)}:function(t,e,i){t.detachEvent&&t.detachEvent("on"+e,i)},I.Event=function(t,e){return this instanceof I.Event?(t&&t.type?(this.originalEvent=t,this.type=t.type,this.isDefaultPrevented=t.defaultPrevented||t.returnValue===!1||t.getPreventDefault&&t.getPreventDefault()?r:a):this.type=t,e&&I.extend(this,e),this.timeStamp=t&&t.timeStamp||I.now(),void(this[I.expando]=!0)):new I.Event(t,e)},I.Event.prototype={preventDefault:function(){this.isDefaultPrevented=r;var t=this.originalEvent;t&&(t.preventDefault?t.preventDefault():t.returnValue=!1)},stopPropagation:function(){this.isPropagationStopped=r;var t=this.originalEvent;t&&(t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=r,this.stopPropagation()},isDefaultPrevented:a,isPropagationStopped:a,isImmediatePropagationStopped:a},I.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(t,e){I.event.special[t]={delegateType:e,bindType:e,handle:function(t){var i,n=this,s=t.relatedTarget,o=t.handleObj;o.selector;return s&&(s===n||I.contains(n,s))||(t.type=o.origType,i=o.handler.apply(this,arguments),t.type=e),i}}}),I.support.submitBubbles||(I.event.special.submit={setup:function(){return I.nodeName(this,"form")?!1:void I.event.add(this,"click._submit keypress._submit",function(t){var i=t.target,n=I.nodeName(i,"input")||I.nodeName(i,"button")?i.form:e;n&&!n._submit_attached&&(I.event.add(n,"submit._submit",function(t){t._submit_bubble=!0}),n._submit_attached=!0)})},postDispatch:function(t){t._submit_bubble&&(delete t._submit_bubble,this.parentNode&&!t.isTrigger&&I.event.simulate("submit",this.parentNode,t,!0))},teardown:function(){return I.nodeName(this,"form")?!1:void I.event.remove(this,"._submit")}}),I.support.changeBubbles||(I.event.special.change={setup:function(){return Q.test(this.nodeName)?("checkbox"!==this.type&&"radio"!==this.type||(I.event.add(this,"propertychange._change",function(t){"checked"===t.originalEvent.propertyName&&(this._just_changed=!0)}),I.event.add(this,"click._change",function(t){this._just_changed&&!t.isTrigger&&(this._just_changed=!1,I.event.simulate("change",this,t,!0))})),!1):void I.event.add(this,"beforeactivate._change",function(t){var e=t.target;Q.test(e.nodeName)&&!e._change_attached&&(I.event.add(e,"change._change",function(t){!this.parentNode||t.isSimulated||t.isTrigger||I.event.simulate("change",this.parentNode,t,!0)}),e._change_attached=!0)})},handle:function(t){var e=t.target;return this!==e||t.isSimulated||t.isTrigger||"radio"!==e.type&&"checkbox"!==e.type?t.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return I.event.remove(this,"._change"),Q.test(this.nodeName)}}),I.support.focusinBubbles||I.each({focus:"focusin",blur:"focusout"},function(t,e){var i=0,n=function(t){I.event.simulate(e,t.target,I.event.fix(t),!0)};I.event.special[e]={setup:function(){0===i++&&A.addEventListener(t,n,!0)},teardown:function(){0===--i&&A.removeEventListener(t,n,!0)}}}),I.fn.extend({on:function(t,i,n,s,o){var r,l;if("object"==typeof t){"string"!=typeof i&&(n=n||i,i=e);for(l in t)this.on(l,i,n,t[l],o);return this}if(null==n&&null==s?(s=i,n=i=e):null==s&&("string"==typeof i?(s=n,n=e):(s=n,n=i,i=e)),s===!1)s=a;else if(!s)return this;return 1===o&&(r=s,s=function(t){return I().off(t),r.apply(this,arguments)},s.guid=r.guid||(r.guid=I.guid++)),this.each(function(){I.event.add(this,t,s,n,i)})},one:function(t,e,i,n){return this.on(t,e,i,n,1)},off:function(t,i,n){if(t&&t.preventDefault&&t.handleObj){var s=t.handleObj;return I(t.delegateTarget).off(s.namespace?s.origType+"."+s.namespace:s.origType,s.selector,s.handler),this}if("object"==typeof t){for(var o in t)this.off(o,i,t[o]);return this}return i!==!1&&"function"!=typeof i||(n=i,i=e),n===!1&&(n=a),this.each(function(){I.event.remove(this,t,n,i)})},bind:function(t,e,i){return this.on(t,null,e,i)},unbind:function(t,e){return this.off(t,null,e)},live:function(t,e,i){return I(this.context).on(t,this.selector,e,i),this},die:function(t,e){return I(this.context).off(t,this.selector||"**",e),this},delegate:function(t,e,i,n){return this.on(e,t,i,n)},undelegate:function(t,e,i){return 1==arguments.length?this.off(t,"**"):this.off(e,t,i)},trigger:function(t,e){return this.each(function(){I.event.trigger(t,e,this)})},triggerHandler:function(t,e){return this[0]?I.event.trigger(t,e,this[0],!0):void 0},toggle:function(t){var e=arguments,i=t.guid||I.guid++,n=0,s=function(i){var s=(I._data(this,"lastToggle"+t.guid)||0)%n;return I._data(this,"lastToggle"+t.guid,s+1),i.preventDefault(),e[s].apply(this,arguments)||!1};for(s.guid=i;n<e.length;)e[n++].guid=i;return this.click(s)},hover:function(t,e){return this.mouseenter(t).mouseleave(e||t)}}),I.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(t,e){I.fn[e]=function(t,i){return null==i&&(i=t,t=null),arguments.length>0?this.on(e,null,t,i):this.trigger(e)},I.attrFn&&(I.attrFn[e]=!0),tt.test(e)&&(I.event.fixHooks[e]=I.event.keyHooks),et.test(e)&&(I.event.fixHooks[e]=I.event.mouseHooks)}),function(){function t(t,e,i,n,o,a){for(var r=0,l=n.length;l>r;r++){var c=n[r];if(c){var h=!1;for(c=c[t];c;){if(c[s]===i){h=n[c.sizset];break}if(1!==c.nodeType||a||(c[s]=i,c.sizset=r),c.nodeName.toLowerCase()===e){h=c;break}c=c[t]}n[r]=h}}}function i(t,e,i,n,o,a){for(var r=0,l=n.length;l>r;r++){var c=n[r];if(c){var h=!1;for(c=c[t];c;){if(c[s]===i){h=n[c.sizset];break}if(1===c.nodeType)if(a||(c[s]=i,c.sizset=r),"string"!=typeof e){if(c===e){h=!0;break}}else if(d.filter(e,[c]).length>0){h=c;break}c=c[t]}n[r]=h}}}var n=/((?:\((?:\([^()]+\)|[^()]+)+\)|\[(?:\[[^\[\]]*\]|['"][^'"]*['"]|[^\[\]'"]+)+\]|\\.|[^ >+~,(\[\\]+)+|[>+~])(\s*,\s*)?((?:.|\r|\n)*)/g,s="sizcache"+(Math.random()+"").replace(".",""),o=0,a=Object.prototype.toString,r=!1,l=!0,c=/\\/g,h=/\r\n/g,u=/\W/;[0,0].sort(function(){return l=!1,0});var d=function(t,e,i,s){i=i||[],e=e||A;var o=e;if(1!==e.nodeType&&9!==e.nodeType)return[];if(!t||"string"!=typeof t)return i;var r,l,c,h,u,p,g,v,b=!0,_=d.isXML(e),w=[],k=t;do if(n.exec(""),r=n.exec(k),r&&(k=r[3],w.push(r[1]),r[2])){h=r[3];break}while(r);if(w.length>1&&m.exec(t))if(2===w.length&&f.relative[w[0]])l=x(w[0]+w[1],e,s);else for(l=f.relative[w[0]]?[e]:d(w.shift(),e);w.length;)t=w.shift(),f.relative[t]&&(t+=w.shift()),l=x(t,l,s);else if(!s&&w.length>1&&9===e.nodeType&&!_&&f.match.ID.test(w[0])&&!f.match.ID.test(w[w.length-1])&&(u=d.find(w.shift(),e,_),e=u.expr?d.filter(u.expr,u.set)[0]:u.set[0]),e)for(u=s?{expr:w.pop(),set:y(s)}:d.find(w.pop(),1!==w.length||"~"!==w[0]&&"+"!==w[0]||!e.parentNode?e:e.parentNode,_),l=u.expr?d.filter(u.expr,u.set):u.set,w.length>0?c=y(l):b=!1;w.length;)p=w.pop(),g=p,f.relative[p]?g=w.pop():p="",null==g&&(g=e),f.relative[p](c,g,_);else c=w=[];if(c||(c=l),c||d.error(p||t),"[object Array]"===a.call(c))if(b)if(e&&1===e.nodeType)for(v=0;null!=c[v];v++)c[v]&&(c[v]===!0||1===c[v].nodeType&&d.contains(e,c[v]))&&i.push(l[v]);else for(v=0;null!=c[v];v++)c[v]&&1===c[v].nodeType&&i.push(l[v]);else i.push.apply(i,c);else y(c,i);return h&&(d(h,o,i,s),d.uniqueSort(i)),i};d.uniqueSort=function(t){if(_&&(r=l,t.sort(_),r))for(var e=1;e<t.length;e++)t[e]===t[e-1]&&t.splice(e--,1);return t},d.matches=function(t,e){return d(t,null,null,e)},d.matchesSelector=function(t,e){return d(e,null,null,[t]).length>0},d.find=function(t,e,i){var n,s,o,a,r,l;if(!t)return[];for(s=0,o=f.order.length;o>s;s++)if(r=f.order[s],(a=f.leftMatch[r].exec(t))&&(l=a[1],a.splice(1,1),"\\"!==l.substr(l.length-1)&&(a[1]=(a[1]||"").replace(c,""),n=f.find[r](a,e,i),null!=n))){t=t.replace(f.match[r],"");break}return n||(n="undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName("*"):[]),{set:n,expr:t}},d.filter=function(t,i,n,s){for(var o,a,r,l,c,h,u,p,m,g=t,v=[],y=i,b=i&&i[0]&&d.isXML(i[0]);t&&i.length;){for(r in f.filter)if(null!=(o=f.leftMatch[r].exec(t))&&o[2]){if(h=f.filter[r],u=o[1],a=!1,o.splice(1,1),"\\"===u.substr(u.length-1))continue;if(y===v&&(v=[]),f.preFilter[r])if(o=f.preFilter[r](o,y,n,v,s,b)){if(o===!0)continue}else a=l=!0;if(o)for(p=0;null!=(c=y[p]);p++)c&&(l=h(c,o,p,y),m=s^l,n&&null!=l?m?a=!0:y[p]=!1:m&&(v.push(c),a=!0));if(l!==e){if(n||(y=v),t=t.replace(f.match[r],""),!a)return[];break}}if(t===g){if(null!=a)break;d.error(t)}g=t}return y},d.error=function(t){throw new Error("Syntax error, unrecognized expression: "+t)};var p=d.getText=function(t){var e,i,n=t.nodeType,s="";if(n){if(1===n||9===n||11===n){if("string"==typeof t.textContent)return t.textContent;if("string"==typeof t.innerText)return t.innerText.replace(h,"");for(t=t.firstChild;t;t=t.nextSibling)s+=p(t)}else if(3===n||4===n)return t.nodeValue}else for(e=0;i=t[e];e++)8!==i.nodeType&&(s+=p(i));return s},f=d.selectors={order:["ID","NAME","TAG"],match:{ID:/#((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,CLASS:/\.((?:[\w\u00c0-\uFFFF\-]|\\.)+)/,NAME:/\[name=['"]*((?:[\w\u00c0-\uFFFF\-]|\\.)+)['"]*\]/,ATTR:/\[\s*((?:[\w\u00c0-\uFFFF\-]|\\.)+)\s*(?:(\S?=)\s*(?:(['"])(.*?)\3|(#?(?:[\w\u00c0-\uFFFF\-]|\\.)*)|)|)\s*\]/,TAG:/^((?:[\w\u00c0-\uFFFF\*\-]|\\.)+)/,CHILD:/:(only|nth|last|first)-child(?:\(\s*(even|odd|(?:[+\-]?\d+|(?:[+\-]?\d*)?n\s*(?:[+\-]\s*\d+)?))\s*\))?/,POS:/:(nth|eq|gt|lt|first|last|even|odd)(?:\((\d*)\))?(?=[^\-]|$)/,PSEUDO:/:((?:[\w\u00c0-\uFFFF\-]|\\.)+)(?:\((['"]?)((?:\([^\)]+\)|[^\(\)]*)+)\2\))?/},leftMatch:{},attrMap:{"class":"className","for":"htmlFor"},attrHandle:{href:function(t){return t.getAttribute("href")},type:function(t){return t.getAttribute("type")}},relative:{"+":function(t,e){var i="string"==typeof e,n=i&&!u.test(e),s=i&&!n;n&&(e=e.toLowerCase());for(var o,a=0,r=t.length;r>a;a++)if(o=t[a]){for(;(o=o.previousSibling)&&1!==o.nodeType;);t[a]=s||o&&o.nodeName.toLowerCase()===e?o||!1:o===e}s&&d.filter(e,t,!0)},">":function(t,e){var i,n="string"==typeof e,s=0,o=t.length;if(n&&!u.test(e)){for(e=e.toLowerCase();o>s;s++)if(i=t[s]){var a=i.parentNode;t[s]=a.nodeName.toLowerCase()===e?a:!1}}else{for(;o>s;s++)i=t[s],i&&(t[s]=n?i.parentNode:i.parentNode===e);n&&d.filter(e,t,!0)}},"":function(e,n,s){var a,r=o++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),a=n,l=t),l("parentNode",n,r,e,a,s)},"~":function(e,n,s){var a,r=o++,l=i;"string"!=typeof n||u.test(n)||(n=n.toLowerCase(),a=n,l=t),l("previousSibling",n,r,e,a,s)}},find:{ID:function(t,e,i){if("undefined"!=typeof e.getElementById&&!i){var n=e.getElementById(t[1]);return n&&n.parentNode?[n]:[]}},NAME:function(t,e){if("undefined"!=typeof e.getElementsByName){for(var i=[],n=e.getElementsByName(t[1]),s=0,o=n.length;o>s;s++)n[s].getAttribute("name")===t[1]&&i.push(n[s]);return 0===i.length?null:i}},TAG:function(t,e){return"undefined"!=typeof e.getElementsByTagName?e.getElementsByTagName(t[1]):void 0}},preFilter:{CLASS:function(t,e,i,n,s,o){if(t=" "+t[1].replace(c,"")+" ",o)return t;for(var a,r=0;null!=(a=e[r]);r++)a&&(s^(a.className&&(" "+a.className+" ").replace(/[\t\n\r]/g," ").indexOf(t)>=0)?i||n.push(a):i&&(e[r]=!1));return!1},ID:function(t){return t[1].replace(c,"")},TAG:function(t,e){return t[1].replace(c,"").toLowerCase()},CHILD:function(t){if("nth"===t[1]){t[2]||d.error(t[0]),t[2]=t[2].replace(/^\+|\s*/g,"");var e=/(-?)(\d*)(?:n([+\-]?\d*))?/.exec("even"===t[2]&&"2n"||"odd"===t[2]&&"2n+1"||!/\D/.test(t[2])&&"0n+"+t[2]||t[2]);t[2]=e[1]+(e[2]||1)-0,t[3]=e[3]-0}else t[2]&&d.error(t[0]);return t[0]=o++,t},ATTR:function(t,e,i,n,s,o){var a=t[1]=t[1].replace(c,"");return!o&&f.attrMap[a]&&(t[1]=f.attrMap[a]),t[4]=(t[4]||t[5]||"").replace(c,""),"~="===t[2]&&(t[4]=" "+t[4]+" "),t},PSEUDO:function(t,e,i,s,o){if("not"===t[1]){if(!((n.exec(t[3])||"").length>1||/^\w/.test(t[3]))){var a=d.filter(t[3],e,i,!0^o);return i||s.push.apply(s,a),!1}t[3]=d(t[3],null,null,e)}else if(f.match.POS.test(t[0])||f.match.CHILD.test(t[0]))return!0;return t},POS:function(t){return t.unshift(!0),t}},filters:{enabled:function(t){return t.disabled===!1&&"hidden"!==t.type},disabled:function(t){return t.disabled===!0},checked:function(t){return t.checked===!0},selected:function(t){return t.parentNode&&t.parentNode.selectedIndex,t.selected===!0},parent:function(t){return!!t.firstChild},empty:function(t){return!t.firstChild},has:function(t,e,i){return!!d(i[3],t).length},header:function(t){return/h\d/i.test(t.nodeName)},text:function(t){var e=t.getAttribute("type"),i=t.type;return"input"===t.nodeName.toLowerCase()&&"text"===i&&(e===i||null===e)},radio:function(t){return"input"===t.nodeName.toLowerCase()&&"radio"===t.type},checkbox:function(t){return"input"===t.nodeName.toLowerCase()&&"checkbox"===t.type},file:function(t){return"input"===t.nodeName.toLowerCase()&&"file"===t.type},password:function(t){return"input"===t.nodeName.toLowerCase()&&"password"===t.type},submit:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"submit"===t.type},image:function(t){return"input"===t.nodeName.toLowerCase()&&"image"===t.type},reset:function(t){var e=t.nodeName.toLowerCase();return("input"===e||"button"===e)&&"reset"===t.type},button:function(t){var e=t.nodeName.toLowerCase();return"input"===e&&"button"===t.type||"button"===e},input:function(t){return/input|select|textarea|button/i.test(t.nodeName)},focus:function(t){return t===t.ownerDocument.activeElement}},setFilters:{first:function(t,e){return 0===e},last:function(t,e,i,n){return e===n.length-1},even:function(t,e){return e%2===0},odd:function(t,e){return e%2===1},lt:function(t,e,i){return e<i[3]-0},gt:function(t,e,i){return e>i[3]-0},nth:function(t,e,i){return i[3]-0===e},eq:function(t,e,i){return i[3]-0===e}},filter:{PSEUDO:function(t,e,i,n){var s=e[1],o=f.filters[s];if(o)return o(t,i,e,n);if("contains"===s)return(t.textContent||t.innerText||p([t])||"").indexOf(e[3])>=0;if("not"===s){for(var a=e[3],r=0,l=a.length;l>r;r++)if(a[r]===t)return!1;return!0}d.error(s)},CHILD:function(t,e){var i,n,o,a,r,l,c=e[1],h=t;switch(c){case"only":case"first":for(;h=h.previousSibling;)if(1===h.nodeType)return!1;if("first"===c)return!0;h=t;case"last":for(;h=h.nextSibling;)if(1===h.nodeType)return!1;return!0;case"nth":if(i=e[2],n=e[3],1===i&&0===n)return!0;if(o=e[0],a=t.parentNode,a&&(a[s]!==o||!t.nodeIndex)){for(r=0,h=a.firstChild;h;h=h.nextSibling)1===h.nodeType&&(h.nodeIndex=++r);a[s]=o}return l=t.nodeIndex-n,0===i?0===l:l%i===0&&l/i>=0}},ID:function(t,e){return 1===t.nodeType&&t.getAttribute("id")===e},TAG:function(t,e){return"*"===e&&1===t.nodeType||!!t.nodeName&&t.nodeName.toLowerCase()===e},CLASS:function(t,e){return(" "+(t.className||t.getAttribute("class"))+" ").indexOf(e)>-1},ATTR:function(t,e){var i=e[1],n=d.attr?d.attr(t,i):f.attrHandle[i]?f.attrHandle[i](t):null!=t[i]?t[i]:t.getAttribute(i),s=n+"",o=e[2],a=e[4];return null==n?"!="===o:!o&&d.attr?null!=n:"="===o?s===a:"*="===o?s.indexOf(a)>=0:"~="===o?(" "+s+" ").indexOf(a)>=0:a?"!="===o?s!==a:"^="===o?0===s.indexOf(a):"$="===o?s.substr(s.length-a.length)===a:"|="===o?s===a||s.substr(0,a.length+1)===a+"-":!1:s&&n!==!1},POS:function(t,e,i,n){var s=e[2],o=f.setFilters[s];return o?o(t,i,e,n):void 0}}},m=f.match.POS,g=function(t,e){return"\\"+(e-0+1)};for(var v in f.match)f.match[v]=new RegExp(f.match[v].source+/(?![^\[]*\])(?![^\(]*\))/.source),f.leftMatch[v]=new RegExp(/(^(?:.|\r|\n)*?)/.source+f.match[v].source.replace(/\\(\d+)/g,g));f.match.globalPOS=m;var y=function(t,e){return t=Array.prototype.slice.call(t,0),e?(e.push.apply(e,t),e):t};try{Array.prototype.slice.call(A.documentElement.childNodes,0)[0].nodeType}catch(b){y=function(t,e){var i=0,n=e||[];if("[object Array]"===a.call(t))Array.prototype.push.apply(n,t);else if("number"==typeof t.length)for(var s=t.length;s>i;i++)n.push(t[i]);else for(;t[i];i++)n.push(t[i]);return n}}var _,w;A.documentElement.compareDocumentPosition?_=function(t,e){return t===e?(r=!0,0):t.compareDocumentPosition&&e.compareDocumentPosition?4&t.compareDocumentPosition(e)?-1:1:t.compareDocumentPosition?-1:1}:(_=function(t,e){if(t===e)return r=!0,0;if(t.sourceIndex&&e.sourceIndex)return t.sourceIndex-e.sourceIndex;var i,n,s=[],o=[],a=t.parentNode,l=e.parentNode,c=a;if(a===l)return w(t,e);if(!a)return-1;if(!l)return 1;for(;c;)s.unshift(c),c=c.parentNode;for(c=l;c;)o.unshift(c),c=c.parentNode;i=s.length,n=o.length;for(var h=0;i>h&&n>h;h++)if(s[h]!==o[h])return w(s[h],o[h]);return h===i?w(t,o[h],-1):w(s[h],e,1)},w=function(t,e,i){if(t===e)return i;for(var n=t.nextSibling;n;){if(n===e)return-1;n=n.nextSibling}return 1}),function(){var t=A.createElement("div"),i="script"+(new Date).getTime(),n=A.documentElement;t.innerHTML="<a name='"+i+"'/>",n.insertBefore(t,n.firstChild),A.getElementById(i)&&(f.find.ID=function(t,i,n){if("undefined"!=typeof i.getElementById&&!n){var s=i.getElementById(t[1]);return s?s.id===t[1]||"undefined"!=typeof s.getAttributeNode&&s.getAttributeNode("id").nodeValue===t[1]?[s]:e:[]}},f.filter.ID=function(t,e){var i="undefined"!=typeof t.getAttributeNode&&t.getAttributeNode("id");return 1===t.nodeType&&i&&i.nodeValue===e}),n.removeChild(t),n=t=null}(),function(){var t=A.createElement("div");t.appendChild(A.createComment("")),t.getElementsByTagName("*").length>0&&(f.find.TAG=function(t,e){var i=e.getElementsByTagName(t[1]);if("*"===t[1]){for(var n=[],s=0;i[s];s++)1===i[s].nodeType&&n.push(i[s]);i=n}return i}),t.innerHTML="<a href='#'></a>",t.firstChild&&"undefined"!=typeof t.firstChild.getAttribute&&"#"!==t.firstChild.getAttribute("href")&&(f.attrHandle.href=function(t){return t.getAttribute("href",2)}),t=null}(),A.querySelectorAll&&!function(){var t=d,e=A.createElement("div"),i="__sizzle__";if(e.innerHTML="<p class='TEST'></p>",!e.querySelectorAll||0!==e.querySelectorAll(".TEST").length){d=function(e,n,s,o){if(n=n||A,!o&&!d.isXML(n)){var a=/^(\w+$)|^\.([\w\-]+$)|^#([\w\-]+$)/.exec(e);if(a&&(1===n.nodeType||9===n.nodeType)){if(a[1])return y(n.getElementsByTagName(e),s);if(a[2]&&f.find.CLASS&&n.getElementsByClassName)return y(n.getElementsByClassName(a[2]),s)}if(9===n.nodeType){if("body"===e&&n.body)return y([n.body],s);if(a&&a[3]){var r=n.getElementById(a[3]);if(!r||!r.parentNode)return y([],s);if(r.id===a[3])return y([r],s)}try{return y(n.querySelectorAll(e),s)}catch(l){}}else if(1===n.nodeType&&"object"!==n.nodeName.toLowerCase()){var c=n,h=n.getAttribute("id"),u=h||i,p=n.parentNode,m=/^\s*[+~]/.test(e);h?u=u.replace(/'/g,"\\$&"):n.setAttribute("id",u),m&&p&&(n=n.parentNode);try{if(!m||p)return y(n.querySelectorAll("[id='"+u+"'] "+e),s)}catch(g){}finally{h||c.removeAttribute("id")}}}return t(e,n,s,o)};for(var n in t)d[n]=t[n];e=null}}(),function(){var t=A.documentElement,e=t.matchesSelector||t.mozMatchesSelector||t.webkitMatchesSelector||t.msMatchesSelector;if(e){var i=!e.call(A.createElement("div"),"div"),n=!1;try{e.call(A.documentElement,"[test!='']:sizzle")}catch(s){n=!0}d.matchesSelector=function(t,s){if(s=s.replace(/\=\s*([^'"\]]*)\s*\]/g,"='$1']"),!d.isXML(t))try{if(n||!f.match.PSEUDO.test(s)&&!/!=/.test(s)){var o=e.call(t,s);if(o||!i||t.document&&11!==t.document.nodeType)return o}}catch(a){}return d(s,null,null,[t]).length>0}}}(),function(){var t=A.createElement("div");t.innerHTML="<div class='test e'></div><div class='test'></div>",t.getElementsByClassName&&0!==t.getElementsByClassName("e").length&&(t.lastChild.className="e",1!==t.getElementsByClassName("e").length&&(f.order.splice(1,0,"CLASS"),f.find.CLASS=function(t,e,i){return"undefined"==typeof e.getElementsByClassName||i?void 0:e.getElementsByClassName(t[1])},t=null))}(),A.documentElement.contains?d.contains=function(t,e){return t!==e&&(t.contains?t.contains(e):!0)}:A.documentElement.compareDocumentPosition?d.contains=function(t,e){return!!(16&t.compareDocumentPosition(e))}:d.contains=function(){return!1},d.isXML=function(t){var e=(t?t.ownerDocument||t:0).documentElement;return e?"HTML"!==e.nodeName:!1};var x=function(t,e,i){for(var n,s=[],o="",a=e.nodeType?[e]:e;n=f.match.PSEUDO.exec(t);)o+=n[0],t=t.replace(f.match.PSEUDO,"");t=f.relative[t]?t+"*":t;for(var r=0,l=a.length;l>r;r++)d(t,a[r],s,i);return d.filter(o,s)};d.attr=I.attr,d.selectors.attrMap={},I.find=d,I.expr=d.selectors,I.expr[":"]=I.expr.filters,I.unique=d.uniqueSort,I.text=d.getText,I.isXMLDoc=d.isXML,I.contains=d.contains}();var rt=/Until$/,lt=/^(?:parents|prevUntil|prevAll)/,ct=/,/,ht=/^.[^:#\[\.,]*$/,ut=Array.prototype.slice,dt=I.expr.match.globalPOS,pt={children:!0,contents:!0,next:!0,prev:!0};I.fn.extend({find:function(t){var e,i,n=this;if("string"!=typeof t)return I(t).filter(function(){for(e=0,i=n.length;i>e;e++)if(I.contains(n[e],this))return!0});var s,o,a,r=this.pushStack("","find",t);for(e=0,i=this.length;i>e;e++)if(s=r.length,I.find(t,this[e],r),e>0)for(o=s;o<r.length;o++)for(a=0;s>a;a++)if(r[a]===r[o]){r.splice(o--,1);break}return r},has:function(t){var e=I(t);return this.filter(function(){for(var t=0,i=e.length;i>t;t++)if(I.contains(this,e[t]))return!0})},not:function(t){return this.pushStack(c(this,t,!1),"not",t)},filter:function(t){return this.pushStack(c(this,t,!0),"filter",t)},is:function(t){return!!t&&("string"==typeof t?dt.test(t)?I(t,this.context).index(this[0])>=0:I.filter(t,this).length>0:this.filter(t).length>0)},closest:function(t,e){var i,n,s=[],o=this[0];if(I.isArray(t)){for(var a=1;o&&o.ownerDocument&&o!==e;){for(i=0;i<t.length;i++)I(o).is(t[i])&&s.push({selector:t[i],elem:o,level:a});o=o.parentNode,a++}return s}var r=dt.test(t)||"string"!=typeof t?I(t,e||this.context):0;for(i=0,n=this.length;n>i;i++)for(o=this[i];o;){if(r?r.index(o)>-1:I.find.matchesSelector(o,t)){s.push(o);break}if(o=o.parentNode,!o||!o.ownerDocument||o===e||11===o.nodeType)break}return s=s.length>1?I.unique(s):s,this.pushStack(s,"closest",t)},index:function(t){return t?"string"==typeof t?I.inArray(this[0],I(t)):I.inArray(t.jquery?t[0]:t,this):this[0]&&this[0].parentNode?this.prevAll().length:-1},add:function(t,e){var i="string"==typeof t?I(t,e):I.makeArray(t&&t.nodeType?[t]:t),n=I.merge(this.get(),i);return this.pushStack(l(i[0])||l(n[0])?n:I.unique(n))},andSelf:function(){return this.add(this.prevObject)}}),I.each({parent:function(t){var e=t.parentNode;return e&&11!==e.nodeType?e:null},parents:function(t){return I.dir(t,"parentNode")},parentsUntil:function(t,e,i){return I.dir(t,"parentNode",i)},next:function(t){return I.nth(t,2,"nextSibling")},prev:function(t){return I.nth(t,2,"previousSibling")},nextAll:function(t){return I.dir(t,"nextSibling")},prevAll:function(t){return I.dir(t,"previousSibling")},nextUntil:function(t,e,i){return I.dir(t,"nextSibling",i)},prevUntil:function(t,e,i){return I.dir(t,"previousSibling",i)},siblings:function(t){return I.sibling((t.parentNode||{}).firstChild,t)},children:function(t){return I.sibling(t.firstChild)},contents:function(t){return I.nodeName(t,"iframe")?t.contentDocument||t.contentWindow.document:I.makeArray(t.childNodes)}},function(t,e){I.fn[t]=function(i,n){var s=I.map(this,e,i);return rt.test(t)||(n=i),n&&"string"==typeof n&&(s=I.filter(n,s)),s=this.length>1&&!pt[t]?I.unique(s):s,(this.length>1||ct.test(n))&&lt.test(t)&&(s=s.reverse()),this.pushStack(s,t,ut.call(arguments).join(","))}}),I.extend({filter:function(t,e,i){return i&&(t=":not("+t+")"),1===e.length?I.find.matchesSelector(e[0],t)?[e[0]]:[]:I.find.matches(t,e)},dir:function(t,i,n){for(var s=[],o=t[i];o&&9!==o.nodeType&&(n===e||1!==o.nodeType||!I(o).is(n));)1===o.nodeType&&s.push(o),o=o[i];return s},nth:function(t,e,i,n){e=e||1;for(var s=0;t&&(1!==t.nodeType||++s!==e);t=t[i]);return t},sibling:function(t,e){for(var i=[];t;t=t.nextSibling)1===t.nodeType&&t!==e&&i.push(t);return i}});var ft="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",mt=/ jQuery\d+="(?:\d+|null)"/g,gt=/^\s+/,vt=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,yt=/<([\w:]+)/,bt=/<tbody/i,_t=/<|&#?\w+;/,wt=/<(?:script|style)/i,xt=/<(?:script|object|embed|option|style)/i,kt=new RegExp("<(?:"+ft+")[\\s/>]","i"),Ct=/checked\s*(?:[^=]|=\s*.checked.)/i,Tt=/\/(java|ecma)script/i,St=/^\s*<!(?:\[CDATA\[|\-\-)/,Dt={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],
thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],area:[1,"<map>","</map>"],_default:[0,"",""]},Mt=h(A);Dt.optgroup=Dt.option,Dt.tbody=Dt.tfoot=Dt.colgroup=Dt.caption=Dt.thead,Dt.th=Dt.td,I.support.htmlSerialize||(Dt._default=[1,"div<div>","</div>"]),I.fn.extend({text:function(t){return I.access(this,function(t){return t===e?I.text(this):this.empty().append((this[0]&&this[0].ownerDocument||A).createTextNode(t))},null,t,arguments.length)},wrapAll:function(t){if(I.isFunction(t))return this.each(function(e){I(this).wrapAll(t.call(this,e))});if(this[0]){var e=I(t,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&e.insertBefore(this[0]),e.map(function(){for(var t=this;t.firstChild&&1===t.firstChild.nodeType;)t=t.firstChild;return t}).append(this)}return this},wrapInner:function(t){return I.isFunction(t)?this.each(function(e){I(this).wrapInner(t.call(this,e))}):this.each(function(){var e=I(this),i=e.contents();i.length?i.wrapAll(t):e.append(t)})},wrap:function(t){var e=I.isFunction(t);return this.each(function(i){I(this).wrapAll(e?t.call(this,i):t)})},unwrap:function(){return this.parent().each(function(){I.nodeName(this,"body")||I(this).replaceWith(this.childNodes)}).end()},append:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.appendChild(t)})},prepend:function(){return this.domManip(arguments,!0,function(t){1===this.nodeType&&this.insertBefore(t,this.firstChild)})},before:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this)});if(arguments.length){var t=I.clean(arguments);return t.push.apply(t,this.toArray()),this.pushStack(t,"before",arguments)}},after:function(){if(this[0]&&this[0].parentNode)return this.domManip(arguments,!1,function(t){this.parentNode.insertBefore(t,this.nextSibling)});if(arguments.length){var t=this.pushStack(this,"after",arguments);return t.push.apply(t,I.clean(arguments)),t}},remove:function(t,e){for(var i,n=0;null!=(i=this[n]);n++)t&&!I.filter(t,[i]).length||(e||1!==i.nodeType||(I.cleanData(i.getElementsByTagName("*")),I.cleanData([i])),i.parentNode&&i.parentNode.removeChild(i));return this},empty:function(){for(var t,e=0;null!=(t=this[e]);e++)for(1===t.nodeType&&I.cleanData(t.getElementsByTagName("*"));t.firstChild;)t.removeChild(t.firstChild);return this},clone:function(t,e){return t=null==t?!1:t,e=null==e?t:e,this.map(function(){return I.clone(this,t,e)})},html:function(t){return I.access(this,function(t){var i=this[0]||{},n=0,s=this.length;if(t===e)return 1===i.nodeType?i.innerHTML.replace(mt,""):null;if("string"==typeof t&&!wt.test(t)&&(I.support.leadingWhitespace||!gt.test(t))&&!Dt[(yt.exec(t)||["",""])[1].toLowerCase()]){t=t.replace(vt,"<$1></$2>");try{for(;s>n;n++)i=this[n]||{},1===i.nodeType&&(I.cleanData(i.getElementsByTagName("*")),i.innerHTML=t);i=0}catch(o){}}i&&this.empty().append(t)},null,t,arguments.length)},replaceWith:function(t){return this[0]&&this[0].parentNode?I.isFunction(t)?this.each(function(e){var i=I(this),n=i.html();i.replaceWith(t.call(this,e,n))}):("string"!=typeof t&&(t=I(t).detach()),this.each(function(){var e=this.nextSibling,i=this.parentNode;I(this).remove(),e?I(e).before(t):I(i).append(t)})):this.length?this.pushStack(I(I.isFunction(t)?t():t),"replaceWith",t):this},detach:function(t){return this.remove(t,!0)},domManip:function(t,i,n){var s,o,a,r,l=t[0],c=[];if(!I.support.checkClone&&3===arguments.length&&"string"==typeof l&&Ct.test(l))return this.each(function(){I(this).domManip(t,i,n,!0)});if(I.isFunction(l))return this.each(function(s){var o=I(this);t[0]=l.call(this,s,i?o.html():e),o.domManip(t,i,n)});if(this[0]){if(r=l&&l.parentNode,s=I.support.parentNode&&r&&11===r.nodeType&&r.childNodes.length===this.length?{fragment:r}:I.buildFragment(t,this,c),a=s.fragment,o=1===a.childNodes.length?a=a.firstChild:a.firstChild){i=i&&I.nodeName(o,"tr");for(var h=0,d=this.length,p=d-1;d>h;h++)n.call(i?u(this[h],o):this[h],s.cacheable||d>1&&p>h?I.clone(a,!0,!0):a)}c.length&&I.each(c,function(t,e){e.src?I.ajax({type:"GET",global:!1,url:e.src,async:!1,dataType:"script"}):I.globalEval((e.text||e.textContent||e.innerHTML||"").replace(St,"/*$0*/")),e.parentNode&&e.parentNode.removeChild(e)})}return this}}),I.buildFragment=function(t,e,i){var n,s,o,a,r=t[0];return e&&e[0]&&(a=e[0].ownerDocument||e[0]),a.createDocumentFragment||(a=A),!(1===t.length&&"string"==typeof r&&r.length<512&&a===A&&"<"===r.charAt(0))||xt.test(r)||!I.support.checkClone&&Ct.test(r)||!I.support.html5Clone&&kt.test(r)||(s=!0,o=I.fragments[r],o&&1!==o&&(n=o)),n||(n=a.createDocumentFragment(),I.clean(t,a,n,i)),s&&(I.fragments[r]=o?n:1),{fragment:n,cacheable:s}},I.fragments={},I.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(t,e){I.fn[t]=function(i){var n=[],s=I(i),o=1===this.length&&this[0].parentNode;if(o&&11===o.nodeType&&1===o.childNodes.length&&1===s.length)return s[e](this[0]),this;for(var a=0,r=s.length;r>a;a++){var l=(a>0?this.clone(!0):this).get();I(s[a])[e](l),n=n.concat(l)}return this.pushStack(n,t,s.selector)}}),I.extend({clone:function(t,e,i){var n,s,o,a=I.support.html5Clone||I.isXMLDoc(t)||!kt.test("<"+t.nodeName+">")?t.cloneNode(!0):v(t);if(!(I.support.noCloneEvent&&I.support.noCloneChecked||1!==t.nodeType&&11!==t.nodeType||I.isXMLDoc(t)))for(p(t,a),n=f(t),s=f(a),o=0;n[o];++o)s[o]&&p(n[o],s[o]);if(e&&(d(t,a),i))for(n=f(t),s=f(a),o=0;n[o];++o)d(n[o],s[o]);return n=s=null,a},clean:function(t,e,i,n){var s,o,a,r=[];e=e||A,"undefined"==typeof e.createElement&&(e=e.ownerDocument||e[0]&&e[0].ownerDocument||A);for(var l,c=0;null!=(l=t[c]);c++)if("number"==typeof l&&(l+=""),l){if("string"==typeof l)if(_t.test(l)){l=l.replace(vt,"<$1></$2>");var u,d=(yt.exec(l)||["",""])[1].toLowerCase(),p=Dt[d]||Dt._default,f=p[0],m=e.createElement("div"),v=Mt.childNodes;for(e===A?Mt.appendChild(m):h(e).appendChild(m),m.innerHTML=p[1]+l+p[2];f--;)m=m.lastChild;if(!I.support.tbody){var y=bt.test(l),b="table"!==d||y?"<table>"!==p[1]||y?[]:m.childNodes:m.firstChild&&m.firstChild.childNodes;for(a=b.length-1;a>=0;--a)I.nodeName(b[a],"tbody")&&!b[a].childNodes.length&&b[a].parentNode.removeChild(b[a])}!I.support.leadingWhitespace&&gt.test(l)&&m.insertBefore(e.createTextNode(gt.exec(l)[0]),m.firstChild),l=m.childNodes,m&&(m.parentNode.removeChild(m),v.length>0&&(u=v[v.length-1],u&&u.parentNode&&u.parentNode.removeChild(u)))}else l=e.createTextNode(l);var _;if(!I.support.appendChecked)if(l[0]&&"number"==typeof(_=l.length))for(a=0;_>a;a++)g(l[a]);else g(l);l.nodeType?r.push(l):r=I.merge(r,l)}if(i)for(s=function(t){return!t.type||Tt.test(t.type)},c=0;r[c];c++)if(o=r[c],n&&I.nodeName(o,"script")&&(!o.type||Tt.test(o.type)))n.push(o.parentNode?o.parentNode.removeChild(o):o);else{if(1===o.nodeType){var w=I.grep(o.getElementsByTagName("script"),s);r.splice.apply(r,[c+1,0].concat(w))}i.appendChild(o)}return r},cleanData:function(t){for(var e,i,n,s=I.cache,o=I.event.special,a=I.support.deleteExpando,r=0;null!=(n=t[r]);r++)if((!n.nodeName||!I.noData[n.nodeName.toLowerCase()])&&(i=n[I.expando])){if(e=s[i],e&&e.events){for(var l in e.events)o[l]?I.event.remove(n,l):I.removeEvent(n,l,e.handle);e.handle&&(e.handle.elem=null)}a?delete n[I.expando]:n.removeAttribute&&n.removeAttribute(I.expando),delete s[i]}}});var Et,$t,Pt,At=/alpha\([^)]*\)/i,Nt=/opacity=([^)]*)/,Ht=/([A-Z]|^ms)/g,It=/^[\-+]?(?:\d*\.)?\d+$/i,Rt=/^-?(?:\d*\.)?\d+(?!px)[^\d\s]+$/i,Ot=/^([\-+])=([\-+.\de]+)/,Lt=/^margin/,zt={position:"absolute",visibility:"hidden",display:"block"},Ft=["Top","Right","Bottom","Left"];I.fn.css=function(t,i){return I.access(this,function(t,i,n){return n!==e?I.style(t,i,n):I.css(t,i)},t,i,arguments.length>1)},I.extend({cssHooks:{opacity:{get:function(t,e){if(e){var i=Et(t,"opacity");return""===i?"1":i}return t.style.opacity}}},cssNumber:{fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":I.support.cssFloat?"cssFloat":"styleFloat"},style:function(t,i,n,s){if(t&&3!==t.nodeType&&8!==t.nodeType&&t.style){var o,a,r=I.camelCase(i),l=t.style,c=I.cssHooks[r];if(i=I.cssProps[r]||r,n===e)return c&&"get"in c&&(o=c.get(t,!1,s))!==e?o:l[i];if(a=typeof n,"string"===a&&(o=Ot.exec(n))&&(n=+(o[1]+1)*+o[2]+parseFloat(I.css(t,i)),a="number"),!(null==n||"number"===a&&isNaN(n)||("number"!==a||I.cssNumber[r]||(n+="px"),c&&"set"in c&&(n=c.set(t,n))===e)))try{l[i]=n}catch(h){}}},css:function(t,i,n){var s,o;return i=I.camelCase(i),o=I.cssHooks[i],i=I.cssProps[i]||i,"cssFloat"===i&&(i="float"),o&&"get"in o&&(s=o.get(t,!0,n))!==e?s:Et?Et(t,i):void 0},swap:function(t,e,i){var n,s,o={};for(s in e)o[s]=t.style[s],t.style[s]=e[s];n=i.call(t);for(s in e)t.style[s]=o[s];return n}}),I.curCSS=I.css,A.defaultView&&A.defaultView.getComputedStyle&&($t=function(t,e){var i,n,s,o,a=t.style;return e=e.replace(Ht,"-$1").toLowerCase(),(n=t.ownerDocument.defaultView)&&(s=n.getComputedStyle(t,null))&&(i=s.getPropertyValue(e),""!==i||I.contains(t.ownerDocument.documentElement,t)||(i=I.style(t,e))),!I.support.pixelMargin&&s&&Lt.test(e)&&Rt.test(i)&&(o=a.width,a.width=i,i=s.width,a.width=o),i}),A.documentElement.currentStyle&&(Pt=function(t,e){var i,n,s,o=t.currentStyle&&t.currentStyle[e],a=t.style;return null==o&&a&&(s=a[e])&&(o=s),Rt.test(o)&&(i=a.left,n=t.runtimeStyle&&t.runtimeStyle.left,n&&(t.runtimeStyle.left=t.currentStyle.left),a.left="fontSize"===e?"1em":o,o=a.pixelLeft+"px",a.left=i,n&&(t.runtimeStyle.left=n)),""===o?"auto":o}),Et=$t||Pt,I.each(["height","width"],function(t,e){I.cssHooks[e]={get:function(t,i,n){return i?0!==t.offsetWidth?y(t,e,n):I.swap(t,zt,function(){return y(t,e,n)}):void 0},set:function(t,e){return It.test(e)?e+"px":e}}}),I.support.opacity||(I.cssHooks.opacity={get:function(t,e){return Nt.test((e&&t.currentStyle?t.currentStyle.filter:t.style.filter)||"")?parseFloat(RegExp.$1)/100+"":e?"1":""},set:function(t,e){var i=t.style,n=t.currentStyle,s=I.isNumeric(e)?"alpha(opacity="+100*e+")":"",o=n&&n.filter||i.filter||"";i.zoom=1,e>=1&&""===I.trim(o.replace(At,""))&&(i.removeAttribute("filter"),n&&!n.filter)||(i.filter=At.test(o)?o.replace(At,s):o+" "+s)}}),I(function(){I.support.reliableMarginRight||(I.cssHooks.marginRight={get:function(t,e){return I.swap(t,{display:"inline-block"},function(){return e?Et(t,"margin-right"):t.style.marginRight})}})}),I.expr&&I.expr.filters&&(I.expr.filters.hidden=function(t){var e=t.offsetWidth,i=t.offsetHeight;return 0===e&&0===i||!I.support.reliableHiddenOffsets&&"none"===(t.style&&t.style.display||I.css(t,"display"))},I.expr.filters.visible=function(t){return!I.expr.filters.hidden(t)}),I.each({margin:"",padding:"",border:"Width"},function(t,e){I.cssHooks[t+e]={expand:function(i){var n,s="string"==typeof i?i.split(" "):[i],o={};for(n=0;4>n;n++)o[t+Ft[n]+e]=s[n]||s[n-2]||s[0];return o}}});var Wt,jt,Bt=/%20/g,Yt=/\[\]$/,qt=/\r?\n/g,Vt=/#.*$/,Ut=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,Xt=/^(?:color|date|datetime|datetime-local|email|hidden|month|number|password|range|search|tel|text|time|url|week)$/i,Gt=/^(?:about|app|app\-storage|.+\-extension|file|res|widget):$/,Kt=/^(?:GET|HEAD)$/,Qt=/^\/\//,Jt=/\?/,Zt=/<script\b[^<]*(?:(?!<\/script>)<[^<]*)*<\/script>/gi,te=/^(?:select|textarea)/i,ee=/\s+/,ie=/([?&])_=[^&]*/,ne=/^([\w\+\.\-]+:)(?:\/\/([^\/?#:]*)(?::(\d+))?)?/,se=I.fn.load,oe={},ae={},re=["*/"]+["*"];try{Wt=H.href}catch(le){Wt=A.createElement("a"),Wt.href="",Wt=Wt.href}jt=ne.exec(Wt.toLowerCase())||[],I.fn.extend({load:function(t,i,n){if("string"!=typeof t&&se)return se.apply(this,arguments);if(!this.length)return this;var s=t.indexOf(" ");if(s>=0){var o=t.slice(s,t.length);t=t.slice(0,s)}var a="GET";i&&(I.isFunction(i)?(n=i,i=e):"object"==typeof i&&(i=I.param(i,I.ajaxSettings.traditional),a="POST"));var r=this;return I.ajax({url:t,type:a,dataType:"html",data:i,complete:function(t,e,i){i=t.responseText,t.isResolved()&&(t.done(function(t){i=t}),r.html(o?I("<div>").append(i.replace(Zt,"")).find(o):i)),n&&r.each(n,[i,e,t])}}),this},serialize:function(){return I.param(this.serializeArray())},serializeArray:function(){return this.map(function(){return this.elements?I.makeArray(this.elements):this}).filter(function(){return this.name&&!this.disabled&&(this.checked||te.test(this.nodeName)||Xt.test(this.type))}).map(function(t,e){var i=I(this).val();return null==i?null:I.isArray(i)?I.map(i,function(t,i){return{name:e.name,value:t.replace(qt,"\r\n")}}):{name:e.name,value:i.replace(qt,"\r\n")}}).get()}}),I.each("ajaxStart ajaxStop ajaxComplete ajaxError ajaxSuccess ajaxSend".split(" "),function(t,e){I.fn[e]=function(t){return this.on(e,t)}}),I.each(["get","post"],function(t,i){I[i]=function(t,n,s,o){return I.isFunction(n)&&(o=o||s,s=n,n=e),I.ajax({type:i,url:t,data:n,success:s,dataType:o})}}),I.extend({getScript:function(t,i){return I.get(t,e,i,"script")},getJSON:function(t,e,i){return I.get(t,e,i,"json")},ajaxSetup:function(t,e){return e?w(t,I.ajaxSettings):(e=t,t=I.ajaxSettings),w(t,e),t},ajaxSettings:{url:Wt,isLocal:Gt.test(jt[1]),global:!0,type:"GET",contentType:"application/x-www-form-urlencoded; charset=UTF-8",processData:!0,async:!0,accepts:{xml:"application/xml, text/xml",html:"text/html",text:"text/plain",json:"application/json, text/javascript","*":re},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText"},converters:{"* text":t.String,"text html":!0,"text json":I.parseJSON,"text xml":I.parseXML},flatOptions:{context:!0,url:!0}},ajaxPrefilter:b(oe),ajaxTransport:b(ae),ajax:function(t,i){function n(t,i,n,a){if(2!==w){w=2,l&&clearTimeout(l),r=e,o=a||"",x.readyState=t>0?4:0;var c,u,y,b,_,T=i,S=n?k(d,x,n):e;if(t>=200&&300>t||304===t)if(d.ifModified&&((b=x.getResponseHeader("Last-Modified"))&&(I.lastModified[s]=b),(_=x.getResponseHeader("Etag"))&&(I.etag[s]=_)),304===t)T="notmodified",c=!0;else try{u=C(d,S),T="success",c=!0}catch(D){T="parsererror",y=D}else y=T,T&&!t||(T="error",0>t&&(t=0));x.status=t,x.statusText=""+(i||T),c?m.resolveWith(p,[u,T,x]):m.rejectWith(p,[x,T,y]),x.statusCode(v),v=e,h&&f.trigger("ajax"+(c?"Success":"Error"),[x,d,c?u:y]),g.fireWith(p,[x,T]),h&&(f.trigger("ajaxComplete",[x,d]),--I.active||I.event.trigger("ajaxStop"))}}"object"==typeof t&&(i=t,t=e),i=i||{};var s,o,a,r,l,c,h,u,d=I.ajaxSetup({},i),p=d.context||d,f=p!==d&&(p.nodeType||p instanceof I)?I(p):I.event,m=I.Deferred(),g=I.Callbacks("once memory"),v=d.statusCode||{},y={},b={},w=0,x={readyState:0,setRequestHeader:function(t,e){if(!w){var i=t.toLowerCase();t=b[i]=b[i]||t,y[t]=e}return this},getAllResponseHeaders:function(){return 2===w?o:null},getResponseHeader:function(t){var i;if(2===w){if(!a)for(a={};i=Ut.exec(o);)a[i[1].toLowerCase()]=i[2];i=a[t.toLowerCase()]}return i===e?null:i},overrideMimeType:function(t){return w||(d.mimeType=t),this},abort:function(t){return t=t||"abort",r&&r.abort(t),n(0,t),this}};if(m.promise(x),x.success=x.done,x.error=x.fail,x.complete=g.add,x.statusCode=function(t){if(t){var e;if(2>w)for(e in t)v[e]=[v[e],t[e]];else e=t[x.status],x.then(e,e)}return this},d.url=((t||d.url)+"").replace(Vt,"").replace(Qt,jt[1]+"//"),d.dataTypes=I.trim(d.dataType||"*").toLowerCase().split(ee),null==d.crossDomain&&(c=ne.exec(d.url.toLowerCase()),d.crossDomain=!(!c||c[1]==jt[1]&&c[2]==jt[2]&&(c[3]||("http:"===c[1]?80:443))==(jt[3]||("http:"===jt[1]?80:443)))),d.data&&d.processData&&"string"!=typeof d.data&&(d.data=I.param(d.data,d.traditional)),_(oe,d,i,x),2===w)return!1;if(h=d.global,d.type=d.type.toUpperCase(),d.hasContent=!Kt.test(d.type),h&&0===I.active++&&I.event.trigger("ajaxStart"),!d.hasContent&&(d.data&&(d.url+=(Jt.test(d.url)?"&":"?")+d.data,delete d.data),s=d.url,d.cache===!1)){var T=I.now(),S=d.url.replace(ie,"$1_="+T);d.url=S+(S===d.url?(Jt.test(d.url)?"&":"?")+"_="+T:"")}(d.data&&d.hasContent&&d.contentType!==!1||i.contentType)&&x.setRequestHeader("Content-Type",d.contentType),d.ifModified&&(s=s||d.url,I.lastModified[s]&&x.setRequestHeader("If-Modified-Since",I.lastModified[s]),I.etag[s]&&x.setRequestHeader("If-None-Match",I.etag[s])),x.setRequestHeader("Accept",d.dataTypes[0]&&d.accepts[d.dataTypes[0]]?d.accepts[d.dataTypes[0]]+("*"!==d.dataTypes[0]?", "+re+"; q=0.01":""):d.accepts["*"]);for(u in d.headers)x.setRequestHeader(u,d.headers[u]);if(d.beforeSend&&(d.beforeSend.call(p,x,d)===!1||2===w))return x.abort(),!1;for(u in{success:1,error:1,complete:1})x[u](d[u]);if(r=_(ae,d,i,x)){x.readyState=1,h&&f.trigger("ajaxSend",[x,d]),d.async&&d.timeout>0&&(l=setTimeout(function(){x.abort("timeout")},d.timeout));try{w=1,r.send(y,n)}catch(D){if(!(2>w))throw D;n(-1,D)}}else n(-1,"No Transport");return x},param:function(t,i){var n=[],s=function(t,e){e=I.isFunction(e)?e():e,n[n.length]=encodeURIComponent(t)+"="+encodeURIComponent(e)};if(i===e&&(i=I.ajaxSettings.traditional),I.isArray(t)||t.jquery&&!I.isPlainObject(t))I.each(t,function(){s(this.name,this.value)});else for(var o in t)x(o,t[o],i,s);return n.join("&").replace(Bt,"+")}}),I.extend({active:0,lastModified:{},etag:{}});var ce=I.now(),he=/(\=)\?(&|$)|\?\?/i;I.ajaxSetup({jsonp:"callback",jsonpCallback:function(){return I.expando+"_"+ce++}}),I.ajaxPrefilter("json jsonp",function(e,i,n){var s="string"==typeof e.data&&/^application\/x\-www\-form\-urlencoded/.test(e.contentType);if("jsonp"===e.dataTypes[0]||e.jsonp!==!1&&(he.test(e.url)||s&&he.test(e.data))){var o,a=e.jsonpCallback=I.isFunction(e.jsonpCallback)?e.jsonpCallback():e.jsonpCallback,r=t[a],l=e.url,c=e.data,h="$1"+a+"$2";return e.jsonp!==!1&&(l=l.replace(he,h),e.url===l&&(s&&(c=c.replace(he,h)),e.data===c&&(l+=(/\?/.test(l)?"&":"?")+e.jsonp+"="+a))),e.url=l,e.data=c,t[a]=function(t){o=[t]},n.always(function(){t[a]=r,o&&I.isFunction(r)&&t[a](o[0])}),e.converters["script json"]=function(){return o||I.error(a+" was not called"),o[0]},e.dataTypes[0]="json","script"}}),I.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/javascript|ecmascript/},converters:{"text script":function(t){return I.globalEval(t),t}}}),I.ajaxPrefilter("script",function(t){t.cache===e&&(t.cache=!1),t.crossDomain&&(t.type="GET",t.global=!1)}),I.ajaxTransport("script",function(t){if(t.crossDomain){var i,n=A.head||A.getElementsByTagName("head")[0]||A.documentElement;return{send:function(s,o){i=A.createElement("script"),i.async="async",t.scriptCharset&&(i.charset=t.scriptCharset),i.src=t.url,i.onload=i.onreadystatechange=function(t,s){(s||!i.readyState||/loaded|complete/.test(i.readyState))&&(i.onload=i.onreadystatechange=null,n&&i.parentNode&&n.removeChild(i),i=e,s||o(200,"success"))},n.insertBefore(i,n.firstChild)},abort:function(){i&&i.onload(0,1)}}}});var ue,de=t.ActiveXObject?function(){for(var t in ue)ue[t](0,1)}:!1,pe=0;I.ajaxSettings.xhr=t.ActiveXObject?function(){return!this.isLocal&&T()||S()}:T,function(t){I.extend(I.support,{ajax:!!t,cors:!!t&&"withCredentials"in t})}(I.ajaxSettings.xhr()),I.support.ajax&&I.ajaxTransport(function(i){if(!i.crossDomain||I.support.cors){var n;return{send:function(s,o){var a,r,l=i.xhr();if(i.username?l.open(i.type,i.url,i.async,i.username,i.password):l.open(i.type,i.url,i.async),i.xhrFields)for(r in i.xhrFields)l[r]=i.xhrFields[r];i.mimeType&&l.overrideMimeType&&l.overrideMimeType(i.mimeType),i.crossDomain||s["X-Requested-With"]||(s["X-Requested-With"]="XMLHttpRequest");try{for(r in s)l.setRequestHeader(r,s[r])}catch(c){}l.send(i.hasContent&&i.data||null),n=function(t,s){var r,c,h,u,d;try{if(n&&(s||4===l.readyState))if(n=e,a&&(l.onreadystatechange=I.noop,de&&delete ue[a]),s)4!==l.readyState&&l.abort();else{r=l.status,h=l.getAllResponseHeaders(),u={},d=l.responseXML,d&&d.documentElement&&(u.xml=d);try{u.text=l.responseText}catch(t){}try{c=l.statusText}catch(p){c=""}r||!i.isLocal||i.crossDomain?1223===r&&(r=204):r=u.text?200:404}}catch(f){s||o(-1,f)}u&&o(r,c,u,h)},i.async&&4!==l.readyState?(a=++pe,de&&(ue||(ue={},I(t).unload(de)),ue[a]=n),l.onreadystatechange=n):n()},abort:function(){n&&n(0,1)}}}});var fe,me,ge,ve,ye={},be=/^(?:toggle|show|hide)$/,_e=/^([+\-]=)?([\d+.\-]+)([a-z%]*)$/i,we=[["height","marginTop","marginBottom","paddingTop","paddingBottom"],["width","marginLeft","marginRight","paddingLeft","paddingRight"],["opacity"]];I.fn.extend({show:function(t,e,i){var n,s;if(t||0===t)return this.animate(E("show",3),t,e,i);for(var o=0,a=this.length;a>o;o++)n=this[o],n.style&&(s=n.style.display,I._data(n,"olddisplay")||"none"!==s||(s=n.style.display=""),(""===s&&"none"===I.css(n,"display")||!I.contains(n.ownerDocument.documentElement,n))&&I._data(n,"olddisplay",$(n.nodeName)));for(o=0;a>o;o++)n=this[o],n.style&&(s=n.style.display,""!==s&&"none"!==s||(n.style.display=I._data(n,"olddisplay")||""));return this},hide:function(t,e,i){if(t||0===t)return this.animate(E("hide",3),t,e,i);for(var n,s,o=0,a=this.length;a>o;o++)n=this[o],n.style&&(s=I.css(n,"display"),"none"===s||I._data(n,"olddisplay")||I._data(n,"olddisplay",s));for(o=0;a>o;o++)this[o].style&&(this[o].style.display="none");return this},_toggle:I.fn.toggle,toggle:function(t,e,i){var n="boolean"==typeof t;return I.isFunction(t)&&I.isFunction(e)?this._toggle.apply(this,arguments):null==t||n?this.each(function(){var e=n?t:I(this).is(":hidden");I(this)[e?"show":"hide"]()}):this.animate(E("toggle",3),t,e,i),this},fadeTo:function(t,e,i,n){return this.filter(":hidden").css("opacity",0).show().end().animate({opacity:e},t,i,n)},animate:function(t,e,i,n){function s(){o.queue===!1&&I._mark(this);var e,i,n,s,a,r,l,c,h,u,d,p=I.extend({},o),f=1===this.nodeType,m=f&&I(this).is(":hidden");p.animatedProperties={};for(n in t)if(e=I.camelCase(n),n!==e&&(t[e]=t[n],delete t[n]),(a=I.cssHooks[e])&&"expand"in a){r=a.expand(t[e]),delete t[e];for(n in r)n in t||(t[n]=r[n])}for(e in t){if(i=t[e],I.isArray(i)?(p.animatedProperties[e]=i[1],i=t[e]=i[0]):p.animatedProperties[e]=p.specialEasing&&p.specialEasing[e]||p.easing||"swing","hide"===i&&m||"show"===i&&!m)return p.complete.call(this);!f||"height"!==e&&"width"!==e||(p.overflow=[this.style.overflow,this.style.overflowX,this.style.overflowY],"inline"===I.css(this,"display")&&"none"===I.css(this,"float")&&(I.support.inlineBlockNeedsLayout&&"inline"!==$(this.nodeName)?this.style.zoom=1:this.style.display="inline-block"))}null!=p.overflow&&(this.style.overflow="hidden");for(n in t)s=new I.fx(this,p,n),i=t[n],be.test(i)?(d=I._data(this,"toggle"+n)||("toggle"===i?m?"show":"hide":0),d?(I._data(this,"toggle"+n,"show"===d?"hide":"show"),s[d]()):s[i]()):(l=_e.exec(i),c=s.cur(),l?(h=parseFloat(l[2]),u=l[3]||(I.cssNumber[n]?"":"px"),"px"!==u&&(I.style(this,n,(h||1)+u),c=(h||1)/s.cur()*c,I.style(this,n,c+u)),l[1]&&(h=("-="===l[1]?-1:1)*h+c),s.custom(c,h,u)):s.custom(c,i,""));return!0}var o=I.speed(e,i,n);return I.isEmptyObject(t)?this.each(o.complete,[!1]):(t=I.extend({},t),o.queue===!1?this.each(s):this.queue(o.queue,s))},stop:function(t,i,n){return"string"!=typeof t&&(n=i,i=t,t=e),i&&t!==!1&&this.queue(t||"fx",[]),this.each(function(){function e(t,e,i){var s=e[i];I.removeData(t,i,!0),s.stop(n)}var i,s=!1,o=I.timers,a=I._data(this);if(n||I._unmark(!0,this),null==t)for(i in a)a[i]&&a[i].stop&&i.indexOf(".run")===i.length-4&&e(this,a,i);else a[i=t+".run"]&&a[i].stop&&e(this,a,i);for(i=o.length;i--;)o[i].elem!==this||null!=t&&o[i].queue!==t||(n?o[i](!0):o[i].saveState(),s=!0,o.splice(i,1));n&&s||I.dequeue(this,t)})}}),I.each({slideDown:E("show",1),slideUp:E("hide",1),slideToggle:E("toggle",1),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(t,e){I.fn[t]=function(t,i,n){return this.animate(e,t,i,n)}}),I.extend({speed:function(t,e,i){var n=t&&"object"==typeof t?I.extend({},t):{complete:i||!i&&e||I.isFunction(t)&&t,duration:t,easing:i&&e||e&&!I.isFunction(e)&&e};return n.duration=I.fx.off?0:"number"==typeof n.duration?n.duration:n.duration in I.fx.speeds?I.fx.speeds[n.duration]:I.fx.speeds._default,null!=n.queue&&n.queue!==!0||(n.queue="fx"),n.old=n.complete,n.complete=function(t){I.isFunction(n.old)&&n.old.call(this),n.queue?I.dequeue(this,n.queue):t!==!1&&I._unmark(this)},n},easing:{linear:function(t){return t},swing:function(t){return-Math.cos(t*Math.PI)/2+.5}},timers:[],fx:function(t,e,i){this.options=e,this.elem=t,this.prop=i,e.orig=e.orig||{}}}),I.fx.prototype={update:function(){this.options.step&&this.options.step.call(this.elem,this.now,this),(I.fx.step[this.prop]||I.fx.step._default)(this)},cur:function(){if(null!=this.elem[this.prop]&&(!this.elem.style||null==this.elem.style[this.prop]))return this.elem[this.prop];var t,e=I.css(this.elem,this.prop);return isNaN(t=parseFloat(e))?e&&"auto"!==e?e:0:t},custom:function(t,i,n){function s(t){return o.step(t)}var o=this,a=I.fx;this.startTime=ve||D(),this.end=i,this.now=this.start=t,this.pos=this.state=0,this.unit=n||this.unit||(I.cssNumber[this.prop]?"":"px"),s.queue=this.options.queue,s.elem=this.elem,s.saveState=function(){I._data(o.elem,"fxshow"+o.prop)===e&&(o.options.hide?I._data(o.elem,"fxshow"+o.prop,o.start):o.options.show&&I._data(o.elem,"fxshow"+o.prop,o.end))},s()&&I.timers.push(s)&&!ge&&(ge=setInterval(a.tick,a.interval))},show:function(){var t=I._data(this.elem,"fxshow"+this.prop);this.options.orig[this.prop]=t||I.style(this.elem,this.prop),this.options.show=!0,t!==e?this.custom(this.cur(),t):this.custom("width"===this.prop||"height"===this.prop?1:0,this.cur()),I(this.elem).show()},hide:function(){this.options.orig[this.prop]=I._data(this.elem,"fxshow"+this.prop)||I.style(this.elem,this.prop),this.options.hide=!0,this.custom(this.cur(),0)},step:function(t){var e,i,n,s=ve||D(),o=!0,a=this.elem,r=this.options;if(t||s>=r.duration+this.startTime){this.now=this.end,this.pos=this.state=1,this.update(),r.animatedProperties[this.prop]=!0;for(e in r.animatedProperties)r.animatedProperties[e]!==!0&&(o=!1);if(o){if(null==r.overflow||I.support.shrinkWrapBlocks||I.each(["","X","Y"],function(t,e){a.style["overflow"+e]=r.overflow[t]}),r.hide&&I(a).hide(),r.hide||r.show)for(e in r.animatedProperties)I.style(a,e,r.orig[e]),I.removeData(a,"fxshow"+e,!0),I.removeData(a,"toggle"+e,!0);n=r.complete,n&&(r.complete=!1,n.call(a))}return!1}return r.duration==1/0?this.now=s:(i=s-this.startTime,this.state=i/r.duration,this.pos=I.easing[r.animatedProperties[this.prop]](this.state,i,0,1,r.duration),this.now=this.start+(this.end-this.start)*this.pos),this.update(),!0}},I.extend(I.fx,{tick:function(){for(var t,e=I.timers,i=0;i<e.length;i++)t=e[i],t()||e[i]!==t||e.splice(i--,1);e.length||I.fx.stop()},interval:13,stop:function(){clearInterval(ge),ge=null},speeds:{slow:600,fast:200,_default:400},step:{opacity:function(t){I.style(t.elem,"opacity",t.now)},_default:function(t){t.elem.style&&null!=t.elem.style[t.prop]?t.elem.style[t.prop]=t.now+t.unit:t.elem[t.prop]=t.now}}}),I.each(we.concat.apply([],we),function(t,e){e.indexOf("margin")&&(I.fx.step[e]=function(t){I.style(t.elem,e,Math.max(0,t.now)+t.unit)})}),I.expr&&I.expr.filters&&(I.expr.filters.animated=function(t){return I.grep(I.timers,function(e){return t===e.elem}).length});var xe,ke=/^t(?:able|d|h)$/i,Ce=/^(?:body|html)$/i;xe="getBoundingClientRect"in A.documentElement?function(t,e,i,n){try{n=t.getBoundingClientRect()}catch(s){}if(!n||!I.contains(i,t))return n?{top:n.top,left:n.left}:{top:0,left:0};var o=e.body,a=P(e),r=i.clientTop||o.clientTop||0,l=i.clientLeft||o.clientLeft||0,c=a.pageYOffset||I.support.boxModel&&i.scrollTop||o.scrollTop,h=a.pageXOffset||I.support.boxModel&&i.scrollLeft||o.scrollLeft,u=n.top+c-r,d=n.left+h-l;return{top:u,left:d}}:function(t,e,i){for(var n,s=t.offsetParent,o=t,a=e.body,r=e.defaultView,l=r?r.getComputedStyle(t,null):t.currentStyle,c=t.offsetTop,h=t.offsetLeft;(t=t.parentNode)&&t!==a&&t!==i&&(!I.support.fixedPosition||"fixed"!==l.position);)n=r?r.getComputedStyle(t,null):t.currentStyle,c-=t.scrollTop,h-=t.scrollLeft,t===s&&(c+=t.offsetTop,h+=t.offsetLeft,!I.support.doesNotAddBorder||I.support.doesAddBorderForTableAndCells&&ke.test(t.nodeName)||(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),o=s,s=t.offsetParent),I.support.subtractsBorderForOverflowNotVisible&&"visible"!==n.overflow&&(c+=parseFloat(n.borderTopWidth)||0,h+=parseFloat(n.borderLeftWidth)||0),l=n;return"relative"!==l.position&&"static"!==l.position||(c+=a.offsetTop,h+=a.offsetLeft),I.support.fixedPosition&&"fixed"===l.position&&(c+=Math.max(i.scrollTop,a.scrollTop),h+=Math.max(i.scrollLeft,a.scrollLeft)),{top:c,left:h}},I.fn.offset=function(t){if(arguments.length)return t===e?this:this.each(function(e){I.offset.setOffset(this,t,e)});var i=this[0],n=i&&i.ownerDocument;return n?i===n.body?I.offset.bodyOffset(i):xe(i,n,n.documentElement):null},I.offset={bodyOffset:function(t){var e=t.offsetTop,i=t.offsetLeft;return I.support.doesNotIncludeMarginInBodyOffset&&(e+=parseFloat(I.css(t,"marginTop"))||0,i+=parseFloat(I.css(t,"marginLeft"))||0),{top:e,left:i}},setOffset:function(t,e,i){var n=I.css(t,"position");"static"===n&&(t.style.position="relative");var s,o,a=I(t),r=a.offset(),l=I.css(t,"top"),c=I.css(t,"left"),h=("absolute"===n||"fixed"===n)&&I.inArray("auto",[l,c])>-1,u={},d={};h?(d=a.position(),s=d.top,o=d.left):(s=parseFloat(l)||0,o=parseFloat(c)||0),I.isFunction(e)&&(e=e.call(t,i,r)),null!=e.top&&(u.top=e.top-r.top+s),null!=e.left&&(u.left=e.left-r.left+o),"using"in e?e.using.call(t,u):a.css(u)}},I.fn.extend({position:function(){if(!this[0])return null;var t=this[0],e=this.offsetParent(),i=this.offset(),n=Ce.test(e[0].nodeName)?{top:0,left:0}:e.offset();return i.top-=parseFloat(I.css(t,"marginTop"))||0,i.left-=parseFloat(I.css(t,"marginLeft"))||0,n.top+=parseFloat(I.css(e[0],"borderTopWidth"))||0,n.left+=parseFloat(I.css(e[0],"borderLeftWidth"))||0,{top:i.top-n.top,left:i.left-n.left}},offsetParent:function(){return this.map(function(){for(var t=this.offsetParent||A.body;t&&!Ce.test(t.nodeName)&&"static"===I.css(t,"position");)t=t.offsetParent;return t})}}),I.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(t,i){var n=/Y/.test(i);I.fn[t]=function(s){return I.access(this,function(t,s,o){var a=P(t);return o===e?a?i in a?a[i]:I.support.boxModel&&a.document.documentElement[s]||a.document.body[s]:t[s]:void(a?a.scrollTo(n?I(a).scrollLeft():o,n?o:I(a).scrollTop()):t[s]=o)},t,s,arguments.length,null)}}),I.each({Height:"height",Width:"width"},function(t,i){var n="client"+t,s="scroll"+t,o="offset"+t;I.fn["inner"+t]=function(){var t=this[0];return t?t.style?parseFloat(I.css(t,i,"padding")):this[i]():null},I.fn["outer"+t]=function(t){var e=this[0];return e?e.style?parseFloat(I.css(e,i,t?"margin":"border")):this[i]():null},I.fn[i]=function(t){return I.access(this,function(t,i,a){var r,l,c,h;return I.isWindow(t)?(r=t.document,l=r.documentElement[n],I.support.boxModel&&l||r.body&&r.body[n]||l):9===t.nodeType?(r=t.documentElement,r[n]>=r[s]?r[n]:Math.max(t.body[s],r[s],t.body[o],r[o])):a===e?(c=I.css(t,i),h=parseFloat(c),I.isNumeric(h)?h:c):void I(t).css(i,a)},i,t,arguments.length,null)}}),t.jQuery=t.$=I,"function"==typeof define&&define.amd&&define.amd.jQuery&&define("jquery",[],function(){return I})}(window),function(t,e){function i(e,i){var s,o,a,r=e.nodeName.toLowerCase();return"area"===r?(s=e.parentNode,o=s.name,e.href&&o&&"map"===s.nodeName.toLowerCase()?(a=t("img[usemap=#"+o+"]")[0],!!a&&n(a)):!1):(/input|select|textarea|button|object/.test(r)?!e.disabled:"a"===r?e.href||i:i)&&n(e)}function n(e){return t.expr.filters.visible(e)&&!t(e).parents().addBack().filter(function(){return"hidden"===t.css(this,"visibility")}).length}var s=0,o=/^ui-id-\d+$/;t.ui=t.ui||{},t.extend(t.ui,{version:"1.10.3",keyCode:{BACKSPACE:8,COMMA:188,DELETE:46,DOWN:40,END:35,ENTER:13,ESCAPE:27,HOME:36,LEFT:37,NUMPAD_ADD:107,NUMPAD_DECIMAL:110,NUMPAD_DIVIDE:111,NUMPAD_ENTER:108,NUMPAD_MULTIPLY:106,NUMPAD_SUBTRACT:109,PAGE_DOWN:34,PAGE_UP:33,PERIOD:190,RIGHT:39,SPACE:32,TAB:9,UP:38}}),t.fn.extend({focus:function(e){return function(i,n){return"number"==typeof i?this.each(function(){var e=this;setTimeout(function(){t(e).focus(),
n&&n.call(e)},i)}):e.apply(this,arguments)}}(t.fn.focus),scrollParent:function(){var e;return e=t.ui.ie&&/(static|relative)/.test(this.css("position"))||/absolute/.test(this.css("position"))?this.parents().filter(function(){return/(relative|absolute|fixed)/.test(t.css(this,"position"))&&/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0):this.parents().filter(function(){return/(auto|scroll)/.test(t.css(this,"overflow")+t.css(this,"overflow-y")+t.css(this,"overflow-x"))}).eq(0),/fixed/.test(this.css("position"))||!e.length?t(document):e},zIndex:function(i){if(i!==e)return this.css("zIndex",i);if(this.length)for(var n,s,o=t(this[0]);o.length&&o[0]!==document;){if(n=o.css("position"),("absolute"===n||"relative"===n||"fixed"===n)&&(s=parseInt(o.css("zIndex"),10),!isNaN(s)&&0!==s))return s;o=o.parent()}return 0},uniqueId:function(){return this.each(function(){this.id||(this.id="ui-id-"+ ++s)})},removeUniqueId:function(){return this.each(function(){o.test(this.id)&&t(this).removeAttr("id")})}}),t.extend(t.expr[":"],{data:t.expr.createPseudo?t.expr.createPseudo(function(e){return function(i){return!!t.data(i,e)}}):function(e,i,n){return!!t.data(e,n[3])},focusable:function(e){return i(e,!isNaN(t.attr(e,"tabindex")))},tabbable:function(e){var n=t.attr(e,"tabindex"),s=isNaN(n);return(s||n>=0)&&i(e,!s)}}),t("<a>").outerWidth(1).jquery||t.each(["Width","Height"],function(i,n){function s(e,i,n,s){return t.each(o,function(){i-=parseFloat(t.css(e,"padding"+this))||0,n&&(i-=parseFloat(t.css(e,"border"+this+"Width"))||0),s&&(i-=parseFloat(t.css(e,"margin"+this))||0)}),i}var o="Width"===n?["Left","Right"]:["Top","Bottom"],a=n.toLowerCase(),r={innerWidth:t.fn.innerWidth,innerHeight:t.fn.innerHeight,outerWidth:t.fn.outerWidth,outerHeight:t.fn.outerHeight};t.fn["inner"+n]=function(i){return i===e?r["inner"+n].call(this):this.each(function(){t(this).css(a,s(this,i)+"px")})},t.fn["outer"+n]=function(e,i){return"number"!=typeof e?r["outer"+n].call(this,e):this.each(function(){t(this).css(a,s(this,e,!0,i)+"px")})}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t("<a>").data("a-b","a").removeData("a-b").data("a-b")&&(t.fn.removeData=function(e){return function(i){return arguments.length?e.call(this,t.camelCase(i)):e.call(this)}}(t.fn.removeData)),t.ui.ie=!!/msie [\w.]+/.exec(navigator.userAgent.toLowerCase()),t.support.selectstart="onselectstart"in document.createElement("div"),t.fn.extend({disableSelection:function(){return this.bind((t.support.selectstart?"selectstart":"mousedown")+".ui-disableSelection",function(t){t.preventDefault()})},enableSelection:function(){return this.unbind(".ui-disableSelection")}}),t.extend(t.ui,{plugin:{add:function(e,i,n){var s,o=t.ui[e].prototype;for(s in n)o.plugins[s]=o.plugins[s]||[],o.plugins[s].push([i,n[s]])},call:function(t,e,i){var n,s=t.plugins[e];if(s&&t.element[0].parentNode&&11!==t.element[0].parentNode.nodeType)for(n=0;s.length>n;n++)t.options[s[n][0]]&&s[n][1].apply(t.element,i)}},hasScroll:function(e,i){if("hidden"===t(e).css("overflow"))return!1;var n=i&&"left"===i?"scrollLeft":"scrollTop",s=!1;return e[n]>0?!0:(e[n]=1,s=e[n]>0,e[n]=0,s)}})}(jQuery),function(t,e){var i=0,n=Array.prototype.slice,s=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(o){}s(e)},t.widget=function(i,n,s){var o,a,r,l,c={},h=i.split(".")[0];i=i.split(".")[1],o=h+"-"+i,s||(s=n,n=t.Widget),t.expr[":"][o.toLowerCase()]=function(e){return!!t.data(e,o)},t[h]=t[h]||{},a=t[h][i],r=t[h][i]=function(t,i){return this._createWidget?(arguments.length&&this._createWidget(t,i),e):new r(t,i)},t.extend(r,a,{version:s.version,_proto:t.extend({},s),_childConstructors:[]}),l=new n,l.options=t.widget.extend({},l.options),t.each(s,function(i,s){return t.isFunction(s)?(c[i]=function(){var t=function(){return n.prototype[i].apply(this,arguments)},e=function(t){return n.prototype[i].apply(this,t)};return function(){var i,n=this._super,o=this._superApply;return this._super=t,this._superApply=e,i=s.apply(this,arguments),this._super=n,this._superApply=o,i}}(),e):(c[i]=s,e)}),r.prototype=t.widget.extend(l,{widgetEventPrefix:a?l.widgetEventPrefix:i},c,{constructor:r,namespace:h,widgetName:i,widgetFullName:o}),a?(t.each(a._childConstructors,function(e,i){var n=i.prototype;t.widget(n.namespace+"."+n.widgetName,r,i._proto)}),delete a._childConstructors):n._childConstructors.push(r),t.widget.bridge(i,r)},t.widget.extend=function(i){for(var s,o,a=n.call(arguments,1),r=0,l=a.length;l>r;r++)for(s in a[r])o=a[r][s],a[r].hasOwnProperty(s)&&o!==e&&(i[s]=t.isPlainObject(o)?t.isPlainObject(i[s])?t.widget.extend({},i[s],o):t.widget.extend({},o):o);return i},t.widget.bridge=function(i,s){var o=s.prototype.widgetFullName||i;t.fn[i]=function(a){var r="string"==typeof a,l=n.call(arguments,1),c=this;return a=!r&&l.length?t.widget.extend.apply(null,[a].concat(l)):a,r?this.each(function(){var n,s=t.data(this,o);return s?t.isFunction(s[a])&&"_"!==a.charAt(0)?(n=s[a].apply(s,l),n!==s&&n!==e?(c=n&&n.jquery?c.pushStack(n.get()):n,!1):e):t.error("no such method '"+a+"' for "+i+" widget instance"):t.error("cannot call methods on "+i+" prior to initialization; attempted to call method '"+a+"'")}):this.each(function(){var e=t.data(this,o);e?e.option(a||{})._init():t.data(this,o,new s(a,this))}),c}},t.Widget=function(){},t.Widget._childConstructors=[],t.Widget.prototype={widgetName:"widget",widgetEventPrefix:"",defaultElement:"<div>",options:{disabled:!1,create:null},_createWidget:function(e,n){n=t(n||this.defaultElement||this)[0],this.element=t(n),this.uuid=i++,this.eventNamespace="."+this.widgetName+this.uuid,this.options=t.widget.extend({},this.options,this._getCreateOptions(),e),this.bindings=t(),this.hoverable=t(),this.focusable=t(),n!==this&&(t.data(n,this.widgetFullName,this),this._on(!0,this.element,{remove:function(t){t.target===n&&this.destroy()}}),this.document=t(n.style?n.ownerDocument:n.document||n),this.window=t(this.document[0].defaultView||this.document[0].parentWindow)),this._create(),this._trigger("create",null,this._getCreateEventData()),this._init()},_getCreateOptions:t.noop,_getCreateEventData:t.noop,_create:t.noop,_init:t.noop,destroy:function(){this._destroy(),this.element.unbind(this.eventNamespace).removeData(this.widgetName).removeData(this.widgetFullName).removeData(t.camelCase(this.widgetFullName)),this.widget().unbind(this.eventNamespace).removeAttr("aria-disabled").removeClass(this.widgetFullName+"-disabled ui-state-disabled"),this.bindings.unbind(this.eventNamespace),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")},_destroy:t.noop,widget:function(){return this.element},option:function(i,n){var s,o,a,r=i;if(0===arguments.length)return t.widget.extend({},this.options);if("string"==typeof i)if(r={},s=i.split("."),i=s.shift(),s.length){for(o=r[i]=t.widget.extend({},this.options[i]),a=0;s.length-1>a;a++)o[s[a]]=o[s[a]]||{},o=o[s[a]];if(i=s.pop(),n===e)return o[i]===e?null:o[i];o[i]=n}else{if(n===e)return this.options[i]===e?null:this.options[i];r[i]=n}return this._setOptions(r),this},_setOptions:function(t){var e;for(e in t)this._setOption(e,t[e]);return this},_setOption:function(t,e){return this.options[t]=e,"disabled"===t&&(this.widget().toggleClass(this.widgetFullName+"-disabled ui-state-disabled",!!e).attr("aria-disabled",e),this.hoverable.removeClass("ui-state-hover"),this.focusable.removeClass("ui-state-focus")),this},enable:function(){return this._setOption("disabled",!1)},disable:function(){return this._setOption("disabled",!0)},_on:function(i,n,s){var o,a=this;"boolean"!=typeof i&&(s=n,n=i,i=!1),s?(n=o=t(n),this.bindings=this.bindings.add(n)):(s=n,n=this.element,o=this.widget()),t.each(s,function(s,r){function l(){return i||a.options.disabled!==!0&&!t(this).hasClass("ui-state-disabled")?("string"==typeof r?a[r]:r).apply(a,arguments):e}"string"!=typeof r&&(l.guid=r.guid=r.guid||l.guid||t.guid++);var c=s.match(/^(\w+)\s*(.*)$/),h=c[1]+a.eventNamespace,u=c[2];u?o.delegate(u,h,l):n.bind(h,l)})},_off:function(t,e){e=(e||"").split(" ").join(this.eventNamespace+" ")+this.eventNamespace,t.unbind(e).undelegate(e)},_delay:function(t,e){function i(){return("string"==typeof t?n[t]:t).apply(n,arguments)}var n=this;return setTimeout(i,e||0)},_hoverable:function(e){this.hoverable=this.hoverable.add(e),this._on(e,{mouseenter:function(e){t(e.currentTarget).addClass("ui-state-hover")},mouseleave:function(e){t(e.currentTarget).removeClass("ui-state-hover")}})},_focusable:function(e){this.focusable=this.focusable.add(e),this._on(e,{focusin:function(e){t(e.currentTarget).addClass("ui-state-focus")},focusout:function(e){t(e.currentTarget).removeClass("ui-state-focus")}})},_trigger:function(e,i,n){var s,o,a=this.options[e];if(n=n||{},i=t.Event(i),i.type=(e===this.widgetEventPrefix?e:this.widgetEventPrefix+e).toLowerCase(),i.target=this.element[0],o=i.originalEvent)for(s in o)s in i||(i[s]=o[s]);return this.element.trigger(i,n),!(t.isFunction(a)&&a.apply(this.element[0],[i].concat(n))===!1||i.isDefaultPrevented())}},t.each({show:"fadeIn",hide:"fadeOut"},function(e,i){t.Widget.prototype["_"+e]=function(n,s,o){"string"==typeof s&&(s={effect:s});var a,r=s?s===!0||"number"==typeof s?i:s.effect||i:e;s=s||{},"number"==typeof s&&(s={duration:s}),a=!t.isEmptyObject(s),s.complete=o,s.delay&&n.delay(s.delay),a&&t.effects&&t.effects.effect[r]?n[e](s):r!==e&&n[r]?n[r](s.duration,s.easing,o):n.queue(function(i){t(this)[e](),o&&o.call(n[0]),i()})}})}(jQuery),function(t){var e=!1;t(document).mouseup(function(){e=!1}),t.widget("ui.mouse",{version:"1.10.3",options:{cancel:"input,textarea,button,select,option",distance:1,delay:0},_mouseInit:function(){var e=this;this.element.bind("mousedown."+this.widgetName,function(t){return e._mouseDown(t)}).bind("click."+this.widgetName,function(i){return!0===t.data(i.target,e.widgetName+".preventClickEvent")?(t.removeData(i.target,e.widgetName+".preventClickEvent"),i.stopImmediatePropagation(),!1):void 0}),this.started=!1},_mouseDestroy:function(){this.element.unbind("."+this.widgetName),this._mouseMoveDelegate&&t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate)},_mouseDown:function(i){if(!e){this._mouseStarted&&this._mouseUp(i),this._mouseDownEvent=i;var n=this,s=1===i.which,o="string"==typeof this.options.cancel&&i.target.nodeName?t(i.target).closest(this.options.cancel).length:!1;return s&&!o&&this._mouseCapture(i)?(this.mouseDelayMet=!this.options.delay,this.mouseDelayMet||(this._mouseDelayTimer=setTimeout(function(){n.mouseDelayMet=!0},this.options.delay)),this._mouseDistanceMet(i)&&this._mouseDelayMet(i)&&(this._mouseStarted=this._mouseStart(i)!==!1,!this._mouseStarted)?(i.preventDefault(),!0):(!0===t.data(i.target,this.widgetName+".preventClickEvent")&&t.removeData(i.target,this.widgetName+".preventClickEvent"),this._mouseMoveDelegate=function(t){return n._mouseMove(t)},this._mouseUpDelegate=function(t){return n._mouseUp(t)},t(document).bind("mousemove."+this.widgetName,this._mouseMoveDelegate).bind("mouseup."+this.widgetName,this._mouseUpDelegate),i.preventDefault(),e=!0,!0)):!0}},_mouseMove:function(e){return t.ui.ie&&(!document.documentMode||9>document.documentMode)&&!e.button?this._mouseUp(e):this._mouseStarted?(this._mouseDrag(e),e.preventDefault()):(this._mouseDistanceMet(e)&&this._mouseDelayMet(e)&&(this._mouseStarted=this._mouseStart(this._mouseDownEvent,e)!==!1,this._mouseStarted?this._mouseDrag(e):this._mouseUp(e)),!this._mouseStarted)},_mouseUp:function(e){return t(document).unbind("mousemove."+this.widgetName,this._mouseMoveDelegate).unbind("mouseup."+this.widgetName,this._mouseUpDelegate),this._mouseStarted&&(this._mouseStarted=!1,e.target===this._mouseDownEvent.target&&t.data(e.target,this.widgetName+".preventClickEvent",!0),this._mouseStop(e)),!1},_mouseDistanceMet:function(t){return Math.max(Math.abs(this._mouseDownEvent.pageX-t.pageX),Math.abs(this._mouseDownEvent.pageY-t.pageY))>=this.options.distance},_mouseDelayMet:function(){return this.mouseDelayMet},_mouseStart:function(){},_mouseDrag:function(){},_mouseStop:function(){},_mouseCapture:function(){return!0}})}(jQuery),function(t){t.widget("ui.draggable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"drag",options:{addClasses:!0,appendTo:"parent",axis:!1,connectToSortable:!1,containment:!1,cursor:"auto",cursorAt:!1,grid:!1,handle:!1,helper:"original",iframeFix:!1,opacity:!1,refreshPositions:!1,revert:!1,revertDuration:500,scope:"default",scroll:!0,scrollSensitivity:20,scrollSpeed:20,snap:!1,snapMode:"both",snapTolerance:20,stack:!1,zIndex:!1,drag:null,start:null,stop:null},_create:function(){"original"!==this.options.helper||/^(?:r|a|f)/.test(this.element.css("position"))||(this.element[0].style.position="relative"),this.options.addClasses&&this.element.addClass("ui-draggable"),this.options.disabled&&this.element.addClass("ui-draggable-disabled"),this._mouseInit()},_destroy:function(){this.element.removeClass("ui-draggable ui-draggable-dragging ui-draggable-disabled"),this._mouseDestroy()},_mouseCapture:function(e){var i=this.options;return this.helper||i.disabled||t(e.target).closest(".ui-resizable-handle").length>0?!1:(this.handle=this._getHandle(e),this.handle?(t(i.iframeFix===!0?"iframe":i.iframeFix).each(function(){t("<div class='ui-draggable-iframeFix' style='background: #fff;'></div>").css({width:this.offsetWidth+"px",height:this.offsetHeight+"px",position:"absolute",opacity:"0.001",zIndex:1e3}).css(t(this).offset()).appendTo("body")}),!0):!1)},_mouseStart:function(e){var i=this.options;return this.helper=this._createHelper(e),this.helper.addClass("ui-draggable-dragging"),this._cacheHelperProportions(),t.ui.ddmanager&&(t.ui.ddmanager.current=this),this._cacheMargins(),this.cssPosition=this.helper.css("position"),this.scrollParent=this.helper.scrollParent(),this.offsetParent=this.helper.offsetParent(),this.offsetParentCssPosition=this.offsetParent.css("position"),this.offset=this.positionAbs=this.element.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},this.offset.scroll=!1,t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.originalPosition=this.position=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,i.cursorAt&&this._adjustOffsetFromHelper(i.cursorAt),this._setContainment(),this._trigger("start",e)===!1?(this._clear(),!1):(this._cacheHelperProportions(),t.ui.ddmanager&&!i.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this._mouseDrag(e,!0),t.ui.ddmanager&&t.ui.ddmanager.dragStart(this,e),!0)},_mouseDrag:function(e,i){if("fixed"===this.offsetParentCssPosition&&(this.offset.parent=this._getParentOffset()),this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),!i){var n=this._uiHash();if(this._trigger("drag",e,n)===!1)return this._mouseUp({}),!1;this.position=n.position}return this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),!1},_mouseStop:function(e){var i=this,n=!1;return t.ui.ddmanager&&!this.options.dropBehaviour&&(n=t.ui.ddmanager.drop(this,e)),this.dropped&&(n=this.dropped,this.dropped=!1),"original"!==this.options.helper||t.contains(this.element[0].ownerDocument,this.element[0])?("invalid"===this.options.revert&&!n||"valid"===this.options.revert&&n||this.options.revert===!0||t.isFunction(this.options.revert)&&this.options.revert.call(this.element,n)?t(this.helper).animate(this.originalPosition,parseInt(this.options.revertDuration,10),function(){i._trigger("stop",e)!==!1&&i._clear()}):this._trigger("stop",e)!==!1&&this._clear(),!1):!1},_mouseUp:function(e){return t("div.ui-draggable-iframeFix").each(function(){this.parentNode.removeChild(this)}),t.ui.ddmanager&&t.ui.ddmanager.dragStop(this,e),t.ui.mouse.prototype._mouseUp.call(this,e)},cancel:function(){return this.helper.is(".ui-draggable-dragging")?this._mouseUp({}):this._clear(),this},_getHandle:function(e){return this.options.handle?!!t(e.target).closest(this.element.find(this.options.handle)).length:!0},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e])):"clone"===i.helper?this.element.clone().removeAttr("id"):this.element;return n.parents("body").length||n.appendTo("parent"===i.appendTo?this.element[0].parentNode:i.appendTo),n[0]===this.element[0]||/(fixed|absolute)/.test(n.css("position"))||n.css("position","absolute"),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.element.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.element.css("marginLeft"),10)||0,top:parseInt(this.element.css("marginTop"),10)||0,right:parseInt(this.element.css("marginRight"),10)||0,bottom:parseInt(this.element.css("marginBottom"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;return s.containment?"window"===s.containment?void(this.containment=[t(window).scrollLeft()-this.offset.relative.left-this.offset.parent.left,t(window).scrollTop()-this.offset.relative.top-this.offset.parent.top,t(window).scrollLeft()+t(window).width()-this.helperProportions.width-this.margins.left,t(window).scrollTop()+(t(window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):"document"===s.containment?void(this.containment=[0,0,t(document).width()-this.helperProportions.width-this.margins.left,(t(document).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]):s.containment.constructor===Array?void(this.containment=s.containment):("parent"===s.containment&&(s.containment=this.helper[0].parentNode),i=t(s.containment),n=i[0],void(n&&(e="hidden"!==i.css("overflow"),this.containment=[(parseInt(i.css("borderLeftWidth"),10)||0)+(parseInt(i.css("paddingLeft"),10)||0),(parseInt(i.css("borderTopWidth"),10)||0)+(parseInt(i.css("paddingTop"),10)||0),(e?Math.max(n.scrollWidth,n.offsetWidth):n.offsetWidth)-(parseInt(i.css("borderRightWidth"),10)||0)-(parseInt(i.css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left-this.margins.right,(e?Math.max(n.scrollHeight,n.offsetHeight):n.offsetHeight)-(parseInt(i.css("borderBottomWidth"),10)||0)-(parseInt(i.css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top-this.margins.bottom],this.relative_container=i))):void(this.containment=null)},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent;return this.offset.scroll||(this.offset.scroll={top:s.scrollTop(),left:s.scrollLeft()}),{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top)*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)*n}},_generatePosition:function(e){var i,n,s,o,a=this.options,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=e.pageX,c=e.pageY;return this.offset.scroll||(this.offset.scroll={top:r.scrollTop(),left:r.scrollLeft()}),this.originalPosition&&(this.containment&&(this.relative_container?(n=this.relative_container.offset(),i=[this.containment[0]+n.left,this.containment[1]+n.top,this.containment[2]+n.left,this.containment[3]+n.top]):i=this.containment,e.pageX-this.offset.click.left<i[0]&&(l=i[0]+this.offset.click.left),e.pageY-this.offset.click.top<i[1]&&(c=i[1]+this.offset.click.top),e.pageX-this.offset.click.left>i[2]&&(l=i[2]+this.offset.click.left),e.pageY-this.offset.click.top>i[3]&&(c=i[3]+this.offset.click.top)),a.grid&&(s=a.grid[1]?this.originalPageY+Math.round((c-this.originalPageY)/a.grid[1])*a.grid[1]:this.originalPageY,c=i?s-this.offset.click.top>=i[1]||s-this.offset.click.top>i[3]?s:s-this.offset.click.top>=i[1]?s-a.grid[1]:s+a.grid[1]:s,o=a.grid[0]?this.originalPageX+Math.round((l-this.originalPageX)/a.grid[0])*a.grid[0]:this.originalPageX,l=i?o-this.offset.click.left>=i[0]||o-this.offset.click.left>i[2]?o:o-this.offset.click.left>=i[0]?o-a.grid[0]:o+a.grid[0]:o)),{top:c-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():this.offset.scroll.top),left:l-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():this.offset.scroll.left)}},_clear:function(){this.helper.removeClass("ui-draggable-dragging"),this.helper[0]===this.element[0]||this.cancelHelperRemoval||this.helper.remove(),this.helper=null,this.cancelHelperRemoval=!1},_trigger:function(e,i,n){return n=n||this._uiHash(),t.ui.plugin.call(this,e,[i,n]),"drag"===e&&(this.positionAbs=this._convertPositionTo("absolute")),t.Widget.prototype._trigger.call(this,e,i,n)},plugins:{},_uiHash:function(){return{helper:this.helper,position:this.position,originalPosition:this.originalPosition,offset:this.positionAbs}}}),t.ui.plugin.add("draggable","connectToSortable",{start:function(e,i){var n=t(this).data("ui-draggable"),s=n.options,o=t.extend({},i,{item:n.element});n.sortables=[],t(s.connectToSortable).each(function(){var i=t.data(this,"ui-sortable");i&&!i.options.disabled&&(n.sortables.push({instance:i,shouldRevert:i.options.revert}),i.refreshPositions(),i._trigger("activate",e,o))})},stop:function(e,i){var n=t(this).data("ui-draggable"),s=t.extend({},i,{item:n.element});t.each(n.sortables,function(){this.instance.isOver?(this.instance.isOver=0,n.cancelHelperRemoval=!0,this.instance.cancelHelperRemoval=!1,this.shouldRevert&&(this.instance.options.revert=this.shouldRevert),this.instance._mouseStop(e),this.instance.options.helper=this.instance.options._helper,"original"===n.options.helper&&this.instance.currentItem.css({top:"auto",left:"auto"})):(this.instance.cancelHelperRemoval=!1,this.instance._trigger("deactivate",e,s))})},drag:function(e,i){var n=t(this).data("ui-draggable"),s=this;t.each(n.sortables,function(){var o=!1,a=this;this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this.instance._intersectsWith(this.instance.containerCache)&&(o=!0,t.each(n.sortables,function(){return this.instance.positionAbs=n.positionAbs,this.instance.helperProportions=n.helperProportions,this.instance.offset.click=n.offset.click,this!==a&&this.instance._intersectsWith(this.instance.containerCache)&&t.contains(a.instance.element[0],this.instance.element[0])&&(o=!1),o})),o?(this.instance.isOver||(this.instance.isOver=1,this.instance.currentItem=t(s).clone().removeAttr("id").appendTo(this.instance.element).data("ui-sortable-item",!0),this.instance.options._helper=this.instance.options.helper,this.instance.options.helper=function(){return i.helper[0]},e.target=this.instance.currentItem[0],this.instance._mouseCapture(e,!0),this.instance._mouseStart(e,!0,!0),this.instance.offset.click.top=n.offset.click.top,this.instance.offset.click.left=n.offset.click.left,this.instance.offset.parent.left-=n.offset.parent.left-this.instance.offset.parent.left,this.instance.offset.parent.top-=n.offset.parent.top-this.instance.offset.parent.top,n._trigger("toSortable",e),n.dropped=this.instance.element,n.currentItem=n.element,this.instance.fromOutside=n),this.instance.currentItem&&this.instance._mouseDrag(e)):this.instance.isOver&&(this.instance.isOver=0,this.instance.cancelHelperRemoval=!0,this.instance.options.revert=!1,this.instance._trigger("out",e,this.instance._uiHash(this.instance)),this.instance._mouseStop(e,!0),this.instance.options.helper=this.instance.options._helper,this.instance.currentItem.remove(),this.instance.placeholder&&this.instance.placeholder.remove(),n._trigger("fromSortable",e),n.dropped=!1)})}}),t.ui.plugin.add("draggable","cursor",{start:function(){var e=t("body"),i=t(this).data("ui-draggable").options;e.css("cursor")&&(i._cursor=e.css("cursor")),e.css("cursor",i.cursor)},stop:function(){var e=t(this).data("ui-draggable").options;e._cursor&&t("body").css("cursor",e._cursor)}}),t.ui.plugin.add("draggable","opacity",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("opacity")&&(s._opacity=n.css("opacity")),n.css("opacity",s.opacity)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._opacity&&t(i.helper).css("opacity",n._opacity)}}),t.ui.plugin.add("draggable","scroll",{start:function(){var e=t(this).data("ui-draggable");e.scrollParent[0]!==document&&"HTML"!==e.scrollParent[0].tagName&&(e.overflowOffset=e.scrollParent.offset())},drag:function(e){var i=t(this).data("ui-draggable"),n=i.options,s=!1;i.scrollParent[0]!==document&&"HTML"!==i.scrollParent[0].tagName?(n.axis&&"x"===n.axis||(i.overflowOffset.top+i.scrollParent[0].offsetHeight-e.pageY<n.scrollSensitivity?i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop+n.scrollSpeed:e.pageY-i.overflowOffset.top<n.scrollSensitivity&&(i.scrollParent[0].scrollTop=s=i.scrollParent[0].scrollTop-n.scrollSpeed)),n.axis&&"y"===n.axis||(i.overflowOffset.left+i.scrollParent[0].offsetWidth-e.pageX<n.scrollSensitivity?i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft+n.scrollSpeed:e.pageX-i.overflowOffset.left<n.scrollSensitivity&&(i.scrollParent[0].scrollLeft=s=i.scrollParent[0].scrollLeft-n.scrollSpeed))):(n.axis&&"x"===n.axis||(e.pageY-t(document).scrollTop()<n.scrollSensitivity?s=t(document).scrollTop(t(document).scrollTop()-n.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<n.scrollSensitivity&&(s=t(document).scrollTop(t(document).scrollTop()+n.scrollSpeed))),n.axis&&"y"===n.axis||(e.pageX-t(document).scrollLeft()<n.scrollSensitivity?s=t(document).scrollLeft(t(document).scrollLeft()-n.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<n.scrollSensitivity&&(s=t(document).scrollLeft(t(document).scrollLeft()+n.scrollSpeed)))),s!==!1&&t.ui.ddmanager&&!n.dropBehaviour&&t.ui.ddmanager.prepareOffsets(i,e)}}),t.ui.plugin.add("draggable","snap",{start:function(){var e=t(this).data("ui-draggable"),i=e.options;e.snapElements=[],t(i.snap.constructor!==String?i.snap.items||":data(ui-draggable)":i.snap).each(function(){var i=t(this),n=i.offset();this!==e.element[0]&&e.snapElements.push({item:this,width:i.outerWidth(),height:i.outerHeight(),top:n.top,left:n.left})})},drag:function(e,i){var n,s,o,a,r,l,c,h,u,d,p=t(this).data("ui-draggable"),f=p.options,m=f.snapTolerance,g=i.offset.left,v=g+p.helperProportions.width,y=i.offset.top,b=y+p.helperProportions.height;for(u=p.snapElements.length-1;u>=0;u--)r=p.snapElements[u].left,l=r+p.snapElements[u].width,c=p.snapElements[u].top,h=c+p.snapElements[u].height,r-m>v||g>l+m||c-m>b||y>h+m||!t.contains(p.snapElements[u].item.ownerDocument,p.snapElements[u].item)?(p.snapElements[u].snapping&&p.options.snap.release&&p.options.snap.release.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=!1):("inner"!==f.snapMode&&(n=m>=Math.abs(c-b),s=m>=Math.abs(h-y),o=m>=Math.abs(r-v),a=m>=Math.abs(l-g),n&&(i.position.top=p._convertPositionTo("relative",{top:c-p.helperProportions.height,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:h,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r-p.helperProportions.width}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l}).left-p.margins.left)),d=n||s||o||a,"outer"!==f.snapMode&&(n=m>=Math.abs(c-y),s=m>=Math.abs(h-b),o=m>=Math.abs(r-g),a=m>=Math.abs(l-v),n&&(i.position.top=p._convertPositionTo("relative",{top:c,left:0}).top-p.margins.top),s&&(i.position.top=p._convertPositionTo("relative",{top:h-p.helperProportions.height,left:0}).top-p.margins.top),o&&(i.position.left=p._convertPositionTo("relative",{top:0,left:r}).left-p.margins.left),a&&(i.position.left=p._convertPositionTo("relative",{top:0,left:l-p.helperProportions.width}).left-p.margins.left)),!p.snapElements[u].snapping&&(n||s||o||a||d)&&p.options.snap.snap&&p.options.snap.snap.call(p.element,e,t.extend(p._uiHash(),{snapItem:p.snapElements[u].item})),p.snapElements[u].snapping=n||s||o||a||d)}}),t.ui.plugin.add("draggable","stack",{start:function(){var e,i=this.data("ui-draggable").options,n=t.makeArray(t(i.stack)).sort(function(e,i){return(parseInt(t(e).css("zIndex"),10)||0)-(parseInt(t(i).css("zIndex"),10)||0)});n.length&&(e=parseInt(t(n[0]).css("zIndex"),10)||0,t(n).each(function(i){t(this).css("zIndex",e+i)}),this.css("zIndex",e+n.length))}}),t.ui.plugin.add("draggable","zIndex",{start:function(e,i){var n=t(i.helper),s=t(this).data("ui-draggable").options;n.css("zIndex")&&(s._zIndex=n.css("zIndex")),n.css("zIndex",s.zIndex)},stop:function(e,i){var n=t(this).data("ui-draggable").options;n._zIndex&&t(i.helper).css("zIndex",n._zIndex)}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}t.widget("ui.droppable",{version:"1.10.3",widgetEventPrefix:"drop",options:{accept:"*",activeClass:!1,addClasses:!0,greedy:!1,hoverClass:!1,scope:"default",tolerance:"intersect",activate:null,deactivate:null,drop:null,out:null,over:null},_create:function(){var e=this.options,i=e.accept;this.isover=!1,this.isout=!0,this.accept=t.isFunction(i)?i:function(t){return t.is(i)},this.proportions={width:this.element[0].offsetWidth,height:this.element[0].offsetHeight},t.ui.ddmanager.droppables[e.scope]=t.ui.ddmanager.droppables[e.scope]||[],t.ui.ddmanager.droppables[e.scope].push(this),e.addClasses&&this.element.addClass("ui-droppable")},_destroy:function(){for(var e=0,i=t.ui.ddmanager.droppables[this.options.scope];i.length>e;e++)i[e]===this&&i.splice(e,1);this.element.removeClass("ui-droppable ui-droppable-disabled")},_setOption:function(e,i){"accept"===e&&(this.accept=t.isFunction(i)?i:function(t){return t.is(i)}),t.Widget.prototype._setOption.apply(this,arguments)},_activate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.addClass(this.options.activeClass),i&&this._trigger("activate",e,this.ui(i))},_deactivate:function(e){var i=t.ui.ddmanager.current;this.options.activeClass&&this.element.removeClass(this.options.activeClass),
i&&this._trigger("deactivate",e,this.ui(i))},_over:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.addClass(this.options.hoverClass),this._trigger("over",e,this.ui(i)))},_out:function(e){var i=t.ui.ddmanager.current;i&&(i.currentItem||i.element)[0]!==this.element[0]&&this.accept.call(this.element[0],i.currentItem||i.element)&&(this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("out",e,this.ui(i)))},_drop:function(e,i){var n=i||t.ui.ddmanager.current,s=!1;return n&&(n.currentItem||n.element)[0]!==this.element[0]?(this.element.find(":data(ui-droppable)").not(".ui-draggable-dragging").each(function(){var e=t.data(this,"ui-droppable");return e.options.greedy&&!e.options.disabled&&e.options.scope===n.options.scope&&e.accept.call(e.element[0],n.currentItem||n.element)&&t.ui.intersect(n,t.extend(e,{offset:e.element.offset()}),e.options.tolerance)?(s=!0,!1):void 0}),s?!1:this.accept.call(this.element[0],n.currentItem||n.element)?(this.options.activeClass&&this.element.removeClass(this.options.activeClass),this.options.hoverClass&&this.element.removeClass(this.options.hoverClass),this._trigger("drop",e,this.ui(n)),this.element):!1):!1},ui:function(t){return{draggable:t.currentItem||t.element,helper:t.helper,position:t.position,offset:t.positionAbs}}}),t.ui.intersect=function(t,i,n){if(!i.offset)return!1;var s,o,a=(t.positionAbs||t.position.absolute).left,r=a+t.helperProportions.width,l=(t.positionAbs||t.position.absolute).top,c=l+t.helperProportions.height,h=i.offset.left,u=h+i.proportions.width,d=i.offset.top,p=d+i.proportions.height;switch(n){case"fit":return a>=h&&u>=r&&l>=d&&p>=c;case"intersect":return a+t.helperProportions.width/2>h&&u>r-t.helperProportions.width/2&&l+t.helperProportions.height/2>d&&p>c-t.helperProportions.height/2;case"pointer":return s=(t.positionAbs||t.position.absolute).left+(t.clickOffset||t.offset.click).left,o=(t.positionAbs||t.position.absolute).top+(t.clickOffset||t.offset.click).top,e(o,d,i.proportions.height)&&e(s,h,i.proportions.width);case"touch":return(l>=d&&p>=l||c>=d&&p>=c||d>l&&c>p)&&(a>=h&&u>=a||r>=h&&u>=r||h>a&&r>u);default:return!1}},t.ui.ddmanager={current:null,droppables:{"default":[]},prepareOffsets:function(e,i){var n,s,o=t.ui.ddmanager.droppables[e.options.scope]||[],a=i?i.type:null,r=(e.currentItem||e.element).find(":data(ui-droppable)").addBack();t:for(n=0;o.length>n;n++)if(!(o[n].options.disabled||e&&!o[n].accept.call(o[n].element[0],e.currentItem||e.element))){for(s=0;r.length>s;s++)if(r[s]===o[n].element[0]){o[n].proportions.height=0;continue t}o[n].visible="none"!==o[n].element.css("display"),o[n].visible&&("mousedown"===a&&o[n]._activate.call(o[n],i),o[n].offset=o[n].element.offset(),o[n].proportions={width:o[n].element[0].offsetWidth,height:o[n].element[0].offsetHeight})}},drop:function(e,i){var n=!1;return t.each((t.ui.ddmanager.droppables[e.options.scope]||[]).slice(),function(){this.options&&(!this.options.disabled&&this.visible&&t.ui.intersect(e,this,this.options.tolerance)&&(n=this._drop.call(this,i)||n),!this.options.disabled&&this.visible&&this.accept.call(this.element[0],e.currentItem||e.element)&&(this.isout=!0,this.isover=!1,this._deactivate.call(this,i)))}),n},dragStart:function(e,i){e.element.parentsUntil("body").bind("scroll.droppable",function(){e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)})},drag:function(e,i){e.options.refreshPositions&&t.ui.ddmanager.prepareOffsets(e,i),t.each(t.ui.ddmanager.droppables[e.options.scope]||[],function(){if(!this.options.disabled&&!this.greedyChild&&this.visible){var n,s,o,a=t.ui.intersect(e,this,this.options.tolerance),r=!a&&this.isover?"isout":a&&!this.isover?"isover":null;r&&(this.options.greedy&&(s=this.options.scope,o=this.element.parents(":data(ui-droppable)").filter(function(){return t.data(this,"ui-droppable").options.scope===s}),o.length&&(n=t.data(o[0],"ui-droppable"),n.greedyChild="isover"===r)),n&&"isover"===r&&(n.isover=!1,n.isout=!0,n._out.call(n,i)),this[r]=!0,this["isout"===r?"isover":"isout"]=!1,this["isover"===r?"_over":"_out"].call(this,i),n&&"isout"===r&&(n.isout=!1,n.isover=!0,n._over.call(n,i)))}})},dragStop:function(e,i){e.element.parentsUntil("body").unbind("scroll.droppable"),e.options.refreshPositions||t.ui.ddmanager.prepareOffsets(e,i)}}}(jQuery),function(t){function e(t){return parseInt(t,10)||0}function i(t){return!isNaN(parseInt(t,10))}t.widget("ui.resizable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"resize",options:{alsoResize:!1,animate:!1,animateDuration:"slow",animateEasing:"swing",aspectRatio:!1,autoHide:!1,containment:!1,ghost:!1,grid:!1,handles:"e,s,se",helper:!1,maxHeight:null,maxWidth:null,minHeight:10,minWidth:10,zIndex:90,resize:null,start:null,stop:null},_create:function(){var e,i,n,s,o,a=this,r=this.options;if(this.element.addClass("ui-resizable"),t.extend(this,{_aspectRatio:!!r.aspectRatio,aspectRatio:r.aspectRatio,originalElement:this.element,_proportionallyResizeElements:[],_helper:r.helper||r.ghost||r.animate?r.helper||"ui-resizable-helper":null}),this.element[0].nodeName.match(/canvas|textarea|input|select|button|img/i)&&(this.element.wrap(t("<div class='ui-wrapper' style='overflow: hidden;'></div>").css({position:this.element.css("position"),width:this.element.outerWidth(),height:this.element.outerHeight(),top:this.element.css("top"),left:this.element.css("left")})),this.element=this.element.parent().data("ui-resizable",this.element.data("ui-resizable")),this.elementIsWrapper=!0,this.element.css({marginLeft:this.originalElement.css("marginLeft"),marginTop:this.originalElement.css("marginTop"),marginRight:this.originalElement.css("marginRight"),marginBottom:this.originalElement.css("marginBottom")}),this.originalElement.css({marginLeft:0,marginTop:0,marginRight:0,marginBottom:0}),this.originalResizeStyle=this.originalElement.css("resize"),this.originalElement.css("resize","none"),this._proportionallyResizeElements.push(this.originalElement.css({position:"static",zoom:1,display:"block"})),this.originalElement.css({margin:this.originalElement.css("margin")}),this._proportionallyResize()),this.handles=r.handles||(t(".ui-resizable-handle",this.element).length?{n:".ui-resizable-n",e:".ui-resizable-e",s:".ui-resizable-s",w:".ui-resizable-w",se:".ui-resizable-se",sw:".ui-resizable-sw",ne:".ui-resizable-ne",nw:".ui-resizable-nw"}:"e,s,se"),this.handles.constructor===String)for("all"===this.handles&&(this.handles="n,e,s,w,se,sw,ne,nw"),e=this.handles.split(","),this.handles={},i=0;e.length>i;i++)n=t.trim(e[i]),o="ui-resizable-"+n,s=t("<div class='ui-resizable-handle "+o+"'></div>"),s.css({zIndex:r.zIndex}),"se"===n&&s.addClass("ui-icon ui-icon-gripsmall-diagonal-se"),this.handles[n]=".ui-resizable-"+n,this.element.append(s);this._renderAxis=function(e){var i,n,s,o;e=e||this.element;for(i in this.handles)this.handles[i].constructor===String&&(this.handles[i]=t(this.handles[i],this.element).show()),this.elementIsWrapper&&this.originalElement[0].nodeName.match(/textarea|input|select|button/i)&&(n=t(this.handles[i],this.element),o=/sw|ne|nw|se|n|s/.test(i)?n.outerHeight():n.outerWidth(),s=["padding",/ne|nw|n/.test(i)?"Top":/se|sw|s/.test(i)?"Bottom":/^e$/.test(i)?"Right":"Left"].join(""),e.css(s,o),this._proportionallyResize()),t(this.handles[i]).length},this._renderAxis(this.element),this._handles=t(".ui-resizable-handle",this.element).disableSelection(),this._handles.mouseover(function(){a.resizing||(this.className&&(s=this.className.match(/ui-resizable-(se|sw|ne|nw|n|e|s|w)/i)),a.axis=s&&s[1]?s[1]:"se")}),r.autoHide&&(this._handles.hide(),t(this.element).addClass("ui-resizable-autohide").mouseenter(function(){r.disabled||(t(this).removeClass("ui-resizable-autohide"),a._handles.show())}).mouseleave(function(){r.disabled||a.resizing||(t(this).addClass("ui-resizable-autohide"),a._handles.hide())})),this._mouseInit()},_destroy:function(){this._mouseDestroy();var e,i=function(e){t(e).removeClass("ui-resizable ui-resizable-disabled ui-resizable-resizing").removeData("resizable").removeData("ui-resizable").unbind(".resizable").find(".ui-resizable-handle").remove()};return this.elementIsWrapper&&(i(this.element),e=this.element,this.originalElement.css({position:e.css("position"),width:e.outerWidth(),height:e.outerHeight(),top:e.css("top"),left:e.css("left")}).insertAfter(e),e.remove()),this.originalElement.css("resize",this.originalResizeStyle),i(this.originalElement),this},_mouseCapture:function(e){var i,n,s=!1;for(i in this.handles)n=t(this.handles[i])[0],(n===e.target||t.contains(n,e.target))&&(s=!0);return!this.options.disabled&&s},_mouseStart:function(i){var n,s,o,a=this.options,r=this.element.position(),l=this.element;return this.resizing=!0,/absolute/.test(l.css("position"))?l.css({position:"absolute",top:l.css("top"),left:l.css("left")}):l.is(".ui-draggable")&&l.css({position:"absolute",top:r.top,left:r.left}),this._renderProxy(),n=e(this.helper.css("left")),s=e(this.helper.css("top")),a.containment&&(n+=t(a.containment).scrollLeft()||0,s+=t(a.containment).scrollTop()||0),this.offset=this.helper.offset(),this.position={left:n,top:s},this.size=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalSize=this._helper?{width:l.outerWidth(),height:l.outerHeight()}:{width:l.width(),height:l.height()},this.originalPosition={left:n,top:s},this.sizeDiff={width:l.outerWidth()-l.width(),height:l.outerHeight()-l.height()},this.originalMousePosition={left:i.pageX,top:i.pageY},this.aspectRatio="number"==typeof a.aspectRatio?a.aspectRatio:this.originalSize.width/this.originalSize.height||1,o=t(".ui-resizable-"+this.axis).css("cursor"),t("body").css("cursor","auto"===o?this.axis+"-resize":o),l.addClass("ui-resizable-resizing"),this._propagate("start",i),!0},_mouseDrag:function(e){var i,n=this.helper,s={},o=this.originalMousePosition,a=this.axis,r=this.position.top,l=this.position.left,c=this.size.width,h=this.size.height,u=e.pageX-o.left||0,d=e.pageY-o.top||0,p=this._change[a];return p?(i=p.apply(this,[e,u,d]),this._updateVirtualBoundaries(e.shiftKey),(this._aspectRatio||e.shiftKey)&&(i=this._updateRatio(i,e)),i=this._respectSize(i,e),this._updateCache(i),this._propagate("resize",e),this.position.top!==r&&(s.top=this.position.top+"px"),this.position.left!==l&&(s.left=this.position.left+"px"),this.size.width!==c&&(s.width=this.size.width+"px"),this.size.height!==h&&(s.height=this.size.height+"px"),n.css(s),!this._helper&&this._proportionallyResizeElements.length&&this._proportionallyResize(),t.isEmptyObject(s)||this._trigger("resize",e,this.ui()),!1):!1},_mouseStop:function(e){this.resizing=!1;var i,n,s,o,a,r,l,c=this.options,h=this;return this._helper&&(i=this._proportionallyResizeElements,n=i.length&&/textarea/i.test(i[0].nodeName),s=n&&t.ui.hasScroll(i[0],"left")?0:h.sizeDiff.height,o=n?0:h.sizeDiff.width,a={width:h.helper.width()-o,height:h.helper.height()-s},r=parseInt(h.element.css("left"),10)+(h.position.left-h.originalPosition.left)||null,l=parseInt(h.element.css("top"),10)+(h.position.top-h.originalPosition.top)||null,c.animate||this.element.css(t.extend(a,{top:l,left:r})),h.helper.height(h.size.height),h.helper.width(h.size.width),this._helper&&!c.animate&&this._proportionallyResize()),t("body").css("cursor","auto"),this.element.removeClass("ui-resizable-resizing"),this._propagate("stop",e),this._helper&&this.helper.remove(),!1},_updateVirtualBoundaries:function(t){var e,n,s,o,a,r=this.options;a={minWidth:i(r.minWidth)?r.minWidth:0,maxWidth:i(r.maxWidth)?r.maxWidth:1/0,minHeight:i(r.minHeight)?r.minHeight:0,maxHeight:i(r.maxHeight)?r.maxHeight:1/0},(this._aspectRatio||t)&&(e=a.minHeight*this.aspectRatio,s=a.minWidth/this.aspectRatio,n=a.maxHeight*this.aspectRatio,o=a.maxWidth/this.aspectRatio,e>a.minWidth&&(a.minWidth=e),s>a.minHeight&&(a.minHeight=s),a.maxWidth>n&&(a.maxWidth=n),a.maxHeight>o&&(a.maxHeight=o)),this._vBoundaries=a},_updateCache:function(t){this.offset=this.helper.offset(),i(t.left)&&(this.position.left=t.left),i(t.top)&&(this.position.top=t.top),i(t.height)&&(this.size.height=t.height),i(t.width)&&(this.size.width=t.width)},_updateRatio:function(t){var e=this.position,n=this.size,s=this.axis;return i(t.height)?t.width=t.height*this.aspectRatio:i(t.width)&&(t.height=t.width/this.aspectRatio),"sw"===s&&(t.left=e.left+(n.width-t.width),t.top=null),"nw"===s&&(t.top=e.top+(n.height-t.height),t.left=e.left+(n.width-t.width)),t},_respectSize:function(t){var e=this._vBoundaries,n=this.axis,s=i(t.width)&&e.maxWidth&&e.maxWidth<t.width,o=i(t.height)&&e.maxHeight&&e.maxHeight<t.height,a=i(t.width)&&e.minWidth&&e.minWidth>t.width,r=i(t.height)&&e.minHeight&&e.minHeight>t.height,l=this.originalPosition.left+this.originalSize.width,c=this.position.top+this.size.height,h=/sw|nw|w/.test(n),u=/nw|ne|n/.test(n);return a&&(t.width=e.minWidth),r&&(t.height=e.minHeight),s&&(t.width=e.maxWidth),o&&(t.height=e.maxHeight),a&&h&&(t.left=l-e.minWidth),s&&h&&(t.left=l-e.maxWidth),r&&u&&(t.top=c-e.minHeight),o&&u&&(t.top=c-e.maxHeight),t.width||t.height||t.left||!t.top?t.width||t.height||t.top||!t.left||(t.left=null):t.top=null,t},_proportionallyResize:function(){if(this._proportionallyResizeElements.length){var t,e,i,n,s,o=this.helper||this.element;for(t=0;this._proportionallyResizeElements.length>t;t++){if(s=this._proportionallyResizeElements[t],!this.borderDif)for(this.borderDif=[],i=[s.css("borderTopWidth"),s.css("borderRightWidth"),s.css("borderBottomWidth"),s.css("borderLeftWidth")],n=[s.css("paddingTop"),s.css("paddingRight"),s.css("paddingBottom"),s.css("paddingLeft")],e=0;i.length>e;e++)this.borderDif[e]=(parseInt(i[e],10)||0)+(parseInt(n[e],10)||0);s.css({height:o.height()-this.borderDif[0]-this.borderDif[2]||0,width:o.width()-this.borderDif[1]-this.borderDif[3]||0})}}},_renderProxy:function(){var e=this.element,i=this.options;this.elementOffset=e.offset(),this._helper?(this.helper=this.helper||t("<div style='overflow:hidden;'></div>"),this.helper.addClass(this._helper).css({width:this.element.outerWidth()-1,height:this.element.outerHeight()-1,position:"absolute",left:this.elementOffset.left+"px",top:this.elementOffset.top+"px",zIndex:++i.zIndex}),this.helper.appendTo("body").disableSelection()):this.helper=this.element},_change:{e:function(t,e){return{width:this.originalSize.width+e}},w:function(t,e){var i=this.originalSize,n=this.originalPosition;return{left:n.left+e,width:i.width-e}},n:function(t,e,i){var n=this.originalSize,s=this.originalPosition;return{top:s.top+i,height:n.height-i}},s:function(t,e,i){return{height:this.originalSize.height+i}},se:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},sw:function(e,i,n){return t.extend(this._change.s.apply(this,arguments),this._change.w.apply(this,[e,i,n]))},ne:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.e.apply(this,[e,i,n]))},nw:function(e,i,n){return t.extend(this._change.n.apply(this,arguments),this._change.w.apply(this,[e,i,n]))}},_propagate:function(e,i){t.ui.plugin.call(this,e,[i,this.ui()]),"resize"!==e&&this._trigger(e,i,this.ui())},plugins:{},ui:function(){return{originalElement:this.originalElement,element:this.element,helper:this.helper,position:this.position,size:this.size,originalSize:this.originalSize,originalPosition:this.originalPosition}}}),t.ui.plugin.add("resizable","animate",{stop:function(e){var i=t(this).data("ui-resizable"),n=i.options,s=i._proportionallyResizeElements,o=s.length&&/textarea/i.test(s[0].nodeName),a=o&&t.ui.hasScroll(s[0],"left")?0:i.sizeDiff.height,r=o?0:i.sizeDiff.width,l={width:i.size.width-r,height:i.size.height-a},c=parseInt(i.element.css("left"),10)+(i.position.left-i.originalPosition.left)||null,h=parseInt(i.element.css("top"),10)+(i.position.top-i.originalPosition.top)||null;i.element.animate(t.extend(l,h&&c?{top:h,left:c}:{}),{duration:n.animateDuration,easing:n.animateEasing,step:function(){var n={width:parseInt(i.element.css("width"),10),height:parseInt(i.element.css("height"),10),top:parseInt(i.element.css("top"),10),left:parseInt(i.element.css("left"),10)};s&&s.length&&t(s[0]).css({width:n.width,height:n.height}),i._updateCache(n),i._propagate("resize",e)}})}}),t.ui.plugin.add("resizable","containment",{start:function(){var i,n,s,o,a,r,l,c=t(this).data("ui-resizable"),h=c.options,u=c.element,d=h.containment,p=d instanceof t?d.get(0):/parent/.test(d)?u.parent().get(0):d;p&&(c.containerElement=t(p),/document/.test(d)||d===document?(c.containerOffset={left:0,top:0},c.containerPosition={left:0,top:0},c.parentData={element:t(document),left:0,top:0,width:t(document).width(),height:t(document).height()||document.body.parentNode.scrollHeight}):(i=t(p),n=[],t(["Top","Right","Left","Bottom"]).each(function(t,s){n[t]=e(i.css("padding"+s))}),c.containerOffset=i.offset(),c.containerPosition=i.position(),c.containerSize={height:i.innerHeight()-n[3],width:i.innerWidth()-n[1]},s=c.containerOffset,o=c.containerSize.height,a=c.containerSize.width,r=t.ui.hasScroll(p,"left")?p.scrollWidth:a,l=t.ui.hasScroll(p)?p.scrollHeight:o,c.parentData={element:p,left:s.left,top:s.top,width:r,height:l}))},resize:function(e){var i,n,s,o,a=t(this).data("ui-resizable"),r=a.options,l=a.containerOffset,c=a.position,h=a._aspectRatio||e.shiftKey,u={top:0,left:0},d=a.containerElement;d[0]!==document&&/static/.test(d.css("position"))&&(u=l),c.left<(a._helper?l.left:0)&&(a.size.width=a.size.width+(a._helper?a.position.left-l.left:a.position.left-u.left),h&&(a.size.height=a.size.width/a.aspectRatio),a.position.left=r.helper?l.left:0),c.top<(a._helper?l.top:0)&&(a.size.height=a.size.height+(a._helper?a.position.top-l.top:a.position.top),h&&(a.size.width=a.size.height*a.aspectRatio),a.position.top=a._helper?l.top:0),a.offset.left=a.parentData.left+a.position.left,a.offset.top=a.parentData.top+a.position.top,i=Math.abs((a._helper?a.offset.left-u.left:a.offset.left-u.left)+a.sizeDiff.width),n=Math.abs((a._helper?a.offset.top-u.top:a.offset.top-l.top)+a.sizeDiff.height),s=a.containerElement.get(0)===a.element.parent().get(0),o=/relative|absolute/.test(a.containerElement.css("position")),s&&o&&(i-=a.parentData.left),i+a.size.width>=a.parentData.width&&(a.size.width=a.parentData.width-i,h&&(a.size.height=a.size.width/a.aspectRatio)),n+a.size.height>=a.parentData.height&&(a.size.height=a.parentData.height-n,h&&(a.size.width=a.size.height*a.aspectRatio))},stop:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.containerOffset,s=e.containerPosition,o=e.containerElement,a=t(e.helper),r=a.offset(),l=a.outerWidth()-e.sizeDiff.width,c=a.outerHeight()-e.sizeDiff.height;e._helper&&!i.animate&&/relative/.test(o.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:c}),e._helper&&!i.animate&&/static/.test(o.css("position"))&&t(this).css({left:r.left-s.left-n.left,width:l,height:c})}}),t.ui.plugin.add("resizable","alsoResize",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=function(e){t(e).each(function(){var e=t(this);e.data("ui-resizable-alsoresize",{width:parseInt(e.width(),10),height:parseInt(e.height(),10),left:parseInt(e.css("left"),10),top:parseInt(e.css("top"),10)})})};"object"!=typeof i.alsoResize||i.alsoResize.parentNode?n(i.alsoResize):i.alsoResize.length?(i.alsoResize=i.alsoResize[0],n(i.alsoResize)):t.each(i.alsoResize,function(t){n(t)})},resize:function(e,i){var n=t(this).data("ui-resizable"),s=n.options,o=n.originalSize,a=n.originalPosition,r={height:n.size.height-o.height||0,width:n.size.width-o.width||0,top:n.position.top-a.top||0,left:n.position.left-a.left||0},l=function(e,n){t(e).each(function(){var e=t(this),s=t(this).data("ui-resizable-alsoresize"),o={},a=n&&n.length?n:e.parents(i.originalElement[0]).length?["width","height"]:["width","height","top","left"];t.each(a,function(t,e){var i=(s[e]||0)+(r[e]||0);i&&i>=0&&(o[e]=i||null)}),e.css(o)})};"object"!=typeof s.alsoResize||s.alsoResize.nodeType?l(s.alsoResize):t.each(s.alsoResize,function(t,e){l(t,e)})},stop:function(){t(this).removeData("resizable-alsoresize")}}),t.ui.plugin.add("resizable","ghost",{start:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size;e.ghost=e.originalElement.clone(),e.ghost.css({opacity:.25,display:"block",position:"relative",height:n.height,width:n.width,margin:0,left:0,top:0}).addClass("ui-resizable-ghost").addClass("string"==typeof i.ghost?i.ghost:""),e.ghost.appendTo(e.helper)},resize:function(){var e=t(this).data("ui-resizable");e.ghost&&e.ghost.css({position:"relative",height:e.size.height,width:e.size.width})},stop:function(){var e=t(this).data("ui-resizable");e.ghost&&e.helper&&e.helper.get(0).removeChild(e.ghost.get(0))}}),t.ui.plugin.add("resizable","grid",{resize:function(){var e=t(this).data("ui-resizable"),i=e.options,n=e.size,s=e.originalSize,o=e.originalPosition,a=e.axis,r="number"==typeof i.grid?[i.grid,i.grid]:i.grid,l=r[0]||1,c=r[1]||1,h=Math.round((n.width-s.width)/l)*l,u=Math.round((n.height-s.height)/c)*c,d=s.width+h,p=s.height+u,f=i.maxWidth&&d>i.maxWidth,m=i.maxHeight&&p>i.maxHeight,g=i.minWidth&&i.minWidth>d,v=i.minHeight&&i.minHeight>p;i.grid=r,g&&(d+=l),v&&(p+=c),f&&(d-=l),m&&(p-=c),/^(se|s|e)$/.test(a)?(e.size.width=d,e.size.height=p):/^(ne)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.top=o.top-u):/^(sw)$/.test(a)?(e.size.width=d,e.size.height=p,e.position.left=o.left-h):(e.size.width=d,e.size.height=p,e.position.top=o.top-u,e.position.left=o.left-h)}})}(jQuery),function(t){t.widget("ui.selectable",t.ui.mouse,{version:"1.10.3",options:{appendTo:"body",autoRefresh:!0,distance:0,filter:"*",tolerance:"touch",selected:null,selecting:null,start:null,stop:null,unselected:null,unselecting:null},_create:function(){var e,i=this;this.element.addClass("ui-selectable"),this.dragged=!1,this.refresh=function(){e=t(i.options.filter,i.element[0]),e.addClass("ui-selectee"),e.each(function(){var e=t(this),i=e.offset();t.data(this,"selectable-item",{element:this,$element:e,left:i.left,top:i.top,right:i.left+e.outerWidth(),bottom:i.top+e.outerHeight(),startselected:!1,selected:e.hasClass("ui-selected"),selecting:e.hasClass("ui-selecting"),unselecting:e.hasClass("ui-unselecting")})})},this.refresh(),this.selectees=e.addClass("ui-selectee"),this._mouseInit(),this.helper=t("<div class='ui-selectable-helper'></div>")},_destroy:function(){this.selectees.removeClass("ui-selectee").removeData("selectable-item"),this.element.removeClass("ui-selectable ui-selectable-disabled"),this._mouseDestroy()},_mouseStart:function(e){var i=this,n=this.options;this.opos=[e.pageX,e.pageY],this.options.disabled||(this.selectees=t(n.filter,this.element[0]),this._trigger("start",e),t(n.appendTo).append(this.helper),this.helper.css({left:e.pageX,top:e.pageY,width:0,height:0}),n.autoRefresh&&this.refresh(),this.selectees.filter(".ui-selected").each(function(){var n=t.data(this,"selectable-item");n.startselected=!0,e.metaKey||e.ctrlKey||(n.$element.removeClass("ui-selected"),n.selected=!1,n.$element.addClass("ui-unselecting"),n.unselecting=!0,i._trigger("unselecting",e,{unselecting:n.element}))}),t(e.target).parents().addBack().each(function(){var n,s=t.data(this,"selectable-item");return s?(n=!e.metaKey&&!e.ctrlKey||!s.$element.hasClass("ui-selected"),s.$element.removeClass(n?"ui-unselecting":"ui-selected").addClass(n?"ui-selecting":"ui-unselecting"),s.unselecting=!n,s.selecting=n,s.selected=n,n?i._trigger("selecting",e,{selecting:s.element}):i._trigger("unselecting",e,{unselecting:s.element}),!1):void 0}))},_mouseDrag:function(e){if(this.dragged=!0,!this.options.disabled){var i,n=this,s=this.options,o=this.opos[0],a=this.opos[1],r=e.pageX,l=e.pageY;return o>r&&(i=r,r=o,o=i),a>l&&(i=l,l=a,a=i),this.helper.css({left:o,top:a,width:r-o,height:l-a}),this.selectees.each(function(){var i=t.data(this,"selectable-item"),c=!1;i&&i.element!==n.element[0]&&("touch"===s.tolerance?c=!(i.left>r||o>i.right||i.top>l||a>i.bottom):"fit"===s.tolerance&&(c=i.left>o&&r>i.right&&i.top>a&&l>i.bottom),c?(i.selected&&(i.$element.removeClass("ui-selected"),i.selected=!1),i.unselecting&&(i.$element.removeClass("ui-unselecting"),i.unselecting=!1),i.selecting||(i.$element.addClass("ui-selecting"),i.selecting=!0,n._trigger("selecting",e,{selecting:i.element}))):(i.selecting&&((e.metaKey||e.ctrlKey)&&i.startselected?(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.$element.addClass("ui-selected"),i.selected=!0):(i.$element.removeClass("ui-selecting"),i.selecting=!1,i.startselected&&(i.$element.addClass("ui-unselecting"),i.unselecting=!0),n._trigger("unselecting",e,{unselecting:i.element}))),i.selected&&(e.metaKey||e.ctrlKey||i.startselected||(i.$element.removeClass("ui-selected"),i.selected=!1,i.$element.addClass("ui-unselecting"),i.unselecting=!0,n._trigger("unselecting",e,{unselecting:i.element})))))}),!1}},_mouseStop:function(e){var i=this;return this.dragged=!1,t(".ui-unselecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-unselecting"),n.unselecting=!1,n.startselected=!1,i._trigger("unselected",e,{unselected:n.element})}),t(".ui-selecting",this.element[0]).each(function(){var n=t.data(this,"selectable-item");n.$element.removeClass("ui-selecting").addClass("ui-selected"),n.selecting=!1,n.selected=!0,n.startselected=!0,i._trigger("selected",e,{selected:n.element})}),this._trigger("stop",e),this.helper.remove(),!1}})}(jQuery),function(t){function e(t,e,i){return t>e&&e+i>t}function i(t){return/left|right/.test(t.css("float"))||/inline|table-cell/.test(t.css("display"))}t.widget("ui.sortable",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"sort",ready:!1,options:{appendTo:"parent",axis:!1,connectWith:!1,containment:!1,cursor:"auto",cursorAt:!1,dropOnEmpty:!0,forcePlaceholderSize:!1,forceHelperSize:!1,grid:!1,handle:!1,helper:"original",items:"> *",opacity:!1,placeholder:!1,revert:!1,scroll:!0,scrollSensitivity:20,scrollSpeed:20,scope:"default",tolerance:"intersect",zIndex:1e3,activate:null,beforeStop:null,change:null,deactivate:null,out:null,over:null,receive:null,remove:null,sort:null,start:null,stop:null,update:null},_create:function(){var t=this.options;this.containerCache={},this.element.addClass("ui-sortable"),this.refresh(),this.floating=this.items.length?"x"===t.axis||i(this.items[0].item):!1,this.offset=this.element.offset(),this._mouseInit(),this.ready=!0},_destroy:function(){this.element.removeClass("ui-sortable ui-sortable-disabled"),this._mouseDestroy();for(var t=this.items.length-1;t>=0;t--)this.items[t].item.removeData(this.widgetName+"-item");return this},_setOption:function(e,i){"disabled"===e?(this.options[e]=i,this.widget().toggleClass("ui-sortable-disabled",!!i)):t.Widget.prototype._setOption.apply(this,arguments)},_mouseCapture:function(e,i){var n=null,s=!1,o=this;return this.reverting?!1:this.options.disabled||"static"===this.options.type?!1:(this._refreshItems(e),t(e.target).parents().each(function(){return t.data(this,o.widgetName+"-item")===o?(n=t(this),!1):void 0}),t.data(e.target,o.widgetName+"-item")===o&&(n=t(e.target)),n&&(!this.options.handle||i||(t(this.options.handle,n).find("*").addBack().each(function(){this===e.target&&(s=!0)}),s))?(this.currentItem=n,this._removeCurrentsFromItems(),!0):!1)},_mouseStart:function(e,i,n){var s,o,a=this.options;if(this.currentContainer=this,this.refreshPositions(),this.helper=this._createHelper(e),this._cacheHelperProportions(),this._cacheMargins(),this.scrollParent=this.helper.scrollParent(),this.offset=this.currentItem.offset(),this.offset={top:this.offset.top-this.margins.top,left:this.offset.left-this.margins.left},t.extend(this.offset,{click:{left:e.pageX-this.offset.left,top:e.pageY-this.offset.top},parent:this._getParentOffset(),relative:this._getRelativeOffset()}),this.helper.css("position","absolute"),this.cssPosition=this.helper.css("position"),this.originalPosition=this._generatePosition(e),this.originalPageX=e.pageX,this.originalPageY=e.pageY,a.cursorAt&&this._adjustOffsetFromHelper(a.cursorAt),this.domPosition={prev:this.currentItem.prev()[0],parent:this.currentItem.parent()[0]},this.helper[0]!==this.currentItem[0]&&this.currentItem.hide(),this._createPlaceholder(),a.containment&&this._setContainment(),a.cursor&&"auto"!==a.cursor&&(o=this.document.find("body"),this.storedCursor=o.css("cursor"),o.css("cursor",a.cursor),this.storedStylesheet=t("<style>*{ cursor: "+a.cursor+" !important; }</style>").appendTo(o)),a.opacity&&(this.helper.css("opacity")&&(this._storedOpacity=this.helper.css("opacity")),this.helper.css("opacity",a.opacity)),a.zIndex&&(this.helper.css("zIndex")&&(this._storedZIndex=this.helper.css("zIndex")),this.helper.css("zIndex",a.zIndex)),this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName&&(this.overflowOffset=this.scrollParent.offset()),this._trigger("start",e,this._uiHash()),this._preserveHelperProportions||this._cacheHelperProportions(),!n)for(s=this.containers.length-1;s>=0;s--)this.containers[s]._trigger("activate",e,this._uiHash(this));return t.ui.ddmanager&&(t.ui.ddmanager.current=this),t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e),this.dragging=!0,this.helper.addClass("ui-sortable-helper"),this._mouseDrag(e),!0},_mouseDrag:function(e){var i,n,s,o,a=this.options,r=!1;for(this.position=this._generatePosition(e),this.positionAbs=this._convertPositionTo("absolute"),this.lastPositionAbs||(this.lastPositionAbs=this.positionAbs),this.options.scroll&&(this.scrollParent[0]!==document&&"HTML"!==this.scrollParent[0].tagName?(this.overflowOffset.top+this.scrollParent[0].offsetHeight-e.pageY<a.scrollSensitivity?this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop+a.scrollSpeed:e.pageY-this.overflowOffset.top<a.scrollSensitivity&&(this.scrollParent[0].scrollTop=r=this.scrollParent[0].scrollTop-a.scrollSpeed),this.overflowOffset.left+this.scrollParent[0].offsetWidth-e.pageX<a.scrollSensitivity?this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft+a.scrollSpeed:e.pageX-this.overflowOffset.left<a.scrollSensitivity&&(this.scrollParent[0].scrollLeft=r=this.scrollParent[0].scrollLeft-a.scrollSpeed)):(e.pageY-t(document).scrollTop()<a.scrollSensitivity?r=t(document).scrollTop(t(document).scrollTop()-a.scrollSpeed):t(window).height()-(e.pageY-t(document).scrollTop())<a.scrollSensitivity&&(r=t(document).scrollTop(t(document).scrollTop()+a.scrollSpeed)),e.pageX-t(document).scrollLeft()<a.scrollSensitivity?r=t(document).scrollLeft(t(document).scrollLeft()-a.scrollSpeed):t(window).width()-(e.pageX-t(document).scrollLeft())<a.scrollSensitivity&&(r=t(document).scrollLeft(t(document).scrollLeft()+a.scrollSpeed))),r!==!1&&t.ui.ddmanager&&!a.dropBehaviour&&t.ui.ddmanager.prepareOffsets(this,e)),this.positionAbs=this._convertPositionTo("absolute"),this.options.axis&&"y"===this.options.axis||(this.helper[0].style.left=this.position.left+"px"),this.options.axis&&"x"===this.options.axis||(this.helper[0].style.top=this.position.top+"px"),i=this.items.length-1;i>=0;i--)if(n=this.items[i],s=n.item[0],o=this._intersectsWithPointer(n),o&&n.instance===this.currentContainer&&s!==this.currentItem[0]&&this.placeholder[1===o?"next":"prev"]()[0]!==s&&!t.contains(this.placeholder[0],s)&&("semi-dynamic"===this.options.type?!t.contains(this.element[0],s):!0)){if(this.direction=1===o?"down":"up","pointer"!==this.options.tolerance&&!this._intersectsWithSides(n))break;this._rearrange(e,n),this._trigger("change",e,this._uiHash());break}return this._contactContainers(e),t.ui.ddmanager&&t.ui.ddmanager.drag(this,e),this._trigger("sort",e,this._uiHash()),this.lastPositionAbs=this.positionAbs,!1},_mouseStop:function(e,i){if(e){if(t.ui.ddmanager&&!this.options.dropBehaviour&&t.ui.ddmanager.drop(this,e),this.options.revert){var n=this,s=this.placeholder.offset(),o=this.options.axis,a={};o&&"x"!==o||(a.left=s.left-this.offset.parent.left-this.margins.left+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollLeft)),
o&&"y"!==o||(a.top=s.top-this.offset.parent.top-this.margins.top+(this.offsetParent[0]===document.body?0:this.offsetParent[0].scrollTop)),this.reverting=!0,t(this.helper).animate(a,parseInt(this.options.revert,10)||500,function(){n._clear(e)})}else this._clear(e,i);return!1}},cancel:function(){if(this.dragging){this._mouseUp({target:null}),"original"===this.options.helper?this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper"):this.currentItem.show();for(var e=this.containers.length-1;e>=0;e--)this.containers[e]._trigger("deactivate",null,this._uiHash(this)),this.containers[e].containerCache.over&&(this.containers[e]._trigger("out",null,this._uiHash(this)),this.containers[e].containerCache.over=0)}return this.placeholder&&(this.placeholder[0].parentNode&&this.placeholder[0].parentNode.removeChild(this.placeholder[0]),"original"!==this.options.helper&&this.helper&&this.helper[0].parentNode&&this.helper.remove(),t.extend(this,{helper:null,dragging:!1,reverting:!1,_noFinalSort:null}),this.domPosition.prev?t(this.domPosition.prev).after(this.currentItem):t(this.domPosition.parent).prepend(this.currentItem)),this},serialize:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},t(i).each(function(){var i=(t(e.item||this).attr(e.attribute||"id")||"").match(e.expression||/(.+)[\-=_](.+)/);i&&n.push((e.key||i[1]+"[]")+"="+(e.key&&e.expression?i[1]:i[2]))}),!n.length&&e.key&&n.push(e.key+"="),n.join("&")},toArray:function(e){var i=this._getItemsAsjQuery(e&&e.connected),n=[];return e=e||{},i.each(function(){n.push(t(e.item||this).attr(e.attribute||"id")||"")}),n},_intersectsWith:function(t){var e=this.positionAbs.left,i=e+this.helperProportions.width,n=this.positionAbs.top,s=n+this.helperProportions.height,o=t.left,a=o+t.width,r=t.top,l=r+t.height,c=this.offset.click.top,h=this.offset.click.left,u="x"===this.options.axis||n+c>r&&l>n+c,d="y"===this.options.axis||e+h>o&&a>e+h,p=u&&d;return"pointer"===this.options.tolerance||this.options.forcePointerForContainers||"pointer"!==this.options.tolerance&&this.helperProportions[this.floating?"width":"height"]>t[this.floating?"width":"height"]?p:e+this.helperProportions.width/2>o&&a>i-this.helperProportions.width/2&&n+this.helperProportions.height/2>r&&l>s-this.helperProportions.height/2},_intersectsWithPointer:function(t){var i="x"===this.options.axis||e(this.positionAbs.top+this.offset.click.top,t.top,t.height),n="y"===this.options.axis||e(this.positionAbs.left+this.offset.click.left,t.left,t.width),s=i&&n,o=this._getDragVerticalDirection(),a=this._getDragHorizontalDirection();return s?this.floating?a&&"right"===a||"down"===o?2:1:o&&("down"===o?2:1):!1},_intersectsWithSides:function(t){var i=e(this.positionAbs.top+this.offset.click.top,t.top+t.height/2,t.height),n=e(this.positionAbs.left+this.offset.click.left,t.left+t.width/2,t.width),s=this._getDragVerticalDirection(),o=this._getDragHorizontalDirection();return this.floating&&o?"right"===o&&n||"left"===o&&!n:s&&("down"===s&&i||"up"===s&&!i)},_getDragVerticalDirection:function(){var t=this.positionAbs.top-this.lastPositionAbs.top;return 0!==t&&(t>0?"down":"up")},_getDragHorizontalDirection:function(){var t=this.positionAbs.left-this.lastPositionAbs.left;return 0!==t&&(t>0?"right":"left")},refresh:function(t){return this._refreshItems(t),this.refreshPositions(),this},_connectWith:function(){var t=this.options;return t.connectWith.constructor===String?[t.connectWith]:t.connectWith},_getItemsAsjQuery:function(e){var i,n,s,o,a=[],r=[],l=this._connectWith();if(l&&e)for(i=l.length-1;i>=0;i--)for(s=t(l[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&r.push([t.isFunction(o.options.items)?o.options.items.call(o.element):t(o.options.items,o.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),o]);for(r.push([t.isFunction(this.options.items)?this.options.items.call(this.element,null,{options:this.options,item:this.currentItem}):t(this.options.items,this.element).not(".ui-sortable-helper").not(".ui-sortable-placeholder"),this]),i=r.length-1;i>=0;i--)r[i][0].each(function(){a.push(this)});return t(a)},_removeCurrentsFromItems:function(){var e=this.currentItem.find(":data("+this.widgetName+"-item)");this.items=t.grep(this.items,function(t){for(var i=0;e.length>i;i++)if(e[i]===t.item[0])return!1;return!0})},_refreshItems:function(e){this.items=[],this.containers=[this];var i,n,s,o,a,r,l,c,h=this.items,u=[[t.isFunction(this.options.items)?this.options.items.call(this.element[0],e,{item:this.currentItem}):t(this.options.items,this.element),this]],d=this._connectWith();if(d&&this.ready)for(i=d.length-1;i>=0;i--)for(s=t(d[i]),n=s.length-1;n>=0;n--)o=t.data(s[n],this.widgetFullName),o&&o!==this&&!o.options.disabled&&(u.push([t.isFunction(o.options.items)?o.options.items.call(o.element[0],e,{item:this.currentItem}):t(o.options.items,o.element),o]),this.containers.push(o));for(i=u.length-1;i>=0;i--)for(a=u[i][1],r=u[i][0],n=0,c=r.length;c>n;n++)l=t(r[n]),l.data(this.widgetName+"-item",a),h.push({item:l,instance:a,width:0,height:0,left:0,top:0})},refreshPositions:function(e){this.offsetParent&&this.helper&&(this.offset.parent=this._getParentOffset());var i,n,s,o;for(i=this.items.length-1;i>=0;i--)n=this.items[i],n.instance!==this.currentContainer&&this.currentContainer&&n.item[0]!==this.currentItem[0]||(s=this.options.toleranceElement?t(this.options.toleranceElement,n.item):n.item,e||(n.width=s.outerWidth(),n.height=s.outerHeight()),o=s.offset(),n.left=o.left,n.top=o.top);if(this.options.custom&&this.options.custom.refreshContainers)this.options.custom.refreshContainers.call(this);else for(i=this.containers.length-1;i>=0;i--)o=this.containers[i].element.offset(),this.containers[i].containerCache.left=o.left,this.containers[i].containerCache.top=o.top,this.containers[i].containerCache.width=this.containers[i].element.outerWidth(),this.containers[i].containerCache.height=this.containers[i].element.outerHeight();return this},_createPlaceholder:function(e){e=e||this;var i,n=e.options;n.placeholder&&n.placeholder.constructor!==String||(i=n.placeholder,n.placeholder={element:function(){var n=e.currentItem[0].nodeName.toLowerCase(),s=t("<"+n+">",e.document[0]).addClass(i||e.currentItem[0].className+" ui-sortable-placeholder").removeClass("ui-sortable-helper");return"tr"===n?e.currentItem.children().each(function(){t("<td>&#160;</td>",e.document[0]).attr("colspan",t(this).attr("colspan")||1).appendTo(s)}):"img"===n&&s.attr("src",e.currentItem.attr("src")),i||s.css("visibility","hidden"),s},update:function(t,s){(!i||n.forcePlaceholderSize)&&(s.height()||s.height(e.currentItem.innerHeight()-parseInt(e.currentItem.css("paddingTop")||0,10)-parseInt(e.currentItem.css("paddingBottom")||0,10)),s.width()||s.width(e.currentItem.innerWidth()-parseInt(e.currentItem.css("paddingLeft")||0,10)-parseInt(e.currentItem.css("paddingRight")||0,10)))}}),e.placeholder=t(n.placeholder.element.call(e.element,e.currentItem)),e.currentItem.after(e.placeholder),n.placeholder.update(e,e.placeholder)},_contactContainers:function(n){var s,o,a,r,l,c,h,u,d,p,f=null,m=null;for(s=this.containers.length-1;s>=0;s--)if(!t.contains(this.currentItem[0],this.containers[s].element[0]))if(this._intersectsWith(this.containers[s].containerCache)){if(f&&t.contains(this.containers[s].element[0],f.element[0]))continue;f=this.containers[s],m=s}else this.containers[s].containerCache.over&&(this.containers[s]._trigger("out",n,this._uiHash(this)),this.containers[s].containerCache.over=0);if(f)if(1===this.containers.length)this.containers[m].containerCache.over||(this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1);else{for(a=1e4,r=null,p=f.floating||i(this.currentItem),l=p?"left":"top",c=p?"width":"height",h=this.positionAbs[l]+this.offset.click[l],o=this.items.length-1;o>=0;o--)t.contains(this.containers[m].element[0],this.items[o].item[0])&&this.items[o].item[0]!==this.currentItem[0]&&(!p||e(this.positionAbs.top+this.offset.click.top,this.items[o].top,this.items[o].height))&&(u=this.items[o].item.offset()[l],d=!1,Math.abs(u-h)>Math.abs(u+this.items[o][c]-h)&&(d=!0,u+=this.items[o][c]),a>Math.abs(u-h)&&(a=Math.abs(u-h),r=this.items[o],this.direction=d?"up":"down"));if(!r&&!this.options.dropOnEmpty)return;if(this.currentContainer===this.containers[m])return;r?this._rearrange(n,r,null,!0):this._rearrange(n,null,this.containers[m].element,!0),this._trigger("change",n,this._uiHash()),this.containers[m]._trigger("change",n,this._uiHash(this)),this.currentContainer=this.containers[m],this.options.placeholder.update(this.currentContainer,this.placeholder),this.containers[m]._trigger("over",n,this._uiHash(this)),this.containers[m].containerCache.over=1}},_createHelper:function(e){var i=this.options,n=t.isFunction(i.helper)?t(i.helper.apply(this.element[0],[e,this.currentItem])):"clone"===i.helper?this.currentItem.clone():this.currentItem;return n.parents("body").length||t("parent"!==i.appendTo?i.appendTo:this.currentItem[0].parentNode)[0].appendChild(n[0]),n[0]===this.currentItem[0]&&(this._storedCSS={width:this.currentItem[0].style.width,height:this.currentItem[0].style.height,position:this.currentItem.css("position"),top:this.currentItem.css("top"),left:this.currentItem.css("left")}),(!n[0].style.width||i.forceHelperSize)&&n.width(this.currentItem.width()),(!n[0].style.height||i.forceHelperSize)&&n.height(this.currentItem.height()),n},_adjustOffsetFromHelper:function(e){"string"==typeof e&&(e=e.split(" ")),t.isArray(e)&&(e={left:+e[0],top:+e[1]||0}),"left"in e&&(this.offset.click.left=e.left+this.margins.left),"right"in e&&(this.offset.click.left=this.helperProportions.width-e.right+this.margins.left),"top"in e&&(this.offset.click.top=e.top+this.margins.top),"bottom"in e&&(this.offset.click.top=this.helperProportions.height-e.bottom+this.margins.top)},_getParentOffset:function(){this.offsetParent=this.helper.offsetParent();var e=this.offsetParent.offset();return"absolute"===this.cssPosition&&this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])&&(e.left+=this.scrollParent.scrollLeft(),e.top+=this.scrollParent.scrollTop()),(this.offsetParent[0]===document.body||this.offsetParent[0].tagName&&"html"===this.offsetParent[0].tagName.toLowerCase()&&t.ui.ie)&&(e={top:0,left:0}),{top:e.top+(parseInt(this.offsetParent.css("borderTopWidth"),10)||0),left:e.left+(parseInt(this.offsetParent.css("borderLeftWidth"),10)||0)}},_getRelativeOffset:function(){if("relative"===this.cssPosition){var t=this.currentItem.position();return{top:t.top-(parseInt(this.helper.css("top"),10)||0)+this.scrollParent.scrollTop(),left:t.left-(parseInt(this.helper.css("left"),10)||0)+this.scrollParent.scrollLeft()}}return{top:0,left:0}},_cacheMargins:function(){this.margins={left:parseInt(this.currentItem.css("marginLeft"),10)||0,top:parseInt(this.currentItem.css("marginTop"),10)||0}},_cacheHelperProportions:function(){this.helperProportions={width:this.helper.outerWidth(),height:this.helper.outerHeight()}},_setContainment:function(){var e,i,n,s=this.options;"parent"===s.containment&&(s.containment=this.helper[0].parentNode),("document"===s.containment||"window"===s.containment)&&(this.containment=[0-this.offset.relative.left-this.offset.parent.left,0-this.offset.relative.top-this.offset.parent.top,t("document"===s.containment?document:window).width()-this.helperProportions.width-this.margins.left,(t("document"===s.containment?document:window).height()||document.body.parentNode.scrollHeight)-this.helperProportions.height-this.margins.top]),/^(document|window|parent)$/.test(s.containment)||(e=t(s.containment)[0],i=t(s.containment).offset(),n="hidden"!==t(e).css("overflow"),this.containment=[i.left+(parseInt(t(e).css("borderLeftWidth"),10)||0)+(parseInt(t(e).css("paddingLeft"),10)||0)-this.margins.left,i.top+(parseInt(t(e).css("borderTopWidth"),10)||0)+(parseInt(t(e).css("paddingTop"),10)||0)-this.margins.top,i.left+(n?Math.max(e.scrollWidth,e.offsetWidth):e.offsetWidth)-(parseInt(t(e).css("borderLeftWidth"),10)||0)-(parseInt(t(e).css("paddingRight"),10)||0)-this.helperProportions.width-this.margins.left,i.top+(n?Math.max(e.scrollHeight,e.offsetHeight):e.offsetHeight)-(parseInt(t(e).css("borderTopWidth"),10)||0)-(parseInt(t(e).css("paddingBottom"),10)||0)-this.helperProportions.height-this.margins.top])},_convertPositionTo:function(e,i){i||(i=this.position);var n="absolute"===e?1:-1,s="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,o=/(html|body)/i.test(s[0].tagName);return{top:i.top+this.offset.relative.top*n+this.offset.parent.top*n-("fixed"===this.cssPosition?-this.scrollParent.scrollTop():o?0:s.scrollTop())*n,left:i.left+this.offset.relative.left*n+this.offset.parent.left*n-("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():o?0:s.scrollLeft())*n}},_generatePosition:function(e){var i,n,s=this.options,o=e.pageX,a=e.pageY,r="absolute"!==this.cssPosition||this.scrollParent[0]!==document&&t.contains(this.scrollParent[0],this.offsetParent[0])?this.scrollParent:this.offsetParent,l=/(html|body)/i.test(r[0].tagName);return"relative"!==this.cssPosition||this.scrollParent[0]!==document&&this.scrollParent[0]!==this.offsetParent[0]||(this.offset.relative=this._getRelativeOffset()),this.originalPosition&&(this.containment&&(e.pageX-this.offset.click.left<this.containment[0]&&(o=this.containment[0]+this.offset.click.left),e.pageY-this.offset.click.top<this.containment[1]&&(a=this.containment[1]+this.offset.click.top),e.pageX-this.offset.click.left>this.containment[2]&&(o=this.containment[2]+this.offset.click.left),e.pageY-this.offset.click.top>this.containment[3]&&(a=this.containment[3]+this.offset.click.top)),s.grid&&(i=this.originalPageY+Math.round((a-this.originalPageY)/s.grid[1])*s.grid[1],a=this.containment?i-this.offset.click.top>=this.containment[1]&&i-this.offset.click.top<=this.containment[3]?i:i-this.offset.click.top>=this.containment[1]?i-s.grid[1]:i+s.grid[1]:i,n=this.originalPageX+Math.round((o-this.originalPageX)/s.grid[0])*s.grid[0],o=this.containment?n-this.offset.click.left>=this.containment[0]&&n-this.offset.click.left<=this.containment[2]?n:n-this.offset.click.left>=this.containment[0]?n-s.grid[0]:n+s.grid[0]:n)),{top:a-this.offset.click.top-this.offset.relative.top-this.offset.parent.top+("fixed"===this.cssPosition?-this.scrollParent.scrollTop():l?0:r.scrollTop()),left:o-this.offset.click.left-this.offset.relative.left-this.offset.parent.left+("fixed"===this.cssPosition?-this.scrollParent.scrollLeft():l?0:r.scrollLeft())}},_rearrange:function(t,e,i,n){i?i[0].appendChild(this.placeholder[0]):e.item[0].parentNode.insertBefore(this.placeholder[0],"down"===this.direction?e.item[0]:e.item[0].nextSibling),this.counter=this.counter?++this.counter:1;var s=this.counter;this._delay(function(){s===this.counter&&this.refreshPositions(!n)})},_clear:function(t,e){this.reverting=!1;var i,n=[];if(!this._noFinalSort&&this.currentItem.parent().length&&this.placeholder.before(this.currentItem),this._noFinalSort=null,this.helper[0]===this.currentItem[0]){for(i in this._storedCSS)("auto"===this._storedCSS[i]||"static"===this._storedCSS[i])&&(this._storedCSS[i]="");this.currentItem.css(this._storedCSS).removeClass("ui-sortable-helper")}else this.currentItem.show();for(this.fromOutside&&!e&&n.push(function(t){this._trigger("receive",t,this._uiHash(this.fromOutside))}),!this.fromOutside&&this.domPosition.prev===this.currentItem.prev().not(".ui-sortable-helper")[0]&&this.domPosition.parent===this.currentItem.parent()[0]||e||n.push(function(t){this._trigger("update",t,this._uiHash())}),this!==this.currentContainer&&(e||(n.push(function(t){this._trigger("remove",t,this._uiHash())}),n.push(function(t){return function(e){t._trigger("receive",e,this._uiHash(this))}}.call(this,this.currentContainer)),n.push(function(t){return function(e){t._trigger("update",e,this._uiHash(this))}}.call(this,this.currentContainer)))),i=this.containers.length-1;i>=0;i--)e||n.push(function(t){return function(e){t._trigger("deactivate",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over&&(n.push(function(t){return function(e){t._trigger("out",e,this._uiHash(this))}}.call(this,this.containers[i])),this.containers[i].containerCache.over=0);if(this.storedCursor&&(this.document.find("body").css("cursor",this.storedCursor),this.storedStylesheet.remove()),this._storedOpacity&&this.helper.css("opacity",this._storedOpacity),this._storedZIndex&&this.helper.css("zIndex","auto"===this._storedZIndex?"":this._storedZIndex),this.dragging=!1,this.cancelHelperRemoval){if(!e){for(this._trigger("beforeStop",t,this._uiHash()),i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!1}if(e||this._trigger("beforeStop",t,this._uiHash()),this.placeholder[0].parentNode.removeChild(this.placeholder[0]),this.helper[0]!==this.currentItem[0]&&this.helper.remove(),this.helper=null,!e){for(i=0;n.length>i;i++)n[i].call(this,t);this._trigger("stop",t,this._uiHash())}return this.fromOutside=!1,!0},_trigger:function(){t.Widget.prototype._trigger.apply(this,arguments)===!1&&this.cancel()},_uiHash:function(e){var i=e||this;return{helper:i.helper,placeholder:i.placeholder||t([]),position:i.position,originalPosition:i.originalPosition,offset:i.positionAbs,item:i.currentItem,sender:e?e.element:null}}})}(jQuery),function(t,e){var i="ui-effects-";t.effects={effect:{}},function(t,e){function i(t,e,i){var n=u[e.type]||{};return null==t?i||!e.def?null:e.def:(t=n.floor?~~t:parseFloat(t),isNaN(t)?e.def:n.mod?(t+n.mod)%n.mod:0>t?0:t>n.max?n.max:t)}function n(i){var n=c(),s=n._rgba=[];return i=i.toLowerCase(),f(l,function(t,o){var a,r=o.re.exec(i),l=r&&o.parse(r),c=o.space||"rgba";return l?(a=n[c](l),n[h[c].cache]=a[h[c].cache],s=n._rgba=a._rgba,!1):e}),s.length?("0,0,0,0"===s.join()&&t.extend(s,o.transparent),n):o[i]}function s(t,e,i){return i=(i+1)%1,1>6*i?t+6*(e-t)*i:1>2*i?e:2>3*i?t+6*(e-t)*(2/3-i):t}var o,a="backgroundColor borderBottomColor borderLeftColor borderRightColor borderTopColor color columnRuleColor outlineColor textDecorationColor textEmphasisColor",r=/^([\-+])=\s*(\d+\.?\d*)/,l=[{re:/rgba?\(\s*(\d{1,3})\s*,\s*(\d{1,3})\s*,\s*(\d{1,3})\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[t[1],t[2],t[3],t[4]]}},{re:/rgba?\(\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,parse:function(t){return[2.55*t[1],2.55*t[2],2.55*t[3],t[4]]}},{re:/#([a-f0-9]{2})([a-f0-9]{2})([a-f0-9]{2})/,parse:function(t){return[parseInt(t[1],16),parseInt(t[2],16),parseInt(t[3],16)]}},{re:/#([a-f0-9])([a-f0-9])([a-f0-9])/,parse:function(t){return[parseInt(t[1]+t[1],16),parseInt(t[2]+t[2],16),parseInt(t[3]+t[3],16)]}},{re:/hsla?\(\s*(\d+(?:\.\d+)?)\s*,\s*(\d+(?:\.\d+)?)\%\s*,\s*(\d+(?:\.\d+)?)\%\s*(?:,\s*(\d?(?:\.\d+)?)\s*)?\)/,space:"hsla",parse:function(t){return[t[1],t[2]/100,t[3]/100,t[4]]}}],c=t.Color=function(e,i,n,s){return new t.Color.fn.parse(e,i,n,s)},h={rgba:{props:{red:{idx:0,type:"byte"},green:{idx:1,type:"byte"},blue:{idx:2,type:"byte"}}},hsla:{props:{hue:{idx:0,type:"degrees"},saturation:{idx:1,type:"percent"},lightness:{idx:2,type:"percent"}}}},u={"byte":{floor:!0,max:255},percent:{max:1},degrees:{mod:360,floor:!0}},d=c.support={},p=t("<p>")[0],f=t.each;p.style.cssText="background-color:rgba(1,1,1,.5)",d.rgba=p.style.backgroundColor.indexOf("rgba")>-1,f(h,function(t,e){e.cache="_"+t,e.props.alpha={idx:3,type:"percent",def:1}}),c.fn=t.extend(c.prototype,{parse:function(s,a,r,l){if(s===e)return this._rgba=[null,null,null,null],this;(s.jquery||s.nodeType)&&(s=t(s).css(a),a=e);var u=this,d=t.type(s),p=this._rgba=[];return a!==e&&(s=[s,a,r,l],d="array"),"string"===d?this.parse(n(s)||o._default):"array"===d?(f(h.rgba.props,function(t,e){p[e.idx]=i(s[e.idx],e)}),this):"object"===d?(s instanceof c?f(h,function(t,e){s[e.cache]&&(u[e.cache]=s[e.cache].slice())}):f(h,function(e,n){var o=n.cache;f(n.props,function(t,e){if(!u[o]&&n.to){if("alpha"===t||null==s[t])return;u[o]=n.to(u._rgba)}u[o][e.idx]=i(s[t],e,!0)}),u[o]&&0>t.inArray(null,u[o].slice(0,3))&&(u[o][3]=1,n.from&&(u._rgba=n.from(u[o])))}),this):e},is:function(t){var i=c(t),n=!0,s=this;return f(h,function(t,o){var a,r=i[o.cache];return r&&(a=s[o.cache]||o.to&&o.to(s._rgba)||[],f(o.props,function(t,i){return null!=r[i.idx]?n=r[i.idx]===a[i.idx]:e})),n}),n},_space:function(){var t=[],e=this;return f(h,function(i,n){e[n.cache]&&t.push(i)}),t.pop()},transition:function(t,e){var n=c(t),s=n._space(),o=h[s],a=0===this.alpha()?c("transparent"):this,r=a[o.cache]||o.to(a._rgba),l=r.slice();return n=n[o.cache],f(o.props,function(t,s){var o=s.idx,a=r[o],c=n[o],h=u[s.type]||{};null!==c&&(null===a?l[o]=c:(h.mod&&(c-a>h.mod/2?a+=h.mod:a-c>h.mod/2&&(a-=h.mod)),l[o]=i((c-a)*e+a,s)))}),this[s](l)},blend:function(e){if(1===this._rgba[3])return this;var i=this._rgba.slice(),n=i.pop(),s=c(e)._rgba;return c(t.map(i,function(t,e){return(1-n)*s[e]+n*t}))},toRgbaString:function(){var e="rgba(",i=t.map(this._rgba,function(t,e){return null==t?e>2?1:0:t});return 1===i[3]&&(i.pop(),e="rgb("),e+i.join()+")"},toHslaString:function(){var e="hsla(",i=t.map(this.hsla(),function(t,e){return null==t&&(t=e>2?1:0),e&&3>e&&(t=Math.round(100*t)+"%"),t});return 1===i[3]&&(i.pop(),e="hsl("),e+i.join()+")"},toHexString:function(e){var i=this._rgba.slice(),n=i.pop();return e&&i.push(~~(255*n)),"#"+t.map(i,function(t){return t=(t||0).toString(16),1===t.length?"0"+t:t}).join("")},toString:function(){return 0===this._rgba[3]?"transparent":this.toRgbaString()}}),c.fn.parse.prototype=c.fn,h.hsla.to=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e,i,n=t[0]/255,s=t[1]/255,o=t[2]/255,a=t[3],r=Math.max(n,s,o),l=Math.min(n,s,o),c=r-l,h=r+l,u=.5*h;return e=l===r?0:n===r?60*(s-o)/c+360:s===r?60*(o-n)/c+120:60*(n-s)/c+240,i=0===c?0:.5>=u?c/h:c/(2-h),[Math.round(e)%360,i,u,null==a?1:a]},h.hsla.from=function(t){if(null==t[0]||null==t[1]||null==t[2])return[null,null,null,t[3]];var e=t[0]/360,i=t[1],n=t[2],o=t[3],a=.5>=n?n*(1+i):n+i-n*i,r=2*n-a;return[Math.round(255*s(r,a,e+1/3)),Math.round(255*s(r,a,e)),Math.round(255*s(r,a,e-1/3)),o]},f(h,function(n,s){var o=s.props,a=s.cache,l=s.to,h=s.from;c.fn[n]=function(n){if(l&&!this[a]&&(this[a]=l(this._rgba)),n===e)return this[a].slice();var s,r=t.type(n),u="array"===r||"object"===r?n:arguments,d=this[a].slice();return f(o,function(t,e){var n=u["object"===r?t:e.idx];null==n&&(n=d[e.idx]),d[e.idx]=i(n,e)}),h?(s=c(h(d)),s[a]=d,s):c(d)},f(o,function(e,i){c.fn[e]||(c.fn[e]=function(s){var o,a=t.type(s),l="alpha"===e?this._hsla?"hsla":"rgba":n,c=this[l](),h=c[i.idx];return"undefined"===a?h:("function"===a&&(s=s.call(this,h),a=t.type(s)),null==s&&i.empty?this:("string"===a&&(o=r.exec(s),o&&(s=h+parseFloat(o[2])*("+"===o[1]?1:-1))),c[i.idx]=s,this[l](c)))})})}),c.hook=function(e){var i=e.split(" ");f(i,function(e,i){t.cssHooks[i]={set:function(e,s){var o,a,r="";if("transparent"!==s&&("string"!==t.type(s)||(o=n(s)))){if(s=c(o||s),!d.rgba&&1!==s._rgba[3]){for(a="backgroundColor"===i?e.parentNode:e;(""===r||"transparent"===r)&&a&&a.style;)try{r=t.css(a,"backgroundColor"),a=a.parentNode}catch(l){}s=s.blend(r&&"transparent"!==r?r:"_default")}s=s.toRgbaString()}try{e.style[i]=s}catch(l){}}},t.fx.step[i]=function(e){e.colorInit||(e.start=c(e.elem,i),e.end=c(e.end),e.colorInit=!0),t.cssHooks[i].set(e.elem,e.start.transition(e.end,e.pos))}})},c.hook(a),t.cssHooks.borderColor={expand:function(t){var e={};return f(["Top","Right","Bottom","Left"],function(i,n){e["border"+n+"Color"]=t}),e}},o=t.Color.names={aqua:"#00ffff",black:"#000000",blue:"#0000ff",fuchsia:"#ff00ff",gray:"#808080",green:"#008000",lime:"#00ff00",maroon:"#800000",navy:"#000080",olive:"#808000",purple:"#800080",red:"#ff0000",silver:"#c0c0c0",teal:"#008080",white:"#ffffff",yellow:"#ffff00",transparent:[null,null,null,0],_default:"#ffffff"}}(jQuery),function(){function i(e){var i,n,s=e.ownerDocument.defaultView?e.ownerDocument.defaultView.getComputedStyle(e,null):e.currentStyle,o={};if(s&&s.length&&s[0]&&s[s[0]])for(n=s.length;n--;)i=s[n],"string"==typeof s[i]&&(o[t.camelCase(i)]=s[i]);else for(i in s)"string"==typeof s[i]&&(o[i]=s[i]);return o}function n(e,i){var n,s,a={};for(n in i)s=i[n],e[n]!==s&&(o[n]||(t.fx.step[n]||!isNaN(parseFloat(s)))&&(a[n]=s));return a}var s=["add","remove","toggle"],o={border:1,borderBottom:1,borderColor:1,borderLeft:1,borderRight:1,borderTop:1,borderWidth:1,margin:1,padding:1};t.each(["borderLeftStyle","borderRightStyle","borderBottomStyle","borderTopStyle"],function(e,i){t.fx.step[i]=function(t){("none"!==t.end&&!t.setAttr||1===t.pos&&!t.setAttr)&&(jQuery.style(t.elem,i,t.end),t.setAttr=!0)}}),t.fn.addBack||(t.fn.addBack=function(t){return this.add(null==t?this.prevObject:this.prevObject.filter(t))}),t.effects.animateClass=function(e,o,a,r){var l=t.speed(o,a,r);return this.queue(function(){var o,a=t(this),r=a.attr("class")||"",c=l.children?a.find("*").addBack():a;c=c.map(function(){var e=t(this);return{el:e,start:i(this)}}),o=function(){t.each(s,function(t,i){e[i]&&a[i+"Class"](e[i])})},o(),c=c.map(function(){return this.end=i(this.el[0]),this.diff=n(this.start,this.end),this}),a.attr("class",r),c=c.map(function(){var e=this,i=t.Deferred(),n=t.extend({},l,{queue:!1,complete:function(){i.resolve(e)}});return this.el.animate(this.diff,n),i.promise()}),t.when.apply(t,c.get()).done(function(){o(),t.each(arguments,function(){var e=this.el;t.each(this.diff,function(t){e.css(t,"")})}),l.complete.call(a[0])})})},t.fn.extend({addClass:function(e){return function(i,n,s,o){return n?t.effects.animateClass.call(this,{add:i},n,s,o):e.apply(this,arguments)}}(t.fn.addClass),removeClass:function(e){return function(i,n,s,o){return arguments.length>1?t.effects.animateClass.call(this,{remove:i},n,s,o):e.apply(this,arguments)}}(t.fn.removeClass),toggleClass:function(i){return function(n,s,o,a,r){return"boolean"==typeof s||s===e?o?t.effects.animateClass.call(this,s?{add:n}:{remove:n},o,a,r):i.apply(this,arguments):t.effects.animateClass.call(this,{toggle:n},s,o,a)}}(t.fn.toggleClass),switchClass:function(e,i,n,s,o){return t.effects.animateClass.call(this,{add:i,remove:e},n,s,o)}})}(),function(){function n(e,i,n,s){return t.isPlainObject(e)&&(i=e,e=e.effect),e={effect:e},null==i&&(i={}),t.isFunction(i)&&(s=i,n=null,i={}),("number"==typeof i||t.fx.speeds[i])&&(s=n,n=i,i={}),t.isFunction(n)&&(s=n,n=null),i&&t.extend(e,i),n=n||i.duration,e.duration=t.fx.off?0:"number"==typeof n?n:n in t.fx.speeds?t.fx.speeds[n]:t.fx.speeds._default,e.complete=s||i.complete,e}function s(e){return!e||"number"==typeof e||t.fx.speeds[e]?!0:"string"!=typeof e||t.effects.effect[e]?t.isFunction(e)?!0:"object"==typeof e&&!e.effect:!0}t.extend(t.effects,{version:"1.10.3",save:function(t,e){for(var n=0;e.length>n;n++)null!==e[n]&&t.data(i+e[n],t[0].style[e[n]])},restore:function(t,n){var s,o;for(o=0;n.length>o;o++)null!==n[o]&&(s=t.data(i+n[o]),s===e&&(s=""),t.css(n[o],s))},setMode:function(t,e){return"toggle"===e&&(e=t.is(":hidden")?"show":"hide"),e},getBaseline:function(t,e){var i,n;switch(t[0]){case"top":i=0;break;case"middle":i=.5;break;case"bottom":i=1;break;default:i=t[0]/e.height}switch(t[1]){case"left":n=0;break;case"center":n=.5;break;case"right":n=1;break;default:n=t[1]/e.width}return{x:n,y:i}},createWrapper:function(e){if(e.parent().is(".ui-effects-wrapper"))return e.parent();var i={width:e.outerWidth(!0),height:e.outerHeight(!0),"float":e.css("float")},n=t("<div></div>").addClass("ui-effects-wrapper").css({fontSize:"100%",background:"transparent",border:"none",margin:0,padding:0}),s={width:e.width(),height:e.height()},o=document.activeElement;try{o.id}catch(a){o=document.body}return e.wrap(n),(e[0]===o||t.contains(e[0],o))&&t(o).focus(),n=e.parent(),"static"===e.css("position")?(n.css({position:"relative"}),e.css({position:"relative"})):(t.extend(i,{position:e.css("position"),zIndex:e.css("z-index")}),t.each(["top","left","bottom","right"],function(t,n){i[n]=e.css(n),isNaN(parseInt(i[n],10))&&(i[n]="auto")}),e.css({position:"relative",top:0,left:0,right:"auto",bottom:"auto"})),e.css(s),n.css(i).show()},removeWrapper:function(e){var i=document.activeElement;return e.parent().is(".ui-effects-wrapper")&&(e.parent().replaceWith(e),(e[0]===i||t.contains(e[0],i))&&t(i).focus()),e},setTransition:function(e,i,n,s){return s=s||{},t.each(i,function(t,i){var o=e.cssUnit(i);o[0]>0&&(s[i]=o[0]*n+o[1])}),s}}),t.fn.extend({effect:function(){function e(e){function n(){t.isFunction(o)&&o.call(s[0]),t.isFunction(e)&&e()}var s=t(this),o=i.complete,r=i.mode;(s.is(":hidden")?"hide"===r:"show"===r)?(s[r](),n()):a.call(s[0],i,n)}var i=n.apply(this,arguments),s=i.mode,o=i.queue,a=t.effects.effect[i.effect];return t.fx.off||!a?s?this[s](i.duration,i.complete):this.each(function(){i.complete&&i.complete.call(this)}):o===!1?this.each(e):this.queue(o||"fx",e)},show:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="show",this.effect.call(this,i)}}(t.fn.show),hide:function(t){return function(e){if(s(e))return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="hide",this.effect.call(this,i)}}(t.fn.hide),toggle:function(t){return function(e){if(s(e)||"boolean"==typeof e)return t.apply(this,arguments);var i=n.apply(this,arguments);return i.mode="toggle",this.effect.call(this,i)}}(t.fn.toggle),cssUnit:function(e){var i=this.css(e),n=[];return t.each(["em","px","%","pt"],function(t,e){i.indexOf(e)>0&&(n=[parseFloat(i),e])}),n}})}(),function(){var e={};t.each(["Quad","Cubic","Quart","Quint","Expo"],function(t,i){e[i]=function(e){return Math.pow(e,t+2)}}),t.extend(e,{Sine:function(t){return 1-Math.cos(t*Math.PI/2)},Circ:function(t){return 1-Math.sqrt(1-t*t)},Elastic:function(t){return 0===t||1===t?t:-Math.pow(2,8*(t-1))*Math.sin((80*(t-1)-7.5)*Math.PI/15)},Back:function(t){return t*t*(3*t-2)},Bounce:function(t){for(var e,i=4;((e=Math.pow(2,--i))-1)/11>t;);return 1/Math.pow(4,3-i)-7.5625*Math.pow((3*e-2)/22-t,2)}}),t.each(e,function(e,i){t.easing["easeIn"+e]=i,t.easing["easeOut"+e]=function(t){return 1-i(1-t)},t.easing["easeInOut"+e]=function(t){return.5>t?i(2*t)/2:1-i(-2*t+2)/2}})}()}(jQuery),function(t){var e=0,i={},n={};i.height=i.paddingTop=i.paddingBottom=i.borderTopWidth=i.borderBottomWidth="hide",n.height=n.paddingTop=n.paddingBottom=n.borderTopWidth=n.borderBottomWidth="show",t.widget("ui.accordion",{version:"1.10.3",options:{active:0,animate:{},collapsible:!1,event:"click",header:"> li > :first-child,> :not(li):even",heightStyle:"auto",icons:{activeHeader:"ui-icon-triangle-1-s",header:"ui-icon-triangle-1-e"},activate:null,beforeActivate:null},_create:function(){var e=this.options;this.prevShow=this.prevHide=t(),this.element.addClass("ui-accordion ui-widget ui-helper-reset").attr("role","tablist"),e.collapsible||e.active!==!1&&null!=e.active||(e.active=0),this._processPanels(),0>e.active&&(e.active+=this.headers.length),this._refresh()},_getCreateEventData:function(){return{header:this.active,panel:this.active.length?this.active.next():t(),content:this.active.length?this.active.next():t()}},_createIcons:function(){var e=this.options.icons;e&&(t("<span>").addClass("ui-accordion-header-icon ui-icon "+e.header).prependTo(this.headers),this.active.children(".ui-accordion-header-icon").removeClass(e.header).addClass(e.activeHeader),this.headers.addClass("ui-accordion-icons"))},_destroyIcons:function(){this.headers.removeClass("ui-accordion-icons").children(".ui-accordion-header-icon").remove()},_destroy:function(){var t;this.element.removeClass("ui-accordion ui-widget ui-helper-reset").removeAttr("role"),this.headers.removeClass("ui-accordion-header ui-accordion-header-active ui-helper-reset ui-state-default ui-corner-all ui-state-active ui-state-disabled ui-corner-top").removeAttr("role").removeAttr("aria-selected").removeAttr("aria-controls").removeAttr("tabIndex").each(function(){
/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),this._destroyIcons(),t=this.headers.next().css("display","").removeAttr("role").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-labelledby").removeClass("ui-helper-reset ui-widget-content ui-corner-bottom ui-accordion-content ui-accordion-content-active ui-state-disabled").each(function(){/^ui-accordion/.test(this.id)&&this.removeAttribute("id")}),"content"!==this.options.heightStyle&&t.css("height","")},_setOption:function(t,e){return"active"===t?void this._activate(e):("event"===t&&(this.options.event&&this._off(this.headers,this.options.event),this._setupEvents(e)),this._super(t,e),"collapsible"!==t||e||this.options.active!==!1||this._activate(0),"icons"===t&&(this._destroyIcons(),e&&this._createIcons()),void("disabled"===t&&this.headers.add(this.headers.next()).toggleClass("ui-state-disabled",!!e)))},_keydown:function(e){if(!e.altKey&&!e.ctrlKey){var i=t.ui.keyCode,n=this.headers.length,s=this.headers.index(e.target),o=!1;switch(e.keyCode){case i.RIGHT:case i.DOWN:o=this.headers[(s+1)%n];break;case i.LEFT:case i.UP:o=this.headers[(s-1+n)%n];break;case i.SPACE:case i.ENTER:this._eventHandler(e);break;case i.HOME:o=this.headers[0];break;case i.END:o=this.headers[n-1]}o&&(t(e.target).attr("tabIndex",-1),t(o).attr("tabIndex",0),o.focus(),e.preventDefault())}},_panelKeyDown:function(e){e.keyCode===t.ui.keyCode.UP&&e.ctrlKey&&t(e.currentTarget).prev().focus()},refresh:function(){var e=this.options;this._processPanels(),e.active===!1&&e.collapsible===!0||!this.headers.length?(e.active=!1,this.active=t()):e.active===!1?this._activate(0):this.active.length&&!t.contains(this.element[0],this.active[0])?this.headers.length===this.headers.find(".ui-state-disabled").length?(e.active=!1,this.active=t()):this._activate(Math.max(0,e.active-1)):e.active=this.headers.index(this.active),this._destroyIcons(),this._refresh()},_processPanels:function(){this.headers=this.element.find(this.options.header).addClass("ui-accordion-header ui-helper-reset ui-state-default ui-corner-all"),this.headers.next().addClass("ui-accordion-content ui-helper-reset ui-widget-content ui-corner-bottom").filter(":not(.ui-accordion-content-active)").hide()},_refresh:function(){var i,n=this.options,s=n.heightStyle,o=this.element.parent(),a=this.accordionId="ui-accordion-"+(this.element.attr("id")||++e);this.active=this._findActive(n.active).addClass("ui-accordion-header-active ui-state-active ui-corner-top").removeClass("ui-corner-all"),this.active.next().addClass("ui-accordion-content-active").show(),this.headers.attr("role","tab").each(function(e){var i=t(this),n=i.attr("id"),s=i.next(),o=s.attr("id");n||(n=a+"-header-"+e,i.attr("id",n)),o||(o=a+"-panel-"+e,s.attr("id",o)),i.attr("aria-controls",o),s.attr("aria-labelledby",n)}).next().attr("role","tabpanel"),this.headers.not(this.active).attr({"aria-selected":"false",tabIndex:-1}).next().attr({"aria-expanded":"false","aria-hidden":"true"}).hide(),this.active.length?this.active.attr({"aria-selected":"true",tabIndex:0}).next().attr({"aria-expanded":"true","aria-hidden":"false"}):this.headers.eq(0).attr("tabIndex",0),this._createIcons(),this._setupEvents(n.event),"fill"===s?(i=o.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.headers.each(function(){i-=t(this).outerHeight(!0)}),this.headers.next().each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===s&&(i=0,this.headers.next().each(function(){i=Math.max(i,t(this).css("height","").height())}).height(i))},_activate:function(e){var i=this._findActive(e)[0];i!==this.active[0]&&(i=i||this.active[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return"number"==typeof e?this.headers.eq(e):t()},_setupEvents:function(e){var i={keydown:"_keydown"};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.headers.add(this.headers.next())),this._on(this.headers,i),this._on(this.headers.next(),{keydown:"_panelKeyDown"}),this._hoverable(this.headers),this._focusable(this.headers)},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s[0]===n[0],a=o&&i.collapsible,r=a?t():s.next(),l=n.next(),c={oldHeader:n,oldPanel:l,newHeader:a?t():s,newPanel:r};e.preventDefault(),o&&!i.collapsible||this._trigger("beforeActivate",e,c)===!1||(i.active=a?!1:this.headers.index(s),this.active=o?t():s,this._toggle(c),n.removeClass("ui-accordion-header-active ui-state-active"),i.icons&&n.children(".ui-accordion-header-icon").removeClass(i.icons.activeHeader).addClass(i.icons.header),o||(s.removeClass("ui-corner-all").addClass("ui-accordion-header-active ui-state-active ui-corner-top"),i.icons&&s.children(".ui-accordion-header-icon").removeClass(i.icons.header).addClass(i.icons.activeHeader),s.next().addClass("ui-accordion-content-active")))},_toggle:function(e){var i=e.newPanel,n=this.prevShow.length?this.prevShow:e.oldPanel;this.prevShow.add(this.prevHide).stop(!0,!0),this.prevShow=i,this.prevHide=n,this.options.animate?this._animate(i,n,e):(n.hide(),i.show(),this._toggleComplete(e)),n.attr({"aria-expanded":"false","aria-hidden":"true"}),n.prev().attr("aria-selected","false"),i.length&&n.length?n.prev().attr("tabIndex",-1):i.length&&this.headers.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),i.attr({"aria-expanded":"true","aria-hidden":"false"}).prev().attr({"aria-selected":"true",tabIndex:0})},_animate:function(t,e,s){var o,a,r,l=this,c=0,h=t.length&&(!e.length||t.index()<e.index()),u=this.options.animate||{},d=h&&u.down||u,p=function(){l._toggleComplete(s)};return"number"==typeof d&&(r=d),"string"==typeof d&&(a=d),a=a||d.easing||u.easing,r=r||d.duration||u.duration,e.length?t.length?(o=t.show().outerHeight(),e.animate(i,{duration:r,easing:a,step:function(t,e){e.now=Math.round(t)}}),void t.hide().animate(n,{duration:r,easing:a,complete:p,step:function(t,i){i.now=Math.round(t),"height"!==i.prop?c+=i.now:"content"!==l.options.heightStyle&&(i.now=Math.round(o-e.outerHeight()-c),c=0)}})):e.animate(i,r,a,p):t.animate(n,r,a,p)},_toggleComplete:function(t){var e=t.oldPanel;e.removeClass("ui-accordion-content-active").prev().removeClass("ui-corner-top").addClass("ui-corner-all"),e.length&&(e.parent()[0].className=e.parent()[0].className),this._trigger("activate",null,t)}})}(jQuery),function(t){var e=0;t.widget("ui.autocomplete",{version:"1.10.3",defaultElement:"<input>",options:{appendTo:null,autoFocus:!1,delay:300,minLength:1,position:{my:"left top",at:"left bottom",collision:"none"},source:null,change:null,close:null,focus:null,open:null,response:null,search:null,select:null},pending:0,_create:function(){var e,i,n,s=this.element[0].nodeName.toLowerCase(),o="textarea"===s,a="input"===s;this.isMultiLine=o?!0:a?!1:this.element.prop("isContentEditable"),this.valueMethod=this.element[o||a?"val":"text"],this.isNewMenu=!0,this.element.addClass("ui-autocomplete-input").attr("autocomplete","off"),this._on(this.element,{keydown:function(s){if(this.element.prop("readOnly"))return e=!0,n=!0,void(i=!0);e=!1,n=!1,i=!1;var o=t.ui.keyCode;switch(s.keyCode){case o.PAGE_UP:e=!0,this._move("previousPage",s);break;case o.PAGE_DOWN:e=!0,this._move("nextPage",s);break;case o.UP:e=!0,this._keyEvent("previous",s);break;case o.DOWN:e=!0,this._keyEvent("next",s);break;case o.ENTER:case o.NUMPAD_ENTER:this.menu.active&&(e=!0,s.preventDefault(),this.menu.select(s));break;case o.TAB:this.menu.active&&this.menu.select(s);break;case o.ESCAPE:this.menu.element.is(":visible")&&(this._value(this.term),this.close(s),s.preventDefault());break;default:i=!0,this._searchTimeout(s)}},keypress:function(n){if(e)return e=!1,void((!this.isMultiLine||this.menu.element.is(":visible"))&&n.preventDefault());if(!i){var s=t.ui.keyCode;switch(n.keyCode){case s.PAGE_UP:this._move("previousPage",n);break;case s.PAGE_DOWN:this._move("nextPage",n);break;case s.UP:this._keyEvent("previous",n);break;case s.DOWN:this._keyEvent("next",n)}}},input:function(t){return n?(n=!1,void t.preventDefault()):void this._searchTimeout(t)},focus:function(){this.selectedItem=null,this.previous=this._value()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(clearTimeout(this.searching),this.close(t),void this._change(t))}}),this._initSource(),this.menu=t("<ul>").addClass("ui-autocomplete ui-front").appendTo(this._appendTo()).menu({role:null}).hide().data("ui-menu"),this._on(this.menu.element,{mousedown:function(e){e.preventDefault(),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur});var i=this.menu.element[0];t(e.target).closest(".ui-menu-item").length||this._delay(function(){var e=this;this.document.one("mousedown",function(n){n.target===e.element[0]||n.target===i||t.contains(i,n.target)||e.close()})})},menufocus:function(e,i){if(this.isNewMenu&&(this.isNewMenu=!1,e.originalEvent&&/^mouse/.test(e.originalEvent.type)))return this.menu.blur(),void this.document.one("mousemove",function(){t(e.target).trigger(e.originalEvent)});var n=i.item.data("ui-autocomplete-item");!1!==this._trigger("focus",e,{item:n})?e.originalEvent&&/^key/.test(e.originalEvent.type)&&this._value(n.value):this.liveRegion.text(n.value)},menuselect:function(t,e){var i=e.item.data("ui-autocomplete-item"),n=this.previous;this.element[0]!==this.document[0].activeElement&&(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n,this.selectedItem=i})),!1!==this._trigger("select",t,{item:i})&&this._value(i.value),this.term=this._value(),this.close(t),this.selectedItem=i}}),this.liveRegion=t("<span>",{role:"status","aria-live":"polite"}).addClass("ui-helper-hidden-accessible").insertBefore(this.element),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_destroy:function(){clearTimeout(this.searching),this.element.removeClass("ui-autocomplete-input").removeAttr("autocomplete"),this.menu.element.remove(),this.liveRegion.remove()},_setOption:function(t,e){this._super(t,e),"source"===t&&this._initSource(),"appendTo"===t&&this.menu.element.appendTo(this._appendTo()),"disabled"===t&&e&&this.xhr&&this.xhr.abort()},_appendTo:function(){var e=this.options.appendTo;return e&&(e=e.jquery||e.nodeType?t(e):this.document.find(e).eq(0)),e||(e=this.element.closest(".ui-front")),e.length||(e=this.document[0].body),e},_initSource:function(){var e,i,n=this;t.isArray(this.options.source)?(e=this.options.source,this.source=function(i,n){n(t.ui.autocomplete.filter(e,i.term))}):"string"==typeof this.options.source?(i=this.options.source,this.source=function(e,s){n.xhr&&n.xhr.abort(),n.xhr=t.ajax({url:i,data:e,dataType:"json",success:function(t){s(t)},error:function(){s([])}})}):this.source=this.options.source},_searchTimeout:function(t){clearTimeout(this.searching),this.searching=this._delay(function(){this.term!==this._value()&&(this.selectedItem=null,this.search(null,t))},this.options.delay)},search:function(t,e){return t=null!=t?t:this._value(),this.term=this._value(),t.length<this.options.minLength?this.close(e):this._trigger("search",e)!==!1?this._search(t):void 0},_search:function(t){this.pending++,this.element.addClass("ui-autocomplete-loading"),this.cancelSearch=!1,this.source({term:t},this._response())},_response:function(){var t=this,i=++e;return function(n){i===e&&t.__response(n),t.pending--,t.pending||t.element.removeClass("ui-autocomplete-loading")}},__response:function(t){t&&(t=this._normalize(t)),this._trigger("response",null,{content:t}),!this.options.disabled&&t&&t.length&&!this.cancelSearch?(this._suggest(t),this._trigger("open")):this._close()},close:function(t){this.cancelSearch=!0,this._close(t)},_close:function(t){this.menu.element.is(":visible")&&(this.menu.element.hide(),this.menu.blur(),this.isNewMenu=!0,this._trigger("close",t))},_change:function(t){this.previous!==this._value()&&this._trigger("change",t,{item:this.selectedItem})},_normalize:function(e){return e.length&&e[0].label&&e[0].value?e:t.map(e,function(e){return"string"==typeof e?{label:e,value:e}:t.extend({label:e.label||e.value,value:e.value||e.label},e)})},_suggest:function(e){var i=this.menu.element.empty();this._renderMenu(i,e),this.isNewMenu=!0,this.menu.refresh(),i.show(),this._resizeMenu(),i.position(t.extend({of:this.element},this.options.position)),this.options.autoFocus&&this.menu.next()},_resizeMenu:function(){var t=this.menu.element;t.outerWidth(Math.max(t.width("").outerWidth()+1,this.element.outerWidth()))},_renderMenu:function(e,i){var n=this;t.each(i,function(t,i){n._renderItemData(e,i)})},_renderItemData:function(t,e){return this._renderItem(t,e).data("ui-autocomplete-item",e)},_renderItem:function(e,i){return t("<li>").append(t("<a>").text(i.label)).appendTo(e)},_move:function(t,e){return this.menu.element.is(":visible")?this.menu.isFirstItem()&&/^previous/.test(t)||this.menu.isLastItem()&&/^next/.test(t)?(this._value(this.term),void this.menu.blur()):void this.menu[t](e):void this.search(null,e)},widget:function(){return this.menu.element},_value:function(){return this.valueMethod.apply(this.element,arguments)},_keyEvent:function(t,e){(!this.isMultiLine||this.menu.element.is(":visible"))&&(this._move(t,e),e.preventDefault())}}),t.extend(t.ui.autocomplete,{escapeRegex:function(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")},filter:function(e,i){var n=RegExp(t.ui.autocomplete.escapeRegex(i),"i");return t.grep(e,function(t){return n.test(t.label||t.value||t)})}}),t.widget("ui.autocomplete",t.ui.autocomplete,{options:{messages:{noResults:"No search results.",results:function(t){return t+(t>1?" results are":" result is")+" available, use up and down arrow keys to navigate."}}},__response:function(t){var e;this._superApply(arguments),this.options.disabled||this.cancelSearch||(e=t&&t.length?this.options.messages.results(t.length):this.options.messages.noResults,this.liveRegion.text(e))}})}(jQuery),function(t){var e,i,n,s,o="ui-button ui-widget ui-state-default ui-corner-all",a="ui-state-hover ui-state-active ",r="ui-button-icons-only ui-button-icon-only ui-button-text-icons ui-button-text-icon-primary ui-button-text-icon-secondary ui-button-text-only",l=function(){var e=t(this);setTimeout(function(){e.find(":ui-button").button("refresh")},1)},c=function(e){var i=e.name,n=e.form,s=t([]);return i&&(i=i.replace(/'/g,"\\'"),s=n?t(n).find("[name='"+i+"']"):t("[name='"+i+"']",e.ownerDocument).filter(function(){return!this.form})),s};t.widget("ui.button",{version:"1.10.3",defaultElement:"<button>",options:{disabled:null,text:!0,label:null,icons:{primary:null,secondary:null}},_create:function(){this.element.closest("form").unbind("reset"+this.eventNamespace).bind("reset"+this.eventNamespace,l),"boolean"!=typeof this.options.disabled?this.options.disabled=!!this.element.prop("disabled"):this.element.prop("disabled",this.options.disabled),this._determineButtonType(),this.hasTitle=!!this.buttonElement.attr("title");var a=this,r=this.options,h="checkbox"===this.type||"radio"===this.type,u=h?"":"ui-state-active",d="ui-state-focus";null===r.label&&(r.label="input"===this.type?this.buttonElement.val():this.buttonElement.html()),this._hoverable(this.buttonElement),this.buttonElement.addClass(o).attr("role","button").bind("mouseenter"+this.eventNamespace,function(){r.disabled||this===e&&t(this).addClass("ui-state-active")}).bind("mouseleave"+this.eventNamespace,function(){r.disabled||t(this).removeClass(u)}).bind("click"+this.eventNamespace,function(t){r.disabled&&(t.preventDefault(),t.stopImmediatePropagation())}),this.element.bind("focus"+this.eventNamespace,function(){a.buttonElement.addClass(d)}).bind("blur"+this.eventNamespace,function(){a.buttonElement.removeClass(d)}),h&&(this.element.bind("change"+this.eventNamespace,function(){s||a.refresh()}),this.buttonElement.bind("mousedown"+this.eventNamespace,function(t){r.disabled||(s=!1,i=t.pageX,n=t.pageY)}).bind("mouseup"+this.eventNamespace,function(t){r.disabled||(i!==t.pageX||n!==t.pageY)&&(s=!0)})),"checkbox"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){return r.disabled||s?!1:void 0}):"radio"===this.type?this.buttonElement.bind("click"+this.eventNamespace,function(){if(r.disabled||s)return!1;t(this).addClass("ui-state-active"),a.buttonElement.attr("aria-pressed","true");var e=a.element[0];c(e).not(e).map(function(){return t(this).button("widget")[0]}).removeClass("ui-state-active").attr("aria-pressed","false")}):(this.buttonElement.bind("mousedown"+this.eventNamespace,function(){return r.disabled?!1:(t(this).addClass("ui-state-active"),e=this,void a.document.one("mouseup",function(){e=null}))}).bind("mouseup"+this.eventNamespace,function(){return r.disabled?!1:void t(this).removeClass("ui-state-active")}).bind("keydown"+this.eventNamespace,function(e){return r.disabled?!1:void((e.keyCode===t.ui.keyCode.SPACE||e.keyCode===t.ui.keyCode.ENTER)&&t(this).addClass("ui-state-active"))}).bind("keyup"+this.eventNamespace+" blur"+this.eventNamespace,function(){t(this).removeClass("ui-state-active")}),this.buttonElement.is("a")&&this.buttonElement.keyup(function(e){e.keyCode===t.ui.keyCode.SPACE&&t(this).click()})),this._setOption("disabled",r.disabled),this._resetButton()},_determineButtonType:function(){var t,e,i;this.type=this.element.is("[type=checkbox]")?"checkbox":this.element.is("[type=radio]")?"radio":this.element.is("input")?"input":"button","checkbox"===this.type||"radio"===this.type?(t=this.element.parents().last(),e="label[for='"+this.element.attr("id")+"']",this.buttonElement=t.find(e),this.buttonElement.length||(t=t.length?t.siblings():this.element.siblings(),this.buttonElement=t.filter(e),this.buttonElement.length||(this.buttonElement=t.find(e))),this.element.addClass("ui-helper-hidden-accessible"),i=this.element.is(":checked"),i&&this.buttonElement.addClass("ui-state-active"),this.buttonElement.prop("aria-pressed",i)):this.buttonElement=this.element},widget:function(){return this.buttonElement},_destroy:function(){this.element.removeClass("ui-helper-hidden-accessible"),this.buttonElement.removeClass(o+" "+a+" "+r).removeAttr("role").removeAttr("aria-pressed").html(this.buttonElement.find(".ui-button-text").html()),this.hasTitle||this.buttonElement.removeAttr("title")},_setOption:function(t,e){return this._super(t,e),"disabled"===t?void(e?this.element.prop("disabled",!0):this.element.prop("disabled",!1)):void this._resetButton()},refresh:function(){var e=this.element.is("input, button")?this.element.is(":disabled"):this.element.hasClass("ui-button-disabled");e!==this.options.disabled&&this._setOption("disabled",e),"radio"===this.type?c(this.element[0]).each(function(){t(this).is(":checked")?t(this).button("widget").addClass("ui-state-active").attr("aria-pressed","true"):t(this).button("widget").removeClass("ui-state-active").attr("aria-pressed","false")}):"checkbox"===this.type&&(this.element.is(":checked")?this.buttonElement.addClass("ui-state-active").attr("aria-pressed","true"):this.buttonElement.removeClass("ui-state-active").attr("aria-pressed","false"))},_resetButton:function(){if("input"===this.type)return void(this.options.label&&this.element.val(this.options.label));var e=this.buttonElement.removeClass(r),i=t("<span></span>",this.document[0]).addClass("ui-button-text").html(this.options.label).appendTo(e.empty()).text(),n=this.options.icons,s=n.primary&&n.secondary,o=[];n.primary||n.secondary?(this.options.text&&o.push("ui-button-text-icon"+(s?"s":n.primary?"-primary":"-secondary")),n.primary&&e.prepend("<span class='ui-button-icon-primary ui-icon "+n.primary+"'></span>"),n.secondary&&e.append("<span class='ui-button-icon-secondary ui-icon "+n.secondary+"'></span>"),this.options.text||(o.push(s?"ui-button-icons-only":"ui-button-icon-only"),this.hasTitle||e.attr("title",t.trim(i)))):o.push("ui-button-text-only"),e.addClass(o.join(" "))}}),t.widget("ui.buttonset",{version:"1.10.3",options:{items:"button, input[type=button], input[type=submit], input[type=reset], input[type=checkbox], input[type=radio], a, :data(ui-button)"},_create:function(){this.element.addClass("ui-buttonset")},_init:function(){this.refresh()},_setOption:function(t,e){"disabled"===t&&this.buttons.button("option",t,e),this._super(t,e)},refresh:function(){var e="rtl"===this.element.css("direction");this.buttons=this.element.find(this.options.items).filter(":ui-button").button("refresh").end().not(":ui-button").button().end().map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-all ui-corner-left ui-corner-right").filter(":first").addClass(e?"ui-corner-right":"ui-corner-left").end().filter(":last").addClass(e?"ui-corner-left":"ui-corner-right").end().end()},_destroy:function(){this.element.removeClass("ui-buttonset"),this.buttons.map(function(){return t(this).button("widget")[0]}).removeClass("ui-corner-left ui-corner-right").end().button("destroy")}})}(jQuery),function(t,e){function i(){this._curInst=null,this._keyEvent=!1,this._disabledInputs=[],this._datepickerShowing=!1,this._inDialog=!1,this._mainDivId="ui-datepicker-div",this._inlineClass="ui-datepicker-inline",this._appendClass="ui-datepicker-append",this._triggerClass="ui-datepicker-trigger",this._dialogClass="ui-datepicker-dialog",this._disableClass="ui-datepicker-disabled",this._unselectableClass="ui-datepicker-unselectable",this._currentClass="ui-datepicker-current-day",this._dayOverClass="ui-datepicker-days-cell-over",this.regional=[],this.regional[""]={closeText:"Done",prevText:"Prev",nextText:"Next",currentText:"Today",monthNames:["January","February","March","April","May","June","July","August","September","October","November","December"],monthNamesShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dayNames:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],dayNamesShort:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],dayNamesMin:["Su","Mo","Tu","We","Th","Fr","Sa"],weekHeader:"Wk",dateFormat:"mm/dd/yy",firstDay:0,isRTL:!1,showMonthAfterYear:!1,yearSuffix:""},this._defaults={showOn:"focus",showAnim:"fadeIn",showOptions:{},defaultDate:null,appendText:"",buttonText:"...",buttonImage:"",buttonImageOnly:!1,hideIfNoPrevNext:!1,navigationAsDateFormat:!1,gotoCurrent:!1,changeMonth:!1,changeYear:!1,yearRange:"c-10:c+10",showOtherMonths:!1,selectOtherMonths:!1,showWeek:!1,calculateWeek:this.iso8601Week,shortYearCutoff:"+10",minDate:null,maxDate:null,duration:"fast",beforeShowDay:null,beforeShow:null,onSelect:null,onChangeMonthYear:null,onClose:null,numberOfMonths:1,showCurrentAtPos:0,stepMonths:1,stepBigMonths:12,altField:"",altFormat:"",constrainInput:!0,showButtonPanel:!1,autoSize:!1,disabled:!1},t.extend(this._defaults,this.regional[""]),this.dpDiv=n(t("<div id='"+this._mainDivId+"' class='ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>"))}function n(e){var i="button, .ui-datepicker-prev, .ui-datepicker-next, .ui-datepicker-calendar td a";return e.delegate(i,"mouseout",function(){t(this).removeClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).removeClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).removeClass("ui-datepicker-next-hover")}).delegate(i,"mouseover",function(){t.datepicker._isDisabledDatepicker(o.inline?e.parent()[0]:o.input[0])||(t(this).parents(".ui-datepicker-calendar").find("a").removeClass("ui-state-hover"),t(this).addClass("ui-state-hover"),-1!==this.className.indexOf("ui-datepicker-prev")&&t(this).addClass("ui-datepicker-prev-hover"),-1!==this.className.indexOf("ui-datepicker-next")&&t(this).addClass("ui-datepicker-next-hover"))})}function s(e,i){t.extend(e,i);for(var n in i)null==i[n]&&(e[n]=i[n]);return e}t.extend(t.ui,{datepicker:{version:"1.10.3"}});var o,a="datepicker";t.extend(i.prototype,{markerClassName:"hasDatepicker",maxRows:4,_widgetDatepicker:function(){return this.dpDiv},setDefaults:function(t){return s(this._defaults,t||{}),this},_attachDatepicker:function(e,i){var n,s,o;n=e.nodeName.toLowerCase(),s="div"===n||"span"===n,e.id||(this.uuid+=1,e.id="dp"+this.uuid),o=this._newInst(t(e),s),o.settings=t.extend({},i||{}),"input"===n?this._connectDatepicker(e,o):s&&this._inlineDatepicker(e,o)},_newInst:function(e,i){var s=e[0].id.replace(/([^A-Za-z0-9_\-])/g,"\\\\$1");return{id:s,input:e,selectedDay:0,selectedMonth:0,selectedYear:0,drawMonth:0,drawYear:0,inline:i,dpDiv:i?n(t("<div class='"+this._inlineClass+" ui-datepicker ui-widget ui-widget-content ui-helper-clearfix ui-corner-all'></div>")):this.dpDiv}},_connectDatepicker:function(e,i){var n=t(e);i.append=t([]),i.trigger=t([]),n.hasClass(this.markerClassName)||(this._attachments(n,i),n.addClass(this.markerClassName).keydown(this._doKeyDown).keypress(this._doKeyPress).keyup(this._doKeyUp),this._autoSize(i),t.data(e,a,i),i.settings.disabled&&this._disableDatepicker(e))},_attachments:function(e,i){var n,s,o,a=this._get(i,"appendText"),r=this._get(i,"isRTL");i.append&&i.append.remove(),a&&(i.append=t("<span class='"+this._appendClass+"'>"+a+"</span>"),e[r?"before":"after"](i.append)),e.unbind("focus",this._showDatepicker),i.trigger&&i.trigger.remove(),n=this._get(i,"showOn"),("focus"===n||"both"===n)&&e.focus(this._showDatepicker),("button"===n||"both"===n)&&(s=this._get(i,"buttonText"),o=this._get(i,"buttonImage"),i.trigger=t(this._get(i,"buttonImageOnly")?t("<img/>").addClass(this._triggerClass).attr({src:o,alt:s,title:s}):t("<button type='button'></button>").addClass(this._triggerClass).html(o?t("<img/>").attr({src:o,alt:s,title:s}):s)),e[r?"before":"after"](i.trigger),i.trigger.click(function(){return t.datepicker._datepickerShowing&&t.datepicker._lastInput===e[0]?t.datepicker._hideDatepicker():t.datepicker._datepickerShowing&&t.datepicker._lastInput!==e[0]?(t.datepicker._hideDatepicker(),t.datepicker._showDatepicker(e[0])):t.datepicker._showDatepicker(e[0]),!1}))},_autoSize:function(t){if(this._get(t,"autoSize")&&!t.inline){var e,i,n,s,o=new Date(2009,11,20),a=this._get(t,"dateFormat");a.match(/[DM]/)&&(e=function(t){for(i=0,n=0,s=0;t.length>s;s++)t[s].length>i&&(i=t[s].length,n=s);return n},o.setMonth(e(this._get(t,a.match(/MM/)?"monthNames":"monthNamesShort"))),o.setDate(e(this._get(t,a.match(/DD/)?"dayNames":"dayNamesShort"))+20-o.getDay())),t.input.attr("size",this._formatDate(t,o).length)}},_inlineDatepicker:function(e,i){var n=t(e);n.hasClass(this.markerClassName)||(n.addClass(this.markerClassName).append(i.dpDiv),t.data(e,a,i),this._setDate(i,this._getDefaultDate(i),!0),this._updateDatepicker(i),this._updateAlternate(i),i.settings.disabled&&this._disableDatepicker(e),i.dpDiv.css("display","block"))},_dialogDatepicker:function(e,i,n,o,r){var l,c,h,u,d,p=this._dialogInst;return p||(this.uuid+=1,l="dp"+this.uuid,this._dialogInput=t("<input type='text' id='"+l+"' style='position: absolute; top: -100px; width: 0px;'/>"),this._dialogInput.keydown(this._doKeyDown),t("body").append(this._dialogInput),p=this._dialogInst=this._newInst(this._dialogInput,!1),p.settings={},t.data(this._dialogInput[0],a,p)),s(p.settings,o||{}),i=i&&i.constructor===Date?this._formatDate(p,i):i,this._dialogInput.val(i),this._pos=r?r.length?r:[r.pageX,r.pageY]:null,this._pos||(c=document.documentElement.clientWidth,h=document.documentElement.clientHeight,u=document.documentElement.scrollLeft||document.body.scrollLeft,d=document.documentElement.scrollTop||document.body.scrollTop,this._pos=[c/2-100+u,h/2-150+d]),this._dialogInput.css("left",this._pos[0]+20+"px").css("top",this._pos[1]+"px"),p.settings.onSelect=n,this._inDialog=!0,this.dpDiv.addClass(this._dialogClass),this._showDatepicker(this._dialogInput[0]),t.blockUI&&t.blockUI(this.dpDiv),t.data(this._dialogInput[0],a,p),this},_destroyDatepicker:function(e){var i,n=t(e),s=t.data(e,a);n.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),t.removeData(e,a),"input"===i?(s.append.remove(),s.trigger.remove(),n.removeClass(this.markerClassName).unbind("focus",this._showDatepicker).unbind("keydown",this._doKeyDown).unbind("keypress",this._doKeyPress).unbind("keyup",this._doKeyUp)):("div"===i||"span"===i)&&n.removeClass(this.markerClassName).empty())},_enableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!1,o.trigger.filter("button").each(function(){this.disabled=!1}).end().filter("img").css({opacity:"1.0",cursor:""})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().removeClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!1)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}))},_disableDatepicker:function(e){var i,n,s=t(e),o=t.data(e,a);s.hasClass(this.markerClassName)&&(i=e.nodeName.toLowerCase(),"input"===i?(e.disabled=!0,o.trigger.filter("button").each(function(){this.disabled=!0}).end().filter("img").css({opacity:"0.5",cursor:"default"})):("div"===i||"span"===i)&&(n=s.children("."+this._inlineClass),n.children().addClass("ui-state-disabled"),n.find("select.ui-datepicker-month, select.ui-datepicker-year").prop("disabled",!0)),this._disabledInputs=t.map(this._disabledInputs,function(t){return t===e?null:t}),this._disabledInputs[this._disabledInputs.length]=e)},_isDisabledDatepicker:function(t){if(!t)return!1;for(var e=0;this._disabledInputs.length>e;e++)if(this._disabledInputs[e]===t)return!0;return!1},_getInst:function(e){try{return t.data(e,a)}catch(i){throw"Missing instance data for this datepicker"}},_optionDatepicker:function(i,n,o){var a,r,l,c,h=this._getInst(i);return 2===arguments.length&&"string"==typeof n?"defaults"===n?t.extend({},t.datepicker._defaults):h?"all"===n?t.extend({},h.settings):this._get(h,n):null:(a=n||{},"string"==typeof n&&(a={},a[n]=o),h&&(this._curInst===h&&this._hideDatepicker(),r=this._getDateDatepicker(i,!0),l=this._getMinMaxDate(h,"min"),c=this._getMinMaxDate(h,"max"),s(h.settings,a),null!==l&&a.dateFormat!==e&&a.minDate===e&&(h.settings.minDate=this._formatDate(h,l)),null!==c&&a.dateFormat!==e&&a.maxDate===e&&(h.settings.maxDate=this._formatDate(h,c)),"disabled"in a&&(a.disabled?this._disableDatepicker(i):this._enableDatepicker(i)),this._attachments(t(i),h),this._autoSize(h),this._setDate(h,r),this._updateAlternate(h),this._updateDatepicker(h)),e)},_changeDatepicker:function(t,e,i){this._optionDatepicker(t,e,i)},_refreshDatepicker:function(t){var e=this._getInst(t);e&&this._updateDatepicker(e)},_setDateDatepicker:function(t,e){var i=this._getInst(t);i&&(this._setDate(i,e),this._updateDatepicker(i),this._updateAlternate(i))},_getDateDatepicker:function(t,e){var i=this._getInst(t);return i&&!i.inline&&this._setDateFromField(i,e),i?this._getDate(i):null},_doKeyDown:function(e){var i,n,s,o=t.datepicker._getInst(e.target),a=!0,r=o.dpDiv.is(".ui-datepicker-rtl");if(o._keyEvent=!0,t.datepicker._datepickerShowing)switch(e.keyCode){case 9:t.datepicker._hideDatepicker(),a=!1;break;case 13:return s=t("td."+t.datepicker._dayOverClass+":not(."+t.datepicker._currentClass+")",o.dpDiv),s[0]&&t.datepicker._selectDay(e.target,o.selectedMonth,o.selectedYear,s[0]),i=t.datepicker._get(o,"onSelect"),i?(n=t.datepicker._formatDate(o),i.apply(o.input?o.input[0]:null,[n,o])):t.datepicker._hideDatepicker(),!1;case 27:t.datepicker._hideDatepicker();break;case 33:t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");break;case 34:t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 35:(e.ctrlKey||e.metaKey)&&t.datepicker._clearDate(e.target),a=e.ctrlKey||e.metaKey;break;case 36:(e.ctrlKey||e.metaKey)&&t.datepicker._gotoToday(e.target),a=e.ctrlKey||e.metaKey;break;case 37:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?1:-1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?-t.datepicker._get(o,"stepBigMonths"):-t.datepicker._get(o,"stepMonths"),"M");
break;case 38:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,-7,"D"),a=e.ctrlKey||e.metaKey;break;case 39:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,r?-1:1,"D"),a=e.ctrlKey||e.metaKey,e.originalEvent.altKey&&t.datepicker._adjustDate(e.target,e.ctrlKey?+t.datepicker._get(o,"stepBigMonths"):+t.datepicker._get(o,"stepMonths"),"M");break;case 40:(e.ctrlKey||e.metaKey)&&t.datepicker._adjustDate(e.target,7,"D"),a=e.ctrlKey||e.metaKey;break;default:a=!1}else 36===e.keyCode&&e.ctrlKey?t.datepicker._showDatepicker(this):a=!1;a&&(e.preventDefault(),e.stopPropagation())},_doKeyPress:function(i){var n,s,o=t.datepicker._getInst(i.target);return t.datepicker._get(o,"constrainInput")?(n=t.datepicker._possibleChars(t.datepicker._get(o,"dateFormat")),s=String.fromCharCode(null==i.charCode?i.keyCode:i.charCode),i.ctrlKey||i.metaKey||" ">s||!n||n.indexOf(s)>-1):e},_doKeyUp:function(e){var i,n=t.datepicker._getInst(e.target);if(n.input.val()!==n.lastVal)try{i=t.datepicker.parseDate(t.datepicker._get(n,"dateFormat"),n.input?n.input.val():null,t.datepicker._getFormatConfig(n)),i&&(t.datepicker._setDateFromField(n),t.datepicker._updateAlternate(n),t.datepicker._updateDatepicker(n))}catch(s){}return!0},_showDatepicker:function(e){if(e=e.target||e,"input"!==e.nodeName.toLowerCase()&&(e=t("input",e.parentNode)[0]),!t.datepicker._isDisabledDatepicker(e)&&t.datepicker._lastInput!==e){var i,n,o,a,r,l,c;i=t.datepicker._getInst(e),t.datepicker._curInst&&t.datepicker._curInst!==i&&(t.datepicker._curInst.dpDiv.stop(!0,!0),i&&t.datepicker._datepickerShowing&&t.datepicker._hideDatepicker(t.datepicker._curInst.input[0])),n=t.datepicker._get(i,"beforeShow"),o=n?n.apply(e,[e,i]):{},o!==!1&&(s(i.settings,o),i.lastVal=null,t.datepicker._lastInput=e,t.datepicker._setDateFromField(i),t.datepicker._inDialog&&(e.value=""),t.datepicker._pos||(t.datepicker._pos=t.datepicker._findPos(e),t.datepicker._pos[1]+=e.offsetHeight),a=!1,t(e).parents().each(function(){return a|="fixed"===t(this).css("position"),!a}),r={left:t.datepicker._pos[0],top:t.datepicker._pos[1]},t.datepicker._pos=null,i.dpDiv.empty(),i.dpDiv.css({position:"absolute",display:"block",top:"-1000px"}),t.datepicker._updateDatepicker(i),r=t.datepicker._checkOffset(i,r,a),i.dpDiv.css({position:t.datepicker._inDialog&&t.blockUI?"static":a?"fixed":"absolute",display:"none",left:r.left+"px",top:r.top+"px"}),i.inline||(l=t.datepicker._get(i,"showAnim"),c=t.datepicker._get(i,"duration"),i.dpDiv.zIndex(t(e).zIndex()+1),t.datepicker._datepickerShowing=!0,t.effects&&t.effects.effect[l]?i.dpDiv.show(l,t.datepicker._get(i,"showOptions"),c):i.dpDiv[l||"show"](l?c:null),t.datepicker._shouldFocusInput(i)&&i.input.focus(),t.datepicker._curInst=i))}},_updateDatepicker:function(e){this.maxRows=4,o=e,e.dpDiv.empty().append(this._generateHTML(e)),this._attachHandlers(e),e.dpDiv.find("."+this._dayOverClass+" a").mouseover();var i,n=this._getNumberOfMonths(e),s=n[1],a=17;e.dpDiv.removeClass("ui-datepicker-multi-2 ui-datepicker-multi-3 ui-datepicker-multi-4").width(""),s>1&&e.dpDiv.addClass("ui-datepicker-multi-"+s).css("width",a*s+"em"),e.dpDiv[(1!==n[0]||1!==n[1]?"add":"remove")+"Class"]("ui-datepicker-multi"),e.dpDiv[(this._get(e,"isRTL")?"add":"remove")+"Class"]("ui-datepicker-rtl"),e===t.datepicker._curInst&&t.datepicker._datepickerShowing&&t.datepicker._shouldFocusInput(e)&&e.input.focus(),e.yearshtml&&(i=e.yearshtml,setTimeout(function(){i===e.yearshtml&&e.yearshtml&&e.dpDiv.find("select.ui-datepicker-year:first").replaceWith(e.yearshtml),i=e.yearshtml=null},0))},_shouldFocusInput:function(t){return t.input&&t.input.is(":visible")&&!t.input.is(":disabled")&&!t.input.is(":focus")},_checkOffset:function(e,i,n){var s=e.dpDiv.outerWidth(),o=e.dpDiv.outerHeight(),a=e.input?e.input.outerWidth():0,r=e.input?e.input.outerHeight():0,l=document.documentElement.clientWidth+(n?0:t(document).scrollLeft()),c=document.documentElement.clientHeight+(n?0:t(document).scrollTop());return i.left-=this._get(e,"isRTL")?s-a:0,i.left-=n&&i.left===e.input.offset().left?t(document).scrollLeft():0,i.top-=n&&i.top===e.input.offset().top+r?t(document).scrollTop():0,i.left-=Math.min(i.left,i.left+s>l&&l>s?Math.abs(i.left+s-l):0),i.top-=Math.min(i.top,i.top+o>c&&c>o?Math.abs(o+r):0),i},_findPos:function(e){for(var i,n=this._getInst(e),s=this._get(n,"isRTL");e&&("hidden"===e.type||1!==e.nodeType||t.expr.filters.hidden(e));)e=e[s?"previousSibling":"nextSibling"];return i=t(e).offset(),[i.left,i.top]},_hideDatepicker:function(e){var i,n,s,o,r=this._curInst;!r||e&&r!==t.data(e,a)||this._datepickerShowing&&(i=this._get(r,"showAnim"),n=this._get(r,"duration"),s=function(){t.datepicker._tidyDialog(r)},t.effects&&(t.effects.effect[i]||t.effects[i])?r.dpDiv.hide(i,t.datepicker._get(r,"showOptions"),n,s):r.dpDiv["slideDown"===i?"slideUp":"fadeIn"===i?"fadeOut":"hide"](i?n:null,s),i||s(),this._datepickerShowing=!1,o=this._get(r,"onClose"),o&&o.apply(r.input?r.input[0]:null,[r.input?r.input.val():"",r]),this._lastInput=null,this._inDialog&&(this._dialogInput.css({position:"absolute",left:"0",top:"-100px"}),t.blockUI&&(t.unblockUI(),t("body").append(this.dpDiv))),this._inDialog=!1)},_tidyDialog:function(t){t.dpDiv.removeClass(this._dialogClass).unbind(".ui-datepicker-calendar")},_checkExternalClick:function(e){if(t.datepicker._curInst){var i=t(e.target),n=t.datepicker._getInst(i[0]);(i[0].id!==t.datepicker._mainDivId&&0===i.parents("#"+t.datepicker._mainDivId).length&&!i.hasClass(t.datepicker.markerClassName)&&!i.closest("."+t.datepicker._triggerClass).length&&t.datepicker._datepickerShowing&&(!t.datepicker._inDialog||!t.blockUI)||i.hasClass(t.datepicker.markerClassName)&&t.datepicker._curInst!==n)&&t.datepicker._hideDatepicker()}},_adjustDate:function(e,i,n){var s=t(e),o=this._getInst(s[0]);this._isDisabledDatepicker(s[0])||(this._adjustInstDate(o,i+("M"===n?this._get(o,"showCurrentAtPos"):0),n),this._updateDatepicker(o))},_gotoToday:function(e){var i,n=t(e),s=this._getInst(n[0]);this._get(s,"gotoCurrent")&&s.currentDay?(s.selectedDay=s.currentDay,s.drawMonth=s.selectedMonth=s.currentMonth,s.drawYear=s.selectedYear=s.currentYear):(i=new Date,s.selectedDay=i.getDate(),s.drawMonth=s.selectedMonth=i.getMonth(),s.drawYear=s.selectedYear=i.getFullYear()),this._notifyChange(s),this._adjustDate(n)},_selectMonthYear:function(e,i,n){var s=t(e),o=this._getInst(s[0]);o["selected"+("M"===n?"Month":"Year")]=o["draw"+("M"===n?"Month":"Year")]=parseInt(i.options[i.selectedIndex].value,10),this._notifyChange(o),this._adjustDate(s)},_selectDay:function(e,i,n,s){var o,a=t(e);t(s).hasClass(this._unselectableClass)||this._isDisabledDatepicker(a[0])||(o=this._getInst(a[0]),o.selectedDay=o.currentDay=t("a",s).html(),o.selectedMonth=o.currentMonth=i,o.selectedYear=o.currentYear=n,this._selectDate(e,this._formatDate(o,o.currentDay,o.currentMonth,o.currentYear)))},_clearDate:function(e){var i=t(e);this._selectDate(i,"")},_selectDate:function(e,i){var n,s=t(e),o=this._getInst(s[0]);i=null!=i?i:this._formatDate(o),o.input&&o.input.val(i),this._updateAlternate(o),n=this._get(o,"onSelect"),n?n.apply(o.input?o.input[0]:null,[i,o]):o.input&&o.input.trigger("change"),o.inline?this._updateDatepicker(o):(this._hideDatepicker(),this._lastInput=o.input[0],"object"!=typeof o.input[0]&&o.input.focus(),this._lastInput=null)},_updateAlternate:function(e){var i,n,s,o=this._get(e,"altField");o&&(i=this._get(e,"altFormat")||this._get(e,"dateFormat"),n=this._getDate(e),s=this.formatDate(i,n,this._getFormatConfig(e)),t(o).each(function(){t(this).val(s)}))},noWeekends:function(t){var e=t.getDay();return[e>0&&6>e,""]},iso8601Week:function(t){var e,i=new Date(t.getTime());return i.setDate(i.getDate()+4-(i.getDay()||7)),e=i.getTime(),i.setMonth(0),i.setDate(1),Math.floor(Math.round((e-i)/864e5)/7)+1},parseDate:function(i,n,s){if(null==i||null==n)throw"Invalid arguments";if(n="object"==typeof n?""+n:n+"",""===n)return null;var o,a,r,l,c=0,h=(s?s.shortYearCutoff:null)||this._defaults.shortYearCutoff,u="string"!=typeof h?h:(new Date).getFullYear()%100+parseInt(h,10),d=(s?s.dayNamesShort:null)||this._defaults.dayNamesShort,p=(s?s.dayNames:null)||this._defaults.dayNames,f=(s?s.monthNamesShort:null)||this._defaults.monthNamesShort,m=(s?s.monthNames:null)||this._defaults.monthNames,g=-1,v=-1,y=-1,b=-1,_=!1,w=function(t){var e=i.length>o+1&&i.charAt(o+1)===t;return e&&o++,e},x=function(t){var e=w(t),i="@"===t?14:"!"===t?20:"y"===t&&e?4:"o"===t?3:2,s=RegExp("^\\d{1,"+i+"}"),o=n.substring(c).match(s);if(!o)throw"Missing number at position "+c;return c+=o[0].length,parseInt(o[0],10)},k=function(i,s,o){var a=-1,r=t.map(w(i)?o:s,function(t,e){return[[e,t]]}).sort(function(t,e){return-(t[1].length-e[1].length)});if(t.each(r,function(t,i){var s=i[1];return n.substr(c,s.length).toLowerCase()===s.toLowerCase()?(a=i[0],c+=s.length,!1):e}),-1!==a)return a+1;throw"Unknown name at position "+c},C=function(){if(n.charAt(c)!==i.charAt(o))throw"Unexpected literal at position "+c;c++};for(o=0;i.length>o;o++)if(_)"'"!==i.charAt(o)||w("'")?C():_=!1;else switch(i.charAt(o)){case"d":y=x("d");break;case"D":k("D",d,p);break;case"o":b=x("o");break;case"m":v=x("m");break;case"M":v=k("M",f,m);break;case"y":g=x("y");break;case"@":l=new Date(x("@")),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"!":l=new Date((x("!")-this._ticksTo1970)/1e4),g=l.getFullYear(),v=l.getMonth()+1,y=l.getDate();break;case"'":w("'")?C():_=!0;break;default:C()}if(n.length>c&&(r=n.substr(c),!/^\s+/.test(r)))throw"Extra/unparsed characters found in date: "+r;if(-1===g?g=(new Date).getFullYear():100>g&&(g+=(new Date).getFullYear()-(new Date).getFullYear()%100+(u>=g?0:-100)),b>-1)for(v=1,y=b;a=this._getDaysInMonth(g,v-1),!(a>=y);)v++,y-=a;if(l=this._daylightSavingAdjust(new Date(g,v-1,y)),l.getFullYear()!==g||l.getMonth()+1!==v||l.getDate()!==y)throw"Invalid date";return l},ATOM:"yy-mm-dd",COOKIE:"D, dd M yy",ISO_8601:"yy-mm-dd",RFC_822:"D, d M y",RFC_850:"DD, dd-M-y",RFC_1036:"D, d M y",RFC_1123:"D, d M yy",RFC_2822:"D, d M yy",RSS:"D, d M y",TICKS:"!",TIMESTAMP:"@",W3C:"yy-mm-dd",_ticksTo1970:864e9*(718685+Math.floor(492.5)-Math.floor(19.7)+Math.floor(4.925)),formatDate:function(t,e,i){if(!e)return"";var n,s=(i?i.dayNamesShort:null)||this._defaults.dayNamesShort,o=(i?i.dayNames:null)||this._defaults.dayNames,a=(i?i.monthNamesShort:null)||this._defaults.monthNamesShort,r=(i?i.monthNames:null)||this._defaults.monthNames,l=function(e){var i=t.length>n+1&&t.charAt(n+1)===e;return i&&n++,i},c=function(t,e,i){var n=""+e;if(l(t))for(;i>n.length;)n="0"+n;return n},h=function(t,e,i,n){return l(t)?n[e]:i[e]},u="",d=!1;if(e)for(n=0;t.length>n;n++)if(d)"'"!==t.charAt(n)||l("'")?u+=t.charAt(n):d=!1;else switch(t.charAt(n)){case"d":u+=c("d",e.getDate(),2);break;case"D":u+=h("D",e.getDay(),s,o);break;case"o":u+=c("o",Math.round((new Date(e.getFullYear(),e.getMonth(),e.getDate()).getTime()-new Date(e.getFullYear(),0,0).getTime())/864e5),3);break;case"m":u+=c("m",e.getMonth()+1,2);break;case"M":u+=h("M",e.getMonth(),a,r);break;case"y":u+=l("y")?e.getFullYear():(10>e.getYear()%100?"0":"")+e.getYear()%100;break;case"@":u+=e.getTime();break;case"!":u+=1e4*e.getTime()+this._ticksTo1970;break;case"'":l("'")?u+="'":d=!0;break;default:u+=t.charAt(n)}return u},_possibleChars:function(t){var e,i="",n=!1,s=function(i){var n=t.length>e+1&&t.charAt(e+1)===i;return n&&e++,n};for(e=0;t.length>e;e++)if(n)"'"!==t.charAt(e)||s("'")?i+=t.charAt(e):n=!1;else switch(t.charAt(e)){case"d":case"m":case"y":case"@":i+="0123456789";break;case"D":case"M":return null;case"'":s("'")?i+="'":n=!0;break;default:i+=t.charAt(e)}return i},_get:function(t,i){return t.settings[i]!==e?t.settings[i]:this._defaults[i]},_setDateFromField:function(t,e){if(t.input.val()!==t.lastVal){var i=this._get(t,"dateFormat"),n=t.lastVal=t.input?t.input.val():null,s=this._getDefaultDate(t),o=s,a=this._getFormatConfig(t);try{o=this.parseDate(i,n,a)||s}catch(r){n=e?"":n}t.selectedDay=o.getDate(),t.drawMonth=t.selectedMonth=o.getMonth(),t.drawYear=t.selectedYear=o.getFullYear(),t.currentDay=n?o.getDate():0,t.currentMonth=n?o.getMonth():0,t.currentYear=n?o.getFullYear():0,this._adjustInstDate(t)}},_getDefaultDate:function(t){return this._restrictMinMax(t,this._determineDate(t,this._get(t,"defaultDate"),new Date))},_determineDate:function(e,i,n){var s=function(t){var e=new Date;return e.setDate(e.getDate()+t),e},o=function(i){try{return t.datepicker.parseDate(t.datepicker._get(e,"dateFormat"),i,t.datepicker._getFormatConfig(e))}catch(n){}for(var s=(i.toLowerCase().match(/^c/)?t.datepicker._getDate(e):null)||new Date,o=s.getFullYear(),a=s.getMonth(),r=s.getDate(),l=/([+\-]?[0-9]+)\s*(d|D|w|W|m|M|y|Y)?/g,c=l.exec(i);c;){switch(c[2]||"d"){case"d":case"D":r+=parseInt(c[1],10);break;case"w":case"W":r+=7*parseInt(c[1],10);break;case"m":case"M":a+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a));break;case"y":case"Y":o+=parseInt(c[1],10),r=Math.min(r,t.datepicker._getDaysInMonth(o,a))}c=l.exec(i)}return new Date(o,a,r)},a=null==i||""===i?n:"string"==typeof i?o(i):"number"==typeof i?isNaN(i)?n:s(i):new Date(i.getTime());return a=a&&"Invalid Date"==""+a?n:a,a&&(a.setHours(0),a.setMinutes(0),a.setSeconds(0),a.setMilliseconds(0)),this._daylightSavingAdjust(a)},_daylightSavingAdjust:function(t){return t?(t.setHours(t.getHours()>12?t.getHours()+2:0),t):null},_setDate:function(t,e,i){var n=!e,s=t.selectedMonth,o=t.selectedYear,a=this._restrictMinMax(t,this._determineDate(t,e,new Date));t.selectedDay=t.currentDay=a.getDate(),t.drawMonth=t.selectedMonth=t.currentMonth=a.getMonth(),t.drawYear=t.selectedYear=t.currentYear=a.getFullYear(),s===t.selectedMonth&&o===t.selectedYear||i||this._notifyChange(t),this._adjustInstDate(t),t.input&&t.input.val(n?"":this._formatDate(t))},_getDate:function(t){var e=!t.currentYear||t.input&&""===t.input.val()?null:this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return e},_attachHandlers:function(e){var i=this._get(e,"stepMonths"),n="#"+e.id.replace(/\\\\/g,"\\");e.dpDiv.find("[data-handler]").map(function(){var e={prev:function(){t.datepicker._adjustDate(n,-i,"M")},next:function(){t.datepicker._adjustDate(n,+i,"M")},hide:function(){t.datepicker._hideDatepicker()},today:function(){t.datepicker._gotoToday(n)},selectDay:function(){return t.datepicker._selectDay(n,+this.getAttribute("data-month"),+this.getAttribute("data-year"),this),!1},selectMonth:function(){return t.datepicker._selectMonthYear(n,this,"M"),!1},selectYear:function(){return t.datepicker._selectMonthYear(n,this,"Y"),!1}};t(this).bind(this.getAttribute("data-event"),e[this.getAttribute("data-handler")])})},_generateHTML:function(t){var e,i,n,s,o,a,r,l,c,h,u,d,p,f,m,g,v,y,b,_,w,x,k,C,T,S,D,M,E,$,P,A,N,H,I,R,O,L,z,F=new Date,W=this._daylightSavingAdjust(new Date(F.getFullYear(),F.getMonth(),F.getDate())),j=this._get(t,"isRTL"),B=this._get(t,"showButtonPanel"),Y=this._get(t,"hideIfNoPrevNext"),q=this._get(t,"navigationAsDateFormat"),V=this._getNumberOfMonths(t),U=this._get(t,"showCurrentAtPos"),X=this._get(t,"stepMonths"),G=1!==V[0]||1!==V[1],K=this._daylightSavingAdjust(t.currentDay?new Date(t.currentYear,t.currentMonth,t.currentDay):new Date(9999,9,9)),Q=this._getMinMaxDate(t,"min"),J=this._getMinMaxDate(t,"max"),Z=t.drawMonth-U,tt=t.drawYear;if(0>Z&&(Z+=12,tt--),J)for(e=this._daylightSavingAdjust(new Date(J.getFullYear(),J.getMonth()-V[0]*V[1]+1,J.getDate())),e=Q&&Q>e?Q:e;this._daylightSavingAdjust(new Date(tt,Z,1))>e;)Z--,0>Z&&(Z=11,tt--);for(t.drawMonth=Z,t.drawYear=tt,i=this._get(t,"prevText"),i=q?this.formatDate(i,this._daylightSavingAdjust(new Date(tt,Z-X,1)),this._getFormatConfig(t)):i,n=this._canAdjustMonth(t,-1,tt,Z)?"<a class='ui-datepicker-prev ui-corner-all' data-handler='prev' data-event='click' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>":Y?"":"<a class='ui-datepicker-prev ui-corner-all ui-state-disabled' title='"+i+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"e":"w")+"'>"+i+"</span></a>",s=this._get(t,"nextText"),s=q?this.formatDate(s,this._daylightSavingAdjust(new Date(tt,Z+X,1)),this._getFormatConfig(t)):s,o=this._canAdjustMonth(t,1,tt,Z)?"<a class='ui-datepicker-next ui-corner-all' data-handler='next' data-event='click' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+s+"</span></a>":Y?"":"<a class='ui-datepicker-next ui-corner-all ui-state-disabled' title='"+s+"'><span class='ui-icon ui-icon-circle-triangle-"+(j?"w":"e")+"'>"+s+"</span></a>",a=this._get(t,"currentText"),r=this._get(t,"gotoCurrent")&&t.currentDay?K:W,a=q?this.formatDate(a,r,this._getFormatConfig(t)):a,l=t.inline?"":"<button type='button' class='ui-datepicker-close ui-state-default ui-priority-primary ui-corner-all' data-handler='hide' data-event='click'>"+this._get(t,"closeText")+"</button>",c=B?"<div class='ui-datepicker-buttonpane ui-widget-content'>"+(j?l:"")+(this._isInRange(t,r)?"<button type='button' class='ui-datepicker-current ui-state-default ui-priority-secondary ui-corner-all' data-handler='today' data-event='click'>"+a+"</button>":"")+(j?"":l)+"</div>":"",h=parseInt(this._get(t,"firstDay"),10),h=isNaN(h)?0:h,u=this._get(t,"showWeek"),d=this._get(t,"dayNames"),p=this._get(t,"dayNamesMin"),f=this._get(t,"monthNames"),m=this._get(t,"monthNamesShort"),g=this._get(t,"beforeShowDay"),v=this._get(t,"showOtherMonths"),y=this._get(t,"selectOtherMonths"),b=this._getDefaultDate(t),_="",x=0;V[0]>x;x++){for(k="",this.maxRows=4,C=0;V[1]>C;C++){if(T=this._daylightSavingAdjust(new Date(tt,Z,t.selectedDay)),S=" ui-corner-all",D="",G){if(D+="<div class='ui-datepicker-group",V[1]>1)switch(C){case 0:D+=" ui-datepicker-group-first",S=" ui-corner-"+(j?"right":"left");break;case V[1]-1:D+=" ui-datepicker-group-last",S=" ui-corner-"+(j?"left":"right");break;default:D+=" ui-datepicker-group-middle",S=""}D+="'>"}for(D+="<div class='ui-datepicker-header ui-widget-header ui-helper-clearfix"+S+"'>"+(/all|left/.test(S)&&0===x?j?o:n:"")+(/all|right/.test(S)&&0===x?j?n:o:"")+this._generateMonthYearHeader(t,Z,tt,Q,J,x>0||C>0,f,m)+"</div><table class='ui-datepicker-calendar'><thead><tr>",M=u?"<th class='ui-datepicker-week-col'>"+this._get(t,"weekHeader")+"</th>":"",w=0;7>w;w++)E=(w+h)%7,M+="<th"+((w+h+6)%7>=5?" class='ui-datepicker-week-end'":"")+"><span title='"+d[E]+"'>"+p[E]+"</span></th>";for(D+=M+"</tr></thead><tbody>",$=this._getDaysInMonth(tt,Z),tt===t.selectedYear&&Z===t.selectedMonth&&(t.selectedDay=Math.min(t.selectedDay,$)),P=(this._getFirstDayOfMonth(tt,Z)-h+7)%7,A=Math.ceil((P+$)/7),N=G&&this.maxRows>A?this.maxRows:A,this.maxRows=N,H=this._daylightSavingAdjust(new Date(tt,Z,1-P)),I=0;N>I;I++){for(D+="<tr>",R=u?"<td class='ui-datepicker-week-col'>"+this._get(t,"calculateWeek")(H)+"</td>":"",w=0;7>w;w++)O=g?g.apply(t.input?t.input[0]:null,[H]):[!0,""],L=H.getMonth()!==Z,z=L&&!y||!O[0]||Q&&Q>H||J&&H>J,R+="<td class='"+((w+h+6)%7>=5?" ui-datepicker-week-end":"")+(L?" ui-datepicker-other-month":"")+(H.getTime()===T.getTime()&&Z===t.selectedMonth&&t._keyEvent||b.getTime()===H.getTime()&&b.getTime()===T.getTime()?" "+this._dayOverClass:"")+(z?" "+this._unselectableClass+" ui-state-disabled":"")+(L&&!v?"":" "+O[1]+(H.getTime()===K.getTime()?" "+this._currentClass:"")+(H.getTime()===W.getTime()?" ui-datepicker-today":""))+"'"+(L&&!v||!O[2]?"":" title='"+O[2].replace(/'/g,"&#39;")+"'")+(z?"":" data-handler='selectDay' data-event='click' data-month='"+H.getMonth()+"' data-year='"+H.getFullYear()+"'")+">"+(L&&!v?"&#xa0;":z?"<span class='ui-state-default'>"+H.getDate()+"</span>":"<a class='ui-state-default"+(H.getTime()===W.getTime()?" ui-state-highlight":"")+(H.getTime()===K.getTime()?" ui-state-active":"")+(L?" ui-priority-secondary":"")+"' href='#'>"+H.getDate()+"</a>")+"</td>",H.setDate(H.getDate()+1),H=this._daylightSavingAdjust(H);D+=R+"</tr>"}Z++,Z>11&&(Z=0,tt++),D+="</tbody></table>"+(G?"</div>"+(V[0]>0&&C===V[1]-1?"<div class='ui-datepicker-row-break'></div>":""):""),k+=D}_+=k}return _+=c,t._keyEvent=!1,_},_generateMonthYearHeader:function(t,e,i,n,s,o,a,r){var l,c,h,u,d,p,f,m,g=this._get(t,"changeMonth"),v=this._get(t,"changeYear"),y=this._get(t,"showMonthAfterYear"),b="<div class='ui-datepicker-title'>",_="";if(o||!g)_+="<span class='ui-datepicker-month'>"+a[e]+"</span>";else{for(l=n&&n.getFullYear()===i,c=s&&s.getFullYear()===i,_+="<select class='ui-datepicker-month' data-handler='selectMonth' data-event='change'>",h=0;12>h;h++)(!l||h>=n.getMonth())&&(!c||s.getMonth()>=h)&&(_+="<option value='"+h+"'"+(h===e?" selected='selected'":"")+">"+r[h]+"</option>");_+="</select>"}if(y||(b+=_+(!o&&g&&v?"":"&#xa0;")),!t.yearshtml)if(t.yearshtml="",o||!v)b+="<span class='ui-datepicker-year'>"+i+"</span>";else{for(u=this._get(t,"yearRange").split(":"),d=(new Date).getFullYear(),p=function(t){var e=t.match(/c[+\-].*/)?i+parseInt(t.substring(1),10):t.match(/[+\-].*/)?d+parseInt(t,10):parseInt(t,10);return isNaN(e)?d:e},f=p(u[0]),m=Math.max(f,p(u[1]||"")),f=n?Math.max(f,n.getFullYear()):f,m=s?Math.min(m,s.getFullYear()):m,t.yearshtml+="<select class='ui-datepicker-year' data-handler='selectYear' data-event='change'>";m>=f;f++)t.yearshtml+="<option value='"+f+"'"+(f===i?" selected='selected'":"")+">"+f+"</option>";t.yearshtml+="</select>",b+=t.yearshtml,t.yearshtml=null}return b+=this._get(t,"yearSuffix"),y&&(b+=(!o&&g&&v?"":"&#xa0;")+_),b+="</div>"},_adjustInstDate:function(t,e,i){var n=t.drawYear+("Y"===i?e:0),s=t.drawMonth+("M"===i?e:0),o=Math.min(t.selectedDay,this._getDaysInMonth(n,s))+("D"===i?e:0),a=this._restrictMinMax(t,this._daylightSavingAdjust(new Date(n,s,o)));t.selectedDay=a.getDate(),t.drawMonth=t.selectedMonth=a.getMonth(),t.drawYear=t.selectedYear=a.getFullYear(),("M"===i||"Y"===i)&&this._notifyChange(t)},_restrictMinMax:function(t,e){var i=this._getMinMaxDate(t,"min"),n=this._getMinMaxDate(t,"max"),s=i&&i>e?i:e;return n&&s>n?n:s},_notifyChange:function(t){var e=this._get(t,"onChangeMonthYear");e&&e.apply(t.input?t.input[0]:null,[t.selectedYear,t.selectedMonth+1,t])},_getNumberOfMonths:function(t){var e=this._get(t,"numberOfMonths");return null==e?[1,1]:"number"==typeof e?[1,e]:e},_getMinMaxDate:function(t,e){return this._determineDate(t,this._get(t,e+"Date"),null)},_getDaysInMonth:function(t,e){return 32-this._daylightSavingAdjust(new Date(t,e,32)).getDate()},_getFirstDayOfMonth:function(t,e){return new Date(t,e,1).getDay()},_canAdjustMonth:function(t,e,i,n){var s=this._getNumberOfMonths(t),o=this._daylightSavingAdjust(new Date(i,n+(0>e?e:s[0]*s[1]),1));return 0>e&&o.setDate(this._getDaysInMonth(o.getFullYear(),o.getMonth())),this._isInRange(t,o)},_isInRange:function(t,e){var i,n,s=this._getMinMaxDate(t,"min"),o=this._getMinMaxDate(t,"max"),a=null,r=null,l=this._get(t,"yearRange");return l&&(i=l.split(":"),n=(new Date).getFullYear(),a=parseInt(i[0],10),r=parseInt(i[1],10),i[0].match(/[+\-].*/)&&(a+=n),i[1].match(/[+\-].*/)&&(r+=n)),(!s||e.getTime()>=s.getTime())&&(!o||e.getTime()<=o.getTime())&&(!a||e.getFullYear()>=a)&&(!r||r>=e.getFullYear())},_getFormatConfig:function(t){var e=this._get(t,"shortYearCutoff");return e="string"!=typeof e?e:(new Date).getFullYear()%100+parseInt(e,10),{shortYearCutoff:e,dayNamesShort:this._get(t,"dayNamesShort"),dayNames:this._get(t,"dayNames"),monthNamesShort:this._get(t,"monthNamesShort"),monthNames:this._get(t,"monthNames")}},_formatDate:function(t,e,i,n){e||(t.currentDay=t.selectedDay,t.currentMonth=t.selectedMonth,t.currentYear=t.selectedYear);var s=e?"object"==typeof e?e:this._daylightSavingAdjust(new Date(n,i,e)):this._daylightSavingAdjust(new Date(t.currentYear,t.currentMonth,t.currentDay));return this.formatDate(this._get(t,"dateFormat"),s,this._getFormatConfig(t))}}),t.fn.datepicker=function(e){if(!this.length)return this;t.datepicker.initialized||(t(document).mousedown(t.datepicker._checkExternalClick),t.datepicker.initialized=!0),0===t("#"+t.datepicker._mainDivId).length&&t("body").append(t.datepicker.dpDiv);var i=Array.prototype.slice.call(arguments,1);return"string"!=typeof e||"isDisabled"!==e&&"getDate"!==e&&"widget"!==e?"option"===e&&2===arguments.length&&"string"==typeof arguments[1]?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i)):this.each(function(){"string"==typeof e?t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this].concat(i)):t.datepicker._attachDatepicker(this,e)}):t.datepicker["_"+e+"Datepicker"].apply(t.datepicker,[this[0]].concat(i))},t.datepicker=new i,t.datepicker.initialized=!1,t.datepicker.uuid=(new Date).getTime(),t.datepicker.version="1.10.3"}(jQuery),function(t){var e={buttons:!0,height:!0,maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0,width:!0},i={maxHeight:!0,maxWidth:!0,minHeight:!0,minWidth:!0};t.widget("ui.dialog",{version:"1.10.3",options:{appendTo:"body",autoOpen:!0,buttons:[],closeOnEscape:!0,closeText:"close",dialogClass:"",draggable:!0,hide:null,height:"auto",maxHeight:null,maxWidth:null,minHeight:150,minWidth:150,modal:!1,position:{my:"center",at:"center",of:window,collision:"fit",using:function(e){var i=t(this).css(e).offset().top;0>i&&t(this).css("top",e.top-i)}},resizable:!0,show:null,title:null,width:300,beforeClose:null,close:null,drag:null,dragStart:null,dragStop:null,focus:null,open:null,resize:null,resizeStart:null,resizeStop:null},_create:function(){this.originalCss={display:this.element[0].style.display,width:this.element[0].style.width,minHeight:this.element[0].style.minHeight,maxHeight:this.element[0].style.maxHeight,height:this.element[0].style.height},this.originalPosition={parent:this.element.parent(),index:this.element.parent().children().index(this.element)},this.originalTitle=this.element.attr("title"),this.options.title=this.options.title||this.originalTitle,this._createWrapper(),this.element.show().removeAttr("title").addClass("ui-dialog-content ui-widget-content").appendTo(this.uiDialog),this._createTitlebar(),this._createButtonPane(),this.options.draggable&&t.fn.draggable&&this._makeDraggable(),this.options.resizable&&t.fn.resizable&&this._makeResizable(),this._isOpen=!1},_init:function(){this.options.autoOpen&&this.open()},_appendTo:function(){var e=this.options.appendTo;return e&&(e.jquery||e.nodeType)?t(e):this.document.find(e||"body").eq(0)},_destroy:function(){var t,e=this.originalPosition;this._destroyOverlay(),this.element.removeUniqueId().removeClass("ui-dialog-content ui-widget-content").css(this.originalCss).detach(),this.uiDialog.stop(!0,!0).remove(),this.originalTitle&&this.element.attr("title",this.originalTitle),t=e.parent.children().eq(e.index),t.length&&t[0]!==this.element[0]?t.before(this.element):e.parent.append(this.element)},widget:function(){return this.uiDialog},disable:t.noop,enable:t.noop,close:function(e){var i=this;this._isOpen&&this._trigger("beforeClose",e)!==!1&&(this._isOpen=!1,this._destroyOverlay(),this.opener.filter(":focusable").focus().length||t(this.document[0].activeElement).blur(),this._hide(this.uiDialog,this.options.hide,function(){i._trigger("close",e)}))},isOpen:function(){return this._isOpen},moveToTop:function(){this._moveToTop()},_moveToTop:function(t,e){var i=!!this.uiDialog.nextAll(":visible").insertBefore(this.uiDialog).length;return i&&!e&&this._trigger("focus",t),i},open:function(){var e=this;return this._isOpen?void(this._moveToTop()&&this._focusTabbable()):(this._isOpen=!0,this.opener=t(this.document[0].activeElement),this._size(),this._position(),this._createOverlay(),this._moveToTop(null,!0),this._show(this.uiDialog,this.options.show,function(){e._focusTabbable(),e._trigger("focus")}),void this._trigger("open"))},_focusTabbable:function(){var t=this.element.find("[autofocus]");t.length||(t=this.element.find(":tabbable")),t.length||(t=this.uiDialogButtonPane.find(":tabbable")),t.length||(t=this.uiDialogTitlebarClose.filter(":tabbable")),t.length||(t=this.uiDialog),t.eq(0).focus()},_keepFocus:function(e){function i(){var e=this.document[0].activeElement,i=this.uiDialog[0]===e||t.contains(this.uiDialog[0],e);i||this._focusTabbable()}e.preventDefault(),i.call(this),this._delay(i)},_createWrapper:function(){this.uiDialog=t("<div>").addClass("ui-dialog ui-widget ui-widget-content ui-corner-all ui-front "+this.options.dialogClass).hide().attr({tabIndex:-1,role:"dialog"}).appendTo(this._appendTo()),this._on(this.uiDialog,{keydown:function(e){if(this.options.closeOnEscape&&!e.isDefaultPrevented()&&e.keyCode&&e.keyCode===t.ui.keyCode.ESCAPE)return e.preventDefault(),void this.close(e);if(e.keyCode===t.ui.keyCode.TAB){var i=this.uiDialog.find(":tabbable"),n=i.filter(":first"),s=i.filter(":last");e.target!==s[0]&&e.target!==this.uiDialog[0]||e.shiftKey?e.target!==n[0]&&e.target!==this.uiDialog[0]||!e.shiftKey||(s.focus(1),e.preventDefault()):(n.focus(1),e.preventDefault())}},mousedown:function(t){this._moveToTop(t)&&this._focusTabbable()}}),this.element.find("[aria-describedby]").length||this.uiDialog.attr({"aria-describedby":this.element.uniqueId().attr("id")})},_createTitlebar:function(){var e;this.uiDialogTitlebar=t("<div>").addClass("ui-dialog-titlebar ui-widget-header ui-corner-all ui-helper-clearfix").prependTo(this.uiDialog),this._on(this.uiDialogTitlebar,{mousedown:function(e){t(e.target).closest(".ui-dialog-titlebar-close")||this.uiDialog.focus()}}),this.uiDialogTitlebarClose=t("<button></button>").button({label:this.options.closeText,icons:{primary:"ui-icon-closethick"},text:!1}).addClass("ui-dialog-titlebar-close").appendTo(this.uiDialogTitlebar),this._on(this.uiDialogTitlebarClose,{click:function(t){t.preventDefault(),this.close(t)}}),e=t("<span>").uniqueId().addClass("ui-dialog-title").prependTo(this.uiDialogTitlebar),this._title(e),this.uiDialog.attr({"aria-labelledby":e.attr("id")})},_title:function(t){this.options.title||t.html("&#160;"),t.text(this.options.title)},_createButtonPane:function(){this.uiDialogButtonPane=t("<div>").addClass("ui-dialog-buttonpane ui-widget-content ui-helper-clearfix"),this.uiButtonSet=t("<div>").addClass("ui-dialog-buttonset").appendTo(this.uiDialogButtonPane),this._createButtons()},_createButtons:function(){var e=this,i=this.options.buttons;return this.uiDialogButtonPane.remove(),this.uiButtonSet.empty(),t.isEmptyObject(i)||t.isArray(i)&&!i.length?void this.uiDialog.removeClass("ui-dialog-buttons"):(t.each(i,function(i,n){var s,o;n=t.isFunction(n)?{click:n,text:i}:n,n=t.extend({type:"button"},n),s=n.click,n.click=function(){s.apply(e.element[0],arguments)},o={icons:n.icons,text:n.showText},delete n.icons,delete n.showText,t("<button></button>",n).button(o).appendTo(e.uiButtonSet)}),this.uiDialog.addClass("ui-dialog-buttons"),void this.uiDialogButtonPane.appendTo(this.uiDialog))},_makeDraggable:function(){function e(t){return{position:t.position,offset:t.offset}}var i=this,n=this.options;this.uiDialog.draggable({cancel:".ui-dialog-content, .ui-dialog-titlebar-close",handle:".ui-dialog-titlebar",containment:"document",start:function(n,s){t(this).addClass("ui-dialog-dragging"),i._blockFrames(),i._trigger("dragStart",n,e(s))},drag:function(t,n){i._trigger("drag",t,e(n))},stop:function(s,o){n.position=[o.position.left-i.document.scrollLeft(),o.position.top-i.document.scrollTop()],t(this).removeClass("ui-dialog-dragging"),i._unblockFrames(),i._trigger("dragStop",s,e(o))}})},_makeResizable:function(){function e(t){return{originalPosition:t.originalPosition,originalSize:t.originalSize,position:t.position,size:t.size}}var i=this,n=this.options,s=n.resizable,o=this.uiDialog.css("position"),a="string"==typeof s?s:"n,e,s,w,se,sw,ne,nw";this.uiDialog.resizable({cancel:".ui-dialog-content",containment:"document",alsoResize:this.element,maxWidth:n.maxWidth,maxHeight:n.maxHeight,minWidth:n.minWidth,minHeight:this._minHeight(),handles:a,start:function(n,s){t(this).addClass("ui-dialog-resizing"),i._blockFrames(),i._trigger("resizeStart",n,e(s))},resize:function(t,n){i._trigger("resize",t,e(n))},stop:function(s,o){n.height=t(this).height(),n.width=t(this).width(),t(this).removeClass("ui-dialog-resizing"),i._unblockFrames(),i._trigger("resizeStop",s,e(o))}}).css("position",o)},_minHeight:function(){
var t=this.options;return"auto"===t.height?t.minHeight:Math.min(t.minHeight,t.height)},_position:function(){var t=this.uiDialog.is(":visible");t||this.uiDialog.show(),this.uiDialog.position(this.options.position),t||this.uiDialog.hide()},_setOptions:function(n){var s=this,o=!1,a={};t.each(n,function(t,n){s._setOption(t,n),t in e&&(o=!0),t in i&&(a[t]=n)}),o&&(this._size(),this._position()),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option",a)},_setOption:function(t,e){var i,n,s=this.uiDialog;"dialogClass"===t&&s.removeClass(this.options.dialogClass).addClass(e),"disabled"!==t&&(this._super(t,e),"appendTo"===t&&this.uiDialog.appendTo(this._appendTo()),"buttons"===t&&this._createButtons(),"closeText"===t&&this.uiDialogTitlebarClose.button({label:""+e}),"draggable"===t&&(i=s.is(":data(ui-draggable)"),i&&!e&&s.draggable("destroy"),!i&&e&&this._makeDraggable()),"position"===t&&this._position(),"resizable"===t&&(n=s.is(":data(ui-resizable)"),n&&!e&&s.resizable("destroy"),n&&"string"==typeof e&&s.resizable("option","handles",e),n||e===!1||this._makeResizable()),"title"===t&&this._title(this.uiDialogTitlebar.find(".ui-dialog-title")))},_size:function(){var t,e,i,n=this.options;this.element.show().css({width:"auto",minHeight:0,maxHeight:"none",height:0}),n.minWidth>n.width&&(n.width=n.minWidth),t=this.uiDialog.css({height:"auto",width:n.width}).outerHeight(),e=Math.max(0,n.minHeight-t),i="number"==typeof n.maxHeight?Math.max(0,n.maxHeight-t):"none","auto"===n.height?this.element.css({minHeight:e,maxHeight:i,height:"auto"}):this.element.height(Math.max(0,n.height-t)),this.uiDialog.is(":data(ui-resizable)")&&this.uiDialog.resizable("option","minHeight",this._minHeight())},_blockFrames:function(){this.iframeBlocks=this.document.find("iframe").map(function(){var e=t(this);return t("<div>").css({position:"absolute",width:e.outerWidth(),height:e.outerHeight()}).appendTo(e.parent()).offset(e.offset())[0]})},_unblockFrames:function(){this.iframeBlocks&&(this.iframeBlocks.remove(),delete this.iframeBlocks)},_allowInteraction:function(e){return t(e.target).closest(".ui-dialog").length?!0:!!t(e.target).closest(".ui-datepicker").length},_createOverlay:function(){if(this.options.modal){var e=this,i=this.widgetFullName;t.ui.dialog.overlayInstances||this._delay(function(){t.ui.dialog.overlayInstances&&this.document.bind("focusin.dialog",function(n){e._allowInteraction(n)||(n.preventDefault(),t(".ui-dialog:visible:last .ui-dialog-content").data(i)._focusTabbable())})}),this.overlay=t("<div>").addClass("ui-widget-overlay ui-front").appendTo(this._appendTo()),this._on(this.overlay,{mousedown:"_keepFocus"}),t.ui.dialog.overlayInstances++}},_destroyOverlay:function(){this.options.modal&&this.overlay&&(t.ui.dialog.overlayInstances--,t.ui.dialog.overlayInstances||this.document.unbind("focusin.dialog"),this.overlay.remove(),this.overlay=null)}}),t.ui.dialog.overlayInstances=0,t.uiBackCompat!==!1&&t.widget("ui.dialog",t.ui.dialog,{_position:function(){var e,i=this.options.position,n=[],s=[0,0];i?(("string"==typeof i||"object"==typeof i&&"0"in i)&&(n=i.split?i.split(" "):[i[0],i[1]],1===n.length&&(n[1]=n[0]),t.each(["left","top"],function(t,e){+n[t]===n[t]&&(s[t]=n[t],n[t]=e)}),i={my:n[0]+(0>s[0]?s[0]:"+"+s[0])+" "+n[1]+(0>s[1]?s[1]:"+"+s[1]),at:n.join(" ")}),i=t.extend({},t.ui.dialog.prototype.options.position,i)):i=t.ui.dialog.prototype.options.position,e=this.uiDialog.is(":visible"),e||this.uiDialog.show(),this.uiDialog.position(i),e||this.uiDialog.hide()}})}(jQuery),function(t){var e=/up|down|vertical/,i=/up|left|vertical|horizontal/;t.effects.effect.blind=function(n,s){var o,a,r,l=t(this),c=["position","top","bottom","left","right","height","width"],h=t.effects.setMode(l,n.mode||"hide"),u=n.direction||"up",d=e.test(u),p=d?"height":"width",f=d?"top":"left",m=i.test(u),g={},v="show"===h;l.parent().is(".ui-effects-wrapper")?t.effects.save(l.parent(),c):t.effects.save(l,c),l.show(),o=t.effects.createWrapper(l).css({overflow:"hidden"}),a=o[p](),r=parseFloat(o.css(f))||0,g[p]=v?a:0,m||(l.css(d?"bottom":"right",0).css(d?"top":"left","auto").css({position:"absolute"}),g[f]=v?r:a+r),v&&(o.css(p,0),m||o.css(f,r+a)),o.animate(g,{duration:n.duration,easing:n.easing,queue:!1,complete:function(){"hide"===h&&l.hide(),t.effects.restore(l,c),t.effects.removeWrapper(l),s()}})}}(jQuery),function(t){t.effects.effect.bounce=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"effect"),c="hide"===l,h="show"===l,u=e.direction||"up",d=e.distance,p=e.times||5,f=2*p+(h||c?1:0),m=e.duration/f,g=e.easing,v="up"===u||"down"===u?"top":"left",y="up"===u||"left"===u,b=a.queue(),_=b.length;for((h||c)&&r.push("opacity"),t.effects.save(a,r),a.show(),t.effects.createWrapper(a),d||(d=a["top"===v?"outerHeight":"outerWidth"]()/3),h&&(o={opacity:1},o[v]=0,a.css("opacity",0).css(v,y?2*-d:2*d).animate(o,m,g)),c&&(d/=Math.pow(2,p-1)),o={},o[v]=0,n=0;p>n;n++)s={},s[v]=(y?"-=":"+=")+d,a.animate(s,m,g).animate(o,m,g),d=c?2*d:d/2;c&&(s={opacity:0},s[v]=(y?"-=":"+=")+d,a.animate(s,m,g)),a.queue(function(){c&&a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}),_>1&&b.splice.apply(b,[1,0].concat(b.splice(_,f+1))),a.dequeue()}}(jQuery),function(t){t.effects.effect.clip=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","height","width"],l=t.effects.setMode(a,e.mode||"hide"),c="show"===l,h=e.direction||"vertical",u="vertical"===h,d=u?"height":"width",p=u?"top":"left",f={};t.effects.save(a,r),a.show(),n=t.effects.createWrapper(a).css({overflow:"hidden"}),s="IMG"===a[0].tagName?n:a,o=s[d](),c&&(s.css(d,0),s.css(p,o/2)),f[d]=c?o:0,f[p]=c?0:o/2,s.animate(f,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){c||a.hide(),t.effects.restore(a,r),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.drop=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","opacity","height","width"],a=t.effects.setMode(s,e.mode||"hide"),r="show"===a,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l?"pos":"neg",u={opacity:r?1:0};t.effects.save(s,o),s.show(),t.effects.createWrapper(s),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0)/2,r&&s.css("opacity",0).css(c,"pos"===h?-n:n),u[c]=(r?"pos"===h?"+=":"-=":"pos"===h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.explode=function(e,i){function n(){b.push(this),b.length===u*d&&s()}function s(){p.css({visibility:"visible"}),t(b).remove(),m||p.hide(),i()}var o,a,r,l,c,h,u=e.pieces?Math.round(Math.sqrt(e.pieces)):3,d=u,p=t(this),f=t.effects.setMode(p,e.mode||"hide"),m="show"===f,g=p.show().css("visibility","hidden").offset(),v=Math.ceil(p.outerWidth()/d),y=Math.ceil(p.outerHeight()/u),b=[];for(o=0;u>o;o++)for(l=g.top+o*y,h=o-(u-1)/2,a=0;d>a;a++)r=g.left+a*v,c=a-(d-1)/2,p.clone().appendTo("body").wrap("<div></div>").css({position:"absolute",visibility:"visible",left:-a*v,top:-o*y}).parent().addClass("ui-effects-explode").css({position:"absolute",overflow:"hidden",width:v,height:y,left:r+(m?c*v:0),top:l+(m?h*y:0),opacity:m?0:1}).animate({left:r+(m?0:c*v),top:l+(m?0:h*y),opacity:m?1:0},e.duration||500,e.easing,n)}}(jQuery),function(t){t.effects.effect.fade=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"toggle");n.animate({opacity:s},{queue:!1,duration:e.duration,easing:e.easing,complete:i})}}(jQuery),function(t){t.effects.effect.fold=function(e,i){var n,s,o=t(this),a=["position","top","bottom","left","right","height","width"],r=t.effects.setMode(o,e.mode||"hide"),l="show"===r,c="hide"===r,h=e.size||15,u=/([0-9]+)%/.exec(h),d=!!e.horizFirst,p=l!==d,f=p?["width","height"]:["height","width"],m=e.duration/2,g={},v={};t.effects.save(o,a),o.show(),n=t.effects.createWrapper(o).css({overflow:"hidden"}),s=p?[n.width(),n.height()]:[n.height(),n.width()],u&&(h=parseInt(u[1],10)/100*s[c?0:1]),l&&n.css(d?{height:0,width:h}:{height:h,width:0}),g[f[0]]=l?s[0]:h,v[f[1]]=l?s[1]:0,n.animate(g,m,e.easing).animate(v,m,e.easing,function(){c&&o.hide(),t.effects.restore(o,a),t.effects.removeWrapper(o),i()})}}(jQuery),function(t){t.effects.effect.highlight=function(e,i){var n=t(this),s=["backgroundImage","backgroundColor","opacity"],o=t.effects.setMode(n,e.mode||"show"),a={backgroundColor:n.css("backgroundColor")};"hide"===o&&(a.opacity=0),t.effects.save(n,s),n.show().css({backgroundImage:"none",backgroundColor:e.color||"#ffff99"}).animate(a,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===o&&n.hide(),t.effects.restore(n,s),i()}})}}(jQuery),function(t){t.effects.effect.pulsate=function(e,i){var n,s=t(this),o=t.effects.setMode(s,e.mode||"show"),a="show"===o,r="hide"===o,l=a||"hide"===o,c=2*(e.times||5)+(l?1:0),h=e.duration/c,u=0,d=s.queue(),p=d.length;for((a||!s.is(":visible"))&&(s.css("opacity",0).show(),u=1),n=1;c>n;n++)s.animate({opacity:u},h,e.easing),u=1-u;s.animate({opacity:u},h,e.easing),s.queue(function(){r&&s.hide(),i()}),p>1&&d.splice.apply(d,[1,0].concat(d.splice(p,c+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.puff=function(e,i){var n=t(this),s=t.effects.setMode(n,e.mode||"hide"),o="hide"===s,a=parseInt(e.percent,10)||150,r=a/100,l={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()};t.extend(e,{effect:"scale",queue:!1,fade:!0,mode:s,complete:i,percent:o?a:100,from:o?l:{height:l.height*r,width:l.width*r,outerHeight:l.outerHeight*r,outerWidth:l.outerWidth*r}}),n.effect(e)},t.effects.effect.scale=function(e,i){var n=t(this),s=t.extend(!0,{},e),o=t.effects.setMode(n,e.mode||"effect"),a=parseInt(e.percent,10)||(0===parseInt(e.percent,10)?0:"hide"===o?0:100),r=e.direction||"both",l=e.origin,c={height:n.height(),width:n.width(),outerHeight:n.outerHeight(),outerWidth:n.outerWidth()},h={y:"horizontal"!==r?a/100:1,x:"vertical"!==r?a/100:1};s.effect="size",s.queue=!1,s.complete=i,"effect"!==o&&(s.origin=l||["middle","center"],s.restore=!0),s.from=e.from||("show"===o?{height:0,width:0,outerHeight:0,outerWidth:0}:c),s.to={height:c.height*h.y,width:c.width*h.x,outerHeight:c.outerHeight*h.y,outerWidth:c.outerWidth*h.x},s.fade&&("show"===o&&(s.from.opacity=0,s.to.opacity=1),"hide"===o&&(s.from.opacity=1,s.to.opacity=0)),n.effect(s)},t.effects.effect.size=function(e,i){var n,s,o,a=t(this),r=["position","top","bottom","left","right","width","height","overflow","opacity"],l=["position","top","bottom","left","right","overflow","opacity"],c=["width","height","overflow"],h=["fontSize"],u=["borderTopWidth","borderBottomWidth","paddingTop","paddingBottom"],d=["borderLeftWidth","borderRightWidth","paddingLeft","paddingRight"],p=t.effects.setMode(a,e.mode||"effect"),f=e.restore||"effect"!==p,m=e.scale||"both",g=e.origin||["middle","center"],v=a.css("position"),y=f?r:l,b={height:0,width:0,outerHeight:0,outerWidth:0};"show"===p&&a.show(),n={height:a.height(),width:a.width(),outerHeight:a.outerHeight(),outerWidth:a.outerWidth()},"toggle"===e.mode&&"show"===p?(a.from=e.to||b,a.to=e.from||n):(a.from=e.from||("show"===p?b:n),a.to=e.to||("hide"===p?b:n)),o={from:{y:a.from.height/n.height,x:a.from.width/n.width},to:{y:a.to.height/n.height,x:a.to.width/n.width}},("box"===m||"both"===m)&&(o.from.y!==o.to.y&&(y=y.concat(u),a.from=t.effects.setTransition(a,u,o.from.y,a.from),a.to=t.effects.setTransition(a,u,o.to.y,a.to)),o.from.x!==o.to.x&&(y=y.concat(d),a.from=t.effects.setTransition(a,d,o.from.x,a.from),a.to=t.effects.setTransition(a,d,o.to.x,a.to))),("content"===m||"both"===m)&&o.from.y!==o.to.y&&(y=y.concat(h).concat(c),a.from=t.effects.setTransition(a,h,o.from.y,a.from),a.to=t.effects.setTransition(a,h,o.to.y,a.to)),t.effects.save(a,y),a.show(),t.effects.createWrapper(a),a.css("overflow","hidden").css(a.from),g&&(s=t.effects.getBaseline(g,n),a.from.top=(n.outerHeight-a.outerHeight())*s.y,a.from.left=(n.outerWidth-a.outerWidth())*s.x,a.to.top=(n.outerHeight-a.to.outerHeight)*s.y,a.to.left=(n.outerWidth-a.to.outerWidth)*s.x),a.css(a.from),("content"===m||"both"===m)&&(u=u.concat(["marginTop","marginBottom"]).concat(h),d=d.concat(["marginLeft","marginRight"]),c=r.concat(u).concat(d),a.find("*[width]").each(function(){var i=t(this),n={height:i.height(),width:i.width(),outerHeight:i.outerHeight(),outerWidth:i.outerWidth()};f&&t.effects.save(i,c),i.from={height:n.height*o.from.y,width:n.width*o.from.x,outerHeight:n.outerHeight*o.from.y,outerWidth:n.outerWidth*o.from.x},i.to={height:n.height*o.to.y,width:n.width*o.to.x,outerHeight:n.height*o.to.y,outerWidth:n.width*o.to.x},o.from.y!==o.to.y&&(i.from=t.effects.setTransition(i,u,o.from.y,i.from),i.to=t.effects.setTransition(i,u,o.to.y,i.to)),o.from.x!==o.to.x&&(i.from=t.effects.setTransition(i,d,o.from.x,i.from),i.to=t.effects.setTransition(i,d,o.to.x,i.to)),i.css(i.from),i.animate(i.to,e.duration,e.easing,function(){f&&t.effects.restore(i,c)})})),a.animate(a.to,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){0===a.to.opacity&&a.css("opacity",a.from.opacity),"hide"===p&&a.hide(),t.effects.restore(a,y),f||("static"===v?a.css({position:"relative",top:a.to.top,left:a.to.left}):t.each(["top","left"],function(t,e){a.css(e,function(e,i){var n=parseInt(i,10),s=t?a.to.left:a.to.top;return"auto"===i?s+"px":n+s+"px"})})),t.effects.removeWrapper(a),i()}})}}(jQuery),function(t){t.effects.effect.shake=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","height","width"],a=t.effects.setMode(s,e.mode||"effect"),r=e.direction||"left",l=e.distance||20,c=e.times||3,h=2*c+1,u=Math.round(e.duration/h),d="up"===r||"down"===r?"top":"left",p="up"===r||"left"===r,f={},m={},g={},v=s.queue(),y=v.length;for(t.effects.save(s,o),s.show(),t.effects.createWrapper(s),f[d]=(p?"-=":"+=")+l,m[d]=(p?"+=":"-=")+2*l,g[d]=(p?"-=":"+=")+2*l,s.animate(f,u,e.easing),n=1;c>n;n++)s.animate(m,u,e.easing).animate(g,u,e.easing);s.animate(m,u,e.easing).animate(f,u/2,e.easing).queue(function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}),y>1&&v.splice.apply(v,[1,0].concat(v.splice(y,h+1))),s.dequeue()}}(jQuery),function(t){t.effects.effect.slide=function(e,i){var n,s=t(this),o=["position","top","bottom","left","right","width","height"],a=t.effects.setMode(s,e.mode||"show"),r="show"===a,l=e.direction||"left",c="up"===l||"down"===l?"top":"left",h="up"===l||"left"===l,u={};t.effects.save(s,o),s.show(),n=e.distance||s["top"===c?"outerHeight":"outerWidth"](!0),t.effects.createWrapper(s).css({overflow:"hidden"}),r&&s.css(c,h?isNaN(n)?"-"+n:-n:n),u[c]=(r?h?"+=":"-=":h?"-=":"+=")+n,s.animate(u,{queue:!1,duration:e.duration,easing:e.easing,complete:function(){"hide"===a&&s.hide(),t.effects.restore(s,o),t.effects.removeWrapper(s),i()}})}}(jQuery),function(t){t.effects.effect.transfer=function(e,i){var n=t(this),s=t(e.to),o="fixed"===s.css("position"),a=t("body"),r=o?a.scrollTop():0,l=o?a.scrollLeft():0,c=s.offset(),h={top:c.top-r,left:c.left-l,height:s.innerHeight(),width:s.innerWidth()},u=n.offset(),d=t("<div class='ui-effects-transfer'></div>").appendTo(document.body).addClass(e.className).css({top:u.top-r,left:u.left-l,height:n.innerHeight(),width:n.innerWidth(),position:o?"fixed":"absolute"}).animate(h,e.duration,e.easing,function(){d.remove(),i()})}}(jQuery),function(t){t.widget("ui.menu",{version:"1.10.3",defaultElement:"<ul>",delay:300,options:{icons:{submenu:"ui-icon-carat-1-e"},menus:"ul",position:{my:"left top",at:"right top"},role:"menu",blur:null,focus:null,select:null},_create:function(){this.activeMenu=this.element,this.mouseHandled=!1,this.element.uniqueId().addClass("ui-menu ui-widget ui-widget-content ui-corner-all").toggleClass("ui-menu-icons",!!this.element.find(".ui-icon").length).attr({role:this.options.role,tabIndex:0}).bind("click"+this.eventNamespace,t.proxy(function(t){this.options.disabled&&t.preventDefault()},this)),this.options.disabled&&this.element.addClass("ui-state-disabled").attr("aria-disabled","true"),this._on({"mousedown .ui-menu-item > a":function(t){t.preventDefault()},"click .ui-state-disabled > a":function(t){t.preventDefault()},"click .ui-menu-item:has(a)":function(e){var i=t(e.target).closest(".ui-menu-item");!this.mouseHandled&&i.not(".ui-state-disabled").length&&(this.mouseHandled=!0,this.select(e),i.has(".ui-menu").length?this.expand(e):this.element.is(":focus")||(this.element.trigger("focus",[!0]),this.active&&1===this.active.parents(".ui-menu").length&&clearTimeout(this.timer)))},"mouseenter .ui-menu-item":function(e){var i=t(e.currentTarget);i.siblings().children(".ui-state-active").removeClass("ui-state-active"),this.focus(e,i)},mouseleave:"collapseAll","mouseleave .ui-menu":"collapseAll",focus:function(t,e){var i=this.active||this.element.children(".ui-menu-item").eq(0);e||this.focus(t,i)},blur:function(e){this._delay(function(){t.contains(this.element[0],this.document[0].activeElement)||this.collapseAll(e)})},keydown:"_keydown"}),this.refresh(),this._on(this.document,{click:function(e){t(e.target).closest(".ui-menu").length||this.collapseAll(e),this.mouseHandled=!1}})},_destroy:function(){this.element.removeAttr("aria-activedescendant").find(".ui-menu").addBack().removeClass("ui-menu ui-widget ui-widget-content ui-corner-all ui-menu-icons").removeAttr("role").removeAttr("tabIndex").removeAttr("aria-labelledby").removeAttr("aria-expanded").removeAttr("aria-hidden").removeAttr("aria-disabled").removeUniqueId().show(),this.element.find(".ui-menu-item").removeClass("ui-menu-item").removeAttr("role").removeAttr("aria-disabled").children("a").removeUniqueId().removeClass("ui-corner-all ui-state-hover").removeAttr("tabIndex").removeAttr("role").removeAttr("aria-haspopup").children().each(function(){var e=t(this);e.data("ui-menu-submenu-carat")&&e.remove()}),this.element.find(".ui-menu-divider").removeClass("ui-menu-divider ui-widget-content")},_keydown:function(e){function i(t){return t.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&")}var n,s,o,a,r,l=!0;switch(e.keyCode){case t.ui.keyCode.PAGE_UP:this.previousPage(e);break;case t.ui.keyCode.PAGE_DOWN:this.nextPage(e);break;case t.ui.keyCode.HOME:this._move("first","first",e);break;case t.ui.keyCode.END:this._move("last","last",e);break;case t.ui.keyCode.UP:this.previous(e);break;case t.ui.keyCode.DOWN:this.next(e);break;case t.ui.keyCode.LEFT:this.collapse(e);break;case t.ui.keyCode.RIGHT:this.active&&!this.active.is(".ui-state-disabled")&&this.expand(e);break;case t.ui.keyCode.ENTER:case t.ui.keyCode.SPACE:this._activate(e);break;case t.ui.keyCode.ESCAPE:this.collapse(e);break;default:l=!1,s=this.previousFilter||"",o=String.fromCharCode(e.keyCode),a=!1,clearTimeout(this.filterTimer),o===s?a=!0:o=s+o,r=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())}),n=a&&-1!==n.index(this.active.next())?this.active.nextAll(".ui-menu-item"):n,n.length||(o=String.fromCharCode(e.keyCode),r=RegExp("^"+i(o),"i"),n=this.activeMenu.children(".ui-menu-item").filter(function(){return r.test(t(this).children("a").text())})),n.length?(this.focus(e,n),n.length>1?(this.previousFilter=o,this.filterTimer=this._delay(function(){delete this.previousFilter},1e3)):delete this.previousFilter):delete this.previousFilter}l&&e.preventDefault()},_activate:function(t){this.active.is(".ui-state-disabled")||(this.active.children("a[aria-haspopup='true']").length?this.expand(t):this.select(t))},refresh:function(){var e,i=this.options.icons.submenu,n=this.element.find(this.options.menus);n.filter(":not(.ui-menu)").addClass("ui-menu ui-widget ui-widget-content ui-corner-all").hide().attr({role:this.options.role,"aria-hidden":"true","aria-expanded":"false"}).each(function(){var e=t(this),n=e.prev("a"),s=t("<span>").addClass("ui-menu-icon ui-icon "+i).data("ui-menu-submenu-carat",!0);n.attr("aria-haspopup","true").prepend(s),e.attr("aria-labelledby",n.attr("id"))}),e=n.add(this.element),e.children(":not(.ui-menu-item):has(a)").addClass("ui-menu-item").attr("role","presentation").children("a").uniqueId().addClass("ui-corner-all").attr({tabIndex:-1,role:this._itemRole()}),e.children(":not(.ui-menu-item)").each(function(){var e=t(this);/[^\-\u2014\u2013\s]/.test(e.text())||e.addClass("ui-widget-content ui-menu-divider")}),e.children(".ui-state-disabled").attr("aria-disabled","true"),this.active&&!t.contains(this.element[0],this.active[0])&&this.blur()},_itemRole:function(){return{menu:"menuitem",listbox:"option"}[this.options.role]},_setOption:function(t,e){"icons"===t&&this.element.find(".ui-menu-icon").removeClass(this.options.icons.submenu).addClass(e.submenu),this._super(t,e)},focus:function(t,e){var i,n;this.blur(t,t&&"focus"===t.type),this._scrollIntoView(e),this.active=e.first(),n=this.active.children("a").addClass("ui-state-focus"),this.options.role&&this.element.attr("aria-activedescendant",n.attr("id")),this.active.parent().closest(".ui-menu-item").children("a:first").addClass("ui-state-active"),t&&"keydown"===t.type?this._close():this.timer=this._delay(function(){this._close()},this.delay),i=e.children(".ui-menu"),i.length&&/^mouse/.test(t.type)&&this._startOpening(i),this.activeMenu=e.parent(),this._trigger("focus",t,{item:e})},_scrollIntoView:function(e){var i,n,s,o,a,r;this._hasScroll()&&(i=parseFloat(t.css(this.activeMenu[0],"borderTopWidth"))||0,n=parseFloat(t.css(this.activeMenu[0],"paddingTop"))||0,s=e.offset().top-this.activeMenu.offset().top-i-n,o=this.activeMenu.scrollTop(),a=this.activeMenu.height(),r=e.height(),0>s?this.activeMenu.scrollTop(o+s):s+r>a&&this.activeMenu.scrollTop(o+s-a+r))},blur:function(t,e){e||clearTimeout(this.timer),this.active&&(this.active.children("a").removeClass("ui-state-focus"),this.active=null,this._trigger("blur",t,{item:this.active}))},_startOpening:function(t){clearTimeout(this.timer),"true"===t.attr("aria-hidden")&&(this.timer=this._delay(function(){this._close(),this._open(t)},this.delay))},_open:function(e){var i=t.extend({of:this.active},this.options.position);clearTimeout(this.timer),this.element.find(".ui-menu").not(e.parents(".ui-menu")).hide().attr("aria-hidden","true"),e.show().removeAttr("aria-hidden").attr("aria-expanded","true").position(i)},collapseAll:function(e,i){clearTimeout(this.timer),this.timer=this._delay(function(){var n=i?this.element:t(e&&e.target).closest(this.element.find(".ui-menu"));n.length||(n=this.element),this._close(n),this.blur(e),this.activeMenu=n},this.delay)},_close:function(t){t||(t=this.active?this.active.parent():this.element),t.find(".ui-menu").hide().attr("aria-hidden","true").attr("aria-expanded","false").end().find("a.ui-state-active").removeClass("ui-state-active")},collapse:function(t){var e=this.active&&this.active.parent().closest(".ui-menu-item",this.element);e&&e.length&&(this._close(),this.focus(t,e))},expand:function(t){var e=this.active&&this.active.children(".ui-menu ").children(".ui-menu-item").first();e&&e.length&&(this._open(e.parent()),this._delay(function(){this.focus(t,e)}))},next:function(t){this._move("next","first",t)},previous:function(t){this._move("prev","last",t)},isFirstItem:function(){return this.active&&!this.active.prevAll(".ui-menu-item").length},isLastItem:function(){return this.active&&!this.active.nextAll(".ui-menu-item").length},_move:function(t,e,i){var n;this.active&&(n="first"===t||"last"===t?this.active["first"===t?"prevAll":"nextAll"](".ui-menu-item").eq(-1):this.active[t+"All"](".ui-menu-item").eq(0)),n&&n.length&&this.active||(n=this.activeMenu.children(".ui-menu-item")[e]()),this.focus(i,n)},nextPage:function(e){var i,n,s;return this.active?void(this.isLastItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.nextAll(".ui-menu-item").each(function(){return i=t(this),0>i.offset().top-n-s}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item")[this.active?"last":"first"]()))):void this.next(e)},previousPage:function(e){var i,n,s;return this.active?void(this.isFirstItem()||(this._hasScroll()?(n=this.active.offset().top,s=this.element.height(),this.active.prevAll(".ui-menu-item").each(function(){return i=t(this),i.offset().top-n+s>0}),this.focus(e,i)):this.focus(e,this.activeMenu.children(".ui-menu-item").first()))):void this.next(e)},_hasScroll:function(){return this.element.outerHeight()<this.element.prop("scrollHeight")},select:function(e){this.active=this.active||t(e.target).closest(".ui-menu-item");var i={item:this.active};this.active.has(".ui-menu").length||this.collapseAll(e,!0),this._trigger("select",e,i)}})}(jQuery),function(t,e){function i(t,e,i){return[parseFloat(t[0])*(p.test(t[0])?e/100:1),parseFloat(t[1])*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+(\.[\d]+)?%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return t("body").append(s),i=a.offsetWidth,s.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:o?t.position.scrollbarWidth():0,height:s?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),_=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(_),x=(e.collision||"flip").split(" "),k={};return y=s(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,c,h=t(this),u=h.outerWidth(),d=h.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=u+f+n(this,"marginRight")+w.width,T=d+y+n(this,"marginBottom")+w.height,S=t.extend({},v),D=i(k.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?S.left-=u:"center"===e.my[0]&&(S.left-=u/2),"bottom"===e.my[1]?S.top-=d:"center"===e.my[1]&&(S.top-=d/2),S.left+=D[0],S.top+=D[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),s={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](S,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:C,collisionHeight:T,offset:[o[0]+D[0],o[1]+D[1]],my:e.my,at:e.at,within:_,elem:h})}),e.using&&(c=function(t){var i=g.left-S.left,n=i+p-u,s=g.top-S.top,o=s+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:h,left:S.left,top:S.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};u>p&&p>r(i+n)&&(l.horizontal="center"),d>m&&m>r(s+o)&&(l.vertical="middle"),l.important=a(r(i),r(n))>a(r(s),r(o))?"horizontal":"vertical",e.using.call(this,t,l)}),h.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,c=r+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=c?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):t.left=c>0&&0>=l?s:l>c?s+o-e.collisionWidth:s:l>0?t.left+=l:c>0?t.left-=c:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,c=r+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=c?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):t.top=c>0&&0>=l?s:l>c?s+o-e.collisionHeight:s:l>0?t.top+=l:c>0?t.top-=c:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,u=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||r(h)>i)&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||u>r(n))&&(t.left+=d+p+f))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,u=c+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>h?(n=t.top+p+f+m+e.collisionHeight-a-o,t.top+p+f+m>h&&(0>n||r(h)>n)&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>u&&(i>0||u>r(i))&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",s=t(r).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery),function(t,e){t.widget("ui.progressbar",{version:"1.10.3",options:{max:100,value:0,change:null,complete:null},min:0,_create:function(){this.oldValue=this.options.value=this._constrainedValue(),this.element.addClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").attr({role:"progressbar","aria-valuemin":this.min}),this.valueDiv=t("<div class='ui-progressbar-value ui-widget-header ui-corner-left'></div>").appendTo(this.element),this._refreshValue()},_destroy:function(){this.element.removeClass("ui-progressbar ui-widget ui-widget-content ui-corner-all").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.valueDiv.remove()},value:function(t){return t===e?this.options.value:(this.options.value=this._constrainedValue(t),this._refreshValue(),e)},_constrainedValue:function(t){return t===e&&(t=this.options.value),this.indeterminate=t===!1,"number"!=typeof t&&(t=0),this.indeterminate?!1:Math.min(this.options.max,Math.max(this.min,t))},_setOptions:function(t){var e=t.value;delete t.value,this._super(t),this.options.value=this._constrainedValue(e),this._refreshValue()},_setOption:function(t,e){"max"===t&&(e=Math.max(this.min,e)),this._super(t,e)},_percentage:function(){
return this.indeterminate?100:100*(this.options.value-this.min)/(this.options.max-this.min)},_refreshValue:function(){var e=this.options.value,i=this._percentage();this.valueDiv.toggle(this.indeterminate||e>this.min).toggleClass("ui-corner-right",e===this.options.max).width(i.toFixed(0)+"%"),this.element.toggleClass("ui-progressbar-indeterminate",this.indeterminate),this.indeterminate?(this.element.removeAttr("aria-valuenow"),this.overlayDiv||(this.overlayDiv=t("<div class='ui-progressbar-overlay'></div>").appendTo(this.valueDiv))):(this.element.attr({"aria-valuemax":this.options.max,"aria-valuenow":e}),this.overlayDiv&&(this.overlayDiv.remove(),this.overlayDiv=null)),this.oldValue!==e&&(this.oldValue=e,this._trigger("change")),e===this.options.max&&this._trigger("complete")}})}(jQuery),function(t){var e=5;t.widget("ui.slider",t.ui.mouse,{version:"1.10.3",widgetEventPrefix:"slide",options:{animate:!1,distance:0,max:100,min:0,orientation:"horizontal",range:!1,step:1,value:0,values:null,change:null,slide:null,start:null,stop:null},_create:function(){this._keySliding=!1,this._mouseSliding=!1,this._animateOff=!0,this._handleIndex=null,this._detectOrientation(),this._mouseInit(),this.element.addClass("ui-slider ui-slider-"+this.orientation+" ui-widget ui-widget-content ui-corner-all"),this._refresh(),this._setOption("disabled",this.options.disabled),this._animateOff=!1},_refresh:function(){this._createRange(),this._createHandles(),this._setupEvents(),this._refreshValue()},_createHandles:function(){var e,i,n=this.options,s=this.element.find(".ui-slider-handle").addClass("ui-state-default ui-corner-all"),o="<a class='ui-slider-handle ui-state-default ui-corner-all' href='#'></a>",a=[];for(i=n.values&&n.values.length||1,s.length>i&&(s.slice(i).remove(),s=s.slice(0,i)),e=s.length;i>e;e++)a.push(o);this.handles=s.add(t(a.join("")).appendTo(this.element)),this.handle=this.handles.eq(0),this.handles.each(function(e){t(this).data("ui-slider-handle-index",e)})},_createRange:function(){var e=this.options,i="";e.range?(e.range===!0&&(e.values?e.values.length&&2!==e.values.length?e.values=[e.values[0],e.values[0]]:t.isArray(e.values)&&(e.values=e.values.slice(0)):e.values=[this._valueMin(),this._valueMin()]),this.range&&this.range.length?this.range.removeClass("ui-slider-range-min ui-slider-range-max").css({left:"",bottom:""}):(this.range=t("<div></div>").appendTo(this.element),i="ui-slider-range ui-widget-header ui-corner-all"),this.range.addClass(i+("min"===e.range||"max"===e.range?" ui-slider-range-"+e.range:""))):this.range=t([])},_setupEvents:function(){var t=this.handles.add(this.range).filter("a");this._off(t),this._on(t,this._handleEvents),this._hoverable(t),this._focusable(t)},_destroy:function(){this.handles.remove(),this.range.remove(),this.element.removeClass("ui-slider ui-slider-horizontal ui-slider-vertical ui-widget ui-widget-content ui-corner-all"),this._mouseDestroy()},_mouseCapture:function(e){var i,n,s,o,a,r,l,c,h=this,u=this.options;return u.disabled?!1:(this.elementSize={width:this.element.outerWidth(),height:this.element.outerHeight()},this.elementOffset=this.element.offset(),i={x:e.pageX,y:e.pageY},n=this._normValueFromMouse(i),s=this._valueMax()-this._valueMin()+1,this.handles.each(function(e){var i=Math.abs(n-h.values(e));(s>i||s===i&&(e===h._lastChangedValue||h.values(e)===u.min))&&(s=i,o=t(this),a=e)}),r=this._start(e,a),r===!1?!1:(this._mouseSliding=!0,this._handleIndex=a,o.addClass("ui-state-active").focus(),l=o.offset(),c=!t(e.target).parents().addBack().is(".ui-slider-handle"),this._clickOffset=c?{left:0,top:0}:{left:e.pageX-l.left-o.width()/2,top:e.pageY-l.top-o.height()/2-(parseInt(o.css("borderTopWidth"),10)||0)-(parseInt(o.css("borderBottomWidth"),10)||0)+(parseInt(o.css("marginTop"),10)||0)},this.handles.hasClass("ui-state-hover")||this._slide(e,a,n),this._animateOff=!0,!0))},_mouseStart:function(){return!0},_mouseDrag:function(t){var e={x:t.pageX,y:t.pageY},i=this._normValueFromMouse(e);return this._slide(t,this._handleIndex,i),!1},_mouseStop:function(t){return this.handles.removeClass("ui-state-active"),this._mouseSliding=!1,this._stop(t,this._handleIndex),this._change(t,this._handleIndex),this._handleIndex=null,this._clickOffset=null,this._animateOff=!1,!1},_detectOrientation:function(){this.orientation="vertical"===this.options.orientation?"vertical":"horizontal"},_normValueFromMouse:function(t){var e,i,n,s,o;return"horizontal"===this.orientation?(e=this.elementSize.width,i=t.x-this.elementOffset.left-(this._clickOffset?this._clickOffset.left:0)):(e=this.elementSize.height,i=t.y-this.elementOffset.top-(this._clickOffset?this._clickOffset.top:0)),n=i/e,n>1&&(n=1),0>n&&(n=0),"vertical"===this.orientation&&(n=1-n),s=this._valueMax()-this._valueMin(),o=this._valueMin()+n*s,this._trimAlignValue(o)},_start:function(t,e){var i={handle:this.handles[e],value:this.value()};return this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("start",t,i)},_slide:function(t,e,i){var n,s,o;this.options.values&&this.options.values.length?(n=this.values(e?0:1),2===this.options.values.length&&this.options.range===!0&&(0===e&&i>n||1===e&&n>i)&&(i=n),i!==this.values(e)&&(s=this.values(),s[e]=i,o=this._trigger("slide",t,{handle:this.handles[e],value:i,values:s}),n=this.values(e?0:1),o!==!1&&this.values(e,i,!0))):i!==this.value()&&(o=this._trigger("slide",t,{handle:this.handles[e],value:i}),o!==!1&&this.value(i))},_stop:function(t,e){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._trigger("stop",t,i)},_change:function(t,e){if(!this._keySliding&&!this._mouseSliding){var i={handle:this.handles[e],value:this.value()};this.options.values&&this.options.values.length&&(i.value=this.values(e),i.values=this.values()),this._lastChangedValue=e,this._trigger("change",t,i)}},value:function(t){return arguments.length?(this.options.value=this._trimAlignValue(t),this._refreshValue(),void this._change(null,0)):this._value()},values:function(e,i){var n,s,o;if(arguments.length>1)return this.options.values[e]=this._trimAlignValue(i),this._refreshValue(),void this._change(null,e);if(!arguments.length)return this._values();if(!t.isArray(arguments[0]))return this.options.values&&this.options.values.length?this._values(e):this.value();for(n=this.options.values,s=arguments[0],o=0;n.length>o;o+=1)n[o]=this._trimAlignValue(s[o]),this._change(null,o);this._refreshValue()},_setOption:function(e,i){var n,s=0;switch("range"===e&&this.options.range===!0&&("min"===i?(this.options.value=this._values(0),this.options.values=null):"max"===i&&(this.options.value=this._values(this.options.values.length-1),this.options.values=null)),t.isArray(this.options.values)&&(s=this.options.values.length),t.Widget.prototype._setOption.apply(this,arguments),e){case"orientation":this._detectOrientation(),this.element.removeClass("ui-slider-horizontal ui-slider-vertical").addClass("ui-slider-"+this.orientation),this._refreshValue();break;case"value":this._animateOff=!0,this._refreshValue(),this._change(null,0),this._animateOff=!1;break;case"values":for(this._animateOff=!0,this._refreshValue(),n=0;s>n;n+=1)this._change(null,n);this._animateOff=!1;break;case"min":case"max":this._animateOff=!0,this._refreshValue(),this._animateOff=!1;break;case"range":this._animateOff=!0,this._refresh(),this._animateOff=!1}},_value:function(){var t=this.options.value;return t=this._trimAlignValue(t)},_values:function(t){var e,i,n;if(arguments.length)return e=this.options.values[t],e=this._trimAlignValue(e);if(this.options.values&&this.options.values.length){for(i=this.options.values.slice(),n=0;i.length>n;n+=1)i[n]=this._trimAlignValue(i[n]);return i}return[]},_trimAlignValue:function(t){if(this._valueMin()>=t)return this._valueMin();if(t>=this._valueMax())return this._valueMax();var e=this.options.step>0?this.options.step:1,i=(t-this._valueMin())%e,n=t-i;return 2*Math.abs(i)>=e&&(n+=i>0?e:-e),parseFloat(n.toFixed(5))},_valueMin:function(){return this.options.min},_valueMax:function(){return this.options.max},_refreshValue:function(){var e,i,n,s,o,a=this.options.range,r=this.options,l=this,c=this._animateOff?!1:r.animate,h={};this.options.values&&this.options.values.length?this.handles.each(function(n){i=100*((l.values(n)-l._valueMin())/(l._valueMax()-l._valueMin())),h["horizontal"===l.orientation?"left":"bottom"]=i+"%",t(this).stop(1,1)[c?"animate":"css"](h,r.animate),l.options.range===!0&&("horizontal"===l.orientation?(0===n&&l.range.stop(1,1)[c?"animate":"css"]({left:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({width:i-e+"%"},{queue:!1,duration:r.animate})):(0===n&&l.range.stop(1,1)[c?"animate":"css"]({bottom:i+"%"},r.animate),1===n&&l.range[c?"animate":"css"]({height:i-e+"%"},{queue:!1,duration:r.animate}))),e=i}):(n=this.value(),s=this._valueMin(),o=this._valueMax(),i=o!==s?100*((n-s)/(o-s)):0,h["horizontal"===this.orientation?"left":"bottom"]=i+"%",this.handle.stop(1,1)[c?"animate":"css"](h,r.animate),"min"===a&&"horizontal"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({width:i+"%"},r.animate),"max"===a&&"horizontal"===this.orientation&&this.range[c?"animate":"css"]({width:100-i+"%"},{queue:!1,duration:r.animate}),"min"===a&&"vertical"===this.orientation&&this.range.stop(1,1)[c?"animate":"css"]({height:i+"%"},r.animate),"max"===a&&"vertical"===this.orientation&&this.range[c?"animate":"css"]({height:100-i+"%"},{queue:!1,duration:r.animate}))},_handleEvents:{keydown:function(i){var n,s,o,a,r=t(i.target).data("ui-slider-handle-index");switch(i.keyCode){case t.ui.keyCode.HOME:case t.ui.keyCode.END:case t.ui.keyCode.PAGE_UP:case t.ui.keyCode.PAGE_DOWN:case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(i.preventDefault(),!this._keySliding&&(this._keySliding=!0,t(i.target).addClass("ui-state-active"),n=this._start(i,r),n===!1))return}switch(a=this.options.step,s=o=this.options.values&&this.options.values.length?this.values(r):this.value(),i.keyCode){case t.ui.keyCode.HOME:o=this._valueMin();break;case t.ui.keyCode.END:o=this._valueMax();break;case t.ui.keyCode.PAGE_UP:o=this._trimAlignValue(s+(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.PAGE_DOWN:o=this._trimAlignValue(s-(this._valueMax()-this._valueMin())/e);break;case t.ui.keyCode.UP:case t.ui.keyCode.RIGHT:if(s===this._valueMax())return;o=this._trimAlignValue(s+a);break;case t.ui.keyCode.DOWN:case t.ui.keyCode.LEFT:if(s===this._valueMin())return;o=this._trimAlignValue(s-a)}this._slide(i,r,o)},click:function(t){t.preventDefault()},keyup:function(e){var i=t(e.target).data("ui-slider-handle-index");this._keySliding&&(this._keySliding=!1,this._stop(e,i),this._change(e,i),t(e.target).removeClass("ui-state-active"))}}})}(jQuery),function(t){function e(t){return function(){var e=this.element.val();t.apply(this,arguments),this._refresh(),e!==this.element.val()&&this._trigger("change")}}t.widget("ui.spinner",{version:"1.10.3",defaultElement:"<input>",widgetEventPrefix:"spin",options:{culture:null,icons:{down:"ui-icon-triangle-1-s",up:"ui-icon-triangle-1-n"},incremental:!0,max:null,min:null,numberFormat:null,page:10,step:1,change:null,spin:null,start:null,stop:null},_create:function(){this._setOption("max",this.options.max),this._setOption("min",this.options.min),this._setOption("step",this.options.step),this._value(this.element.val(),!0),this._draw(),this._on(this._events),this._refresh(),this._on(this.window,{beforeunload:function(){this.element.removeAttr("autocomplete")}})},_getCreateOptions:function(){var e={},i=this.element;return t.each(["min","max","step"],function(t,n){var s=i.attr(n);void 0!==s&&s.length&&(e[n]=s)}),e},_events:{keydown:function(t){this._start(t)&&this._keydown(t)&&t.preventDefault()},keyup:"_stop",focus:function(){this.previous=this.element.val()},blur:function(t){return this.cancelBlur?void delete this.cancelBlur:(this._stop(),this._refresh(),void(this.previous!==this.element.val()&&this._trigger("change",t)))},mousewheel:function(t,e){if(e){if(!this.spinning&&!this._start(t))return!1;this._spin((e>0?1:-1)*this.options.step,t),clearTimeout(this.mousewheelTimer),this.mousewheelTimer=this._delay(function(){this.spinning&&this._stop(t)},100),t.preventDefault()}},"mousedown .ui-spinner-button":function(e){function i(){var t=this.element[0]===this.document[0].activeElement;t||(this.element.focus(),this.previous=n,this._delay(function(){this.previous=n}))}var n;n=this.element[0]===this.document[0].activeElement?this.previous:this.element.val(),e.preventDefault(),i.call(this),this.cancelBlur=!0,this._delay(function(){delete this.cancelBlur,i.call(this)}),this._start(e)!==!1&&this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e)},"mouseup .ui-spinner-button":"_stop","mouseenter .ui-spinner-button":function(e){return t(e.currentTarget).hasClass("ui-state-active")?this._start(e)===!1?!1:void this._repeat(null,t(e.currentTarget).hasClass("ui-spinner-up")?1:-1,e):void 0},"mouseleave .ui-spinner-button":"_stop"},_draw:function(){var t=this.uiSpinner=this.element.addClass("ui-spinner-input").attr("autocomplete","off").wrap(this._uiSpinnerHtml()).parent().append(this._buttonHtml());this.element.attr("role","spinbutton"),this.buttons=t.find(".ui-spinner-button").attr("tabIndex",-1).button().removeClass("ui-corner-all"),this.buttons.height()>Math.ceil(.5*t.height())&&t.height()>0&&t.height(t.height()),this.options.disabled&&this.disable()},_keydown:function(e){var i=this.options,n=t.ui.keyCode;switch(e.keyCode){case n.UP:return this._repeat(null,1,e),!0;case n.DOWN:return this._repeat(null,-1,e),!0;case n.PAGE_UP:return this._repeat(null,i.page,e),!0;case n.PAGE_DOWN:return this._repeat(null,-i.page,e),!0}return!1},_uiSpinnerHtml:function(){return"<span class='ui-spinner ui-widget ui-widget-content ui-corner-all'></span>"},_buttonHtml:function(){return"<a class='ui-spinner-button ui-spinner-up ui-corner-tr'><span class='ui-icon "+this.options.icons.up+"'>&#9650;</span></a><a class='ui-spinner-button ui-spinner-down ui-corner-br'><span class='ui-icon "+this.options.icons.down+"'>&#9660;</span></a>"},_start:function(t){return this.spinning||this._trigger("start",t)!==!1?(this.counter||(this.counter=1),this.spinning=!0,!0):!1},_repeat:function(t,e,i){t=t||500,clearTimeout(this.timer),this.timer=this._delay(function(){this._repeat(40,e,i)},t),this._spin(e*this.options.step,i)},_spin:function(t,e){var i=this.value()||0;this.counter||(this.counter=1),i=this._adjustValue(i+t*this._increment(this.counter)),this.spinning&&this._trigger("spin",e,{value:i})===!1||(this._value(i),this.counter++)},_increment:function(e){var i=this.options.incremental;return i?t.isFunction(i)?i(e):Math.floor(e*e*e/5e4-e*e/500+17*e/200+1):1},_precision:function(){var t=this._precisionOf(this.options.step);return null!==this.options.min&&(t=Math.max(t,this._precisionOf(this.options.min))),t},_precisionOf:function(t){var e=""+t,i=e.indexOf(".");return-1===i?0:e.length-i-1},_adjustValue:function(t){var e,i,n=this.options;return e=null!==n.min?n.min:0,i=t-e,i=Math.round(i/n.step)*n.step,t=e+i,t=parseFloat(t.toFixed(this._precision())),null!==n.max&&t>n.max?n.max:null!==n.min&&n.min>t?n.min:t},_stop:function(t){this.spinning&&(clearTimeout(this.timer),clearTimeout(this.mousewheelTimer),this.counter=0,this.spinning=!1,this._trigger("stop",t))},_setOption:function(t,e){if("culture"===t||"numberFormat"===t){var i=this._parse(this.element.val());return this.options[t]=e,void this.element.val(this._format(i))}("max"===t||"min"===t||"step"===t)&&"string"==typeof e&&(e=this._parse(e)),"icons"===t&&(this.buttons.first().find(".ui-icon").removeClass(this.options.icons.up).addClass(e.up),this.buttons.last().find(".ui-icon").removeClass(this.options.icons.down).addClass(e.down)),this._super(t,e),"disabled"===t&&(e?(this.element.prop("disabled",!0),this.buttons.button("disable")):(this.element.prop("disabled",!1),this.buttons.button("enable")))},_setOptions:e(function(t){this._super(t),this._value(this.element.val())}),_parse:function(t){return"string"==typeof t&&""!==t&&(t=window.Globalize&&this.options.numberFormat?Globalize.parseFloat(t,10,this.options.culture):+t),""===t||isNaN(t)?null:t},_format:function(t){return""===t?"":window.Globalize&&this.options.numberFormat?Globalize.format(t,this.options.numberFormat,this.options.culture):t},_refresh:function(){this.element.attr({"aria-valuemin":this.options.min,"aria-valuemax":this.options.max,"aria-valuenow":this._parse(this.element.val())})},_value:function(t,e){var i;""!==t&&(i=this._parse(t),null!==i&&(e||(i=this._adjustValue(i)),t=this._format(i))),this.element.val(t),this._refresh()},_destroy:function(){this.element.removeClass("ui-spinner-input").prop("disabled",!1).removeAttr("autocomplete").removeAttr("role").removeAttr("aria-valuemin").removeAttr("aria-valuemax").removeAttr("aria-valuenow"),this.uiSpinner.replaceWith(this.element)},stepUp:e(function(t){this._stepUp(t)}),_stepUp:function(t){this._start()&&(this._spin((t||1)*this.options.step),this._stop())},stepDown:e(function(t){this._stepDown(t)}),_stepDown:function(t){this._start()&&(this._spin((t||1)*-this.options.step),this._stop())},pageUp:e(function(t){this._stepUp((t||1)*this.options.page)}),pageDown:e(function(t){this._stepDown((t||1)*this.options.page)}),value:function(t){return arguments.length?void e(this._value).call(this,t):this._parse(this.element.val())},widget:function(){return this.uiSpinner}})}(jQuery),function(t,e){function i(){return++s}function n(t){return t.hash.length>1&&decodeURIComponent(t.href.replace(o,""))===decodeURIComponent(location.href.replace(o,""))}var s=0,o=/#.*$/;t.widget("ui.tabs",{version:"1.10.3",delay:300,options:{active:null,collapsible:!1,event:"click",heightStyle:"content",hide:null,show:null,activate:null,beforeActivate:null,beforeLoad:null,load:null},_create:function(){var e=this,i=this.options;this.running=!1,this.element.addClass("ui-tabs ui-widget ui-widget-content ui-corner-all").toggleClass("ui-tabs-collapsible",i.collapsible).delegate(".ui-tabs-nav > li","mousedown"+this.eventNamespace,function(e){t(this).is(".ui-state-disabled")&&e.preventDefault()}).delegate(".ui-tabs-anchor","focus"+this.eventNamespace,function(){t(this).closest("li").is(".ui-state-disabled")&&this.blur()}),this._processTabs(),i.active=this._initialActive(),t.isArray(i.disabled)&&(i.disabled=t.unique(i.disabled.concat(t.map(this.tabs.filter(".ui-state-disabled"),function(t){return e.tabs.index(t)}))).sort()),this.active=this.options.active!==!1&&this.anchors.length?this._findActive(i.active):t(),this._refresh(),this.active.length&&this.load(i.active)},_initialActive:function(){var i=this.options.active,n=this.options.collapsible,s=location.hash.substring(1);return null===i&&(s&&this.tabs.each(function(n,o){return t(o).attr("aria-controls")===s?(i=n,!1):e}),null===i&&(i=this.tabs.index(this.tabs.filter(".ui-tabs-active"))),(null===i||-1===i)&&(i=this.tabs.length?0:!1)),i!==!1&&(i=this.tabs.index(this.tabs.eq(i)),-1===i&&(i=n?!1:0)),!n&&i===!1&&this.anchors.length&&(i=0),i},_getCreateEventData:function(){return{tab:this.active,panel:this.active.length?this._getPanelForTab(this.active):t()}},_tabKeydown:function(i){var n=t(this.document[0].activeElement).closest("li"),s=this.tabs.index(n),o=!0;if(!this._handlePageNav(i)){switch(i.keyCode){case t.ui.keyCode.RIGHT:case t.ui.keyCode.DOWN:s++;break;case t.ui.keyCode.UP:case t.ui.keyCode.LEFT:o=!1,s--;break;case t.ui.keyCode.END:s=this.anchors.length-1;break;case t.ui.keyCode.HOME:s=0;break;case t.ui.keyCode.SPACE:return i.preventDefault(),clearTimeout(this.activating),this._activate(s),e;case t.ui.keyCode.ENTER:return i.preventDefault(),clearTimeout(this.activating),this._activate(s===this.options.active?!1:s),e;default:return}i.preventDefault(),clearTimeout(this.activating),s=this._focusNextTab(s,o),i.ctrlKey||(n.attr("aria-selected","false"),this.tabs.eq(s).attr("aria-selected","true"),this.activating=this._delay(function(){this.option("active",s)},this.delay))}},_panelKeydown:function(e){this._handlePageNav(e)||e.ctrlKey&&e.keyCode===t.ui.keyCode.UP&&(e.preventDefault(),this.active.focus())},_handlePageNav:function(i){return i.altKey&&i.keyCode===t.ui.keyCode.PAGE_UP?(this._activate(this._focusNextTab(this.options.active-1,!1)),!0):i.altKey&&i.keyCode===t.ui.keyCode.PAGE_DOWN?(this._activate(this._focusNextTab(this.options.active+1,!0)),!0):e},_findNextTab:function(e,i){function n(){return e>s&&(e=0),0>e&&(e=s),e}for(var s=this.tabs.length-1;-1!==t.inArray(n(),this.options.disabled);)e=i?e+1:e-1;return e},_focusNextTab:function(t,e){return t=this._findNextTab(t,e),this.tabs.eq(t).focus(),t},_setOption:function(t,i){return"active"===t?(this._activate(i),e):"disabled"===t?(this._setupDisabled(i),e):(this._super(t,i),"collapsible"===t&&(this.element.toggleClass("ui-tabs-collapsible",i),i||this.options.active!==!1||this._activate(0)),"event"===t&&this._setupEvents(i),"heightStyle"===t&&this._setupHeightStyle(i),e)},_tabId:function(t){return t.attr("aria-controls")||"ui-tabs-"+i()},_sanitizeSelector:function(t){return t?t.replace(/[!"$%&'()*+,.\/:;<=>?@\[\]\^`{|}~]/g,"\\$&"):""},refresh:function(){var e=this.options,i=this.tablist.children(":has(a[href])");e.disabled=t.map(i.filter(".ui-state-disabled"),function(t){return i.index(t)}),this._processTabs(),e.active!==!1&&this.anchors.length?this.active.length&&!t.contains(this.tablist[0],this.active[0])?this.tabs.length===e.disabled.length?(e.active=!1,this.active=t()):this._activate(this._findNextTab(Math.max(0,e.active-1),!1)):e.active=this.tabs.index(this.active):(e.active=!1,this.active=t()),this._refresh()},_refresh:function(){this._setupDisabled(this.options.disabled),this._setupEvents(this.options.event),this._setupHeightStyle(this.options.heightStyle),this.tabs.not(this.active).attr({"aria-selected":"false",tabIndex:-1}),this.panels.not(this._getPanelForTab(this.active)).hide().attr({"aria-expanded":"false","aria-hidden":"true"}),this.active.length?(this.active.addClass("ui-tabs-active ui-state-active").attr({"aria-selected":"true",tabIndex:0}),this._getPanelForTab(this.active).show().attr({"aria-expanded":"true","aria-hidden":"false"})):this.tabs.eq(0).attr("tabIndex",0)},_processTabs:function(){var e=this;this.tablist=this._getList().addClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").attr("role","tablist"),this.tabs=this.tablist.find("> li:has(a[href])").addClass("ui-state-default ui-corner-top").attr({role:"tab",tabIndex:-1}),this.anchors=this.tabs.map(function(){return t("a",this)[0]}).addClass("ui-tabs-anchor").attr({role:"presentation",tabIndex:-1}),this.panels=t(),this.anchors.each(function(i,s){var o,a,r,l=t(s).uniqueId().attr("id"),c=t(s).closest("li"),h=c.attr("aria-controls");n(s)?(o=s.hash,a=e.element.find(e._sanitizeSelector(o))):(r=e._tabId(c),o="#"+r,a=e.element.find(o),a.length||(a=e._createPanel(r),a.insertAfter(e.panels[i-1]||e.tablist)),a.attr("aria-live","polite")),a.length&&(e.panels=e.panels.add(a)),h&&c.data("ui-tabs-aria-controls",h),c.attr({"aria-controls":o.substring(1),"aria-labelledby":l}),a.attr("aria-labelledby",l)}),this.panels.addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").attr("role","tabpanel")},_getList:function(){return this.element.find("ol,ul").eq(0)},_createPanel:function(e){return t("<div>").attr("id",e).addClass("ui-tabs-panel ui-widget-content ui-corner-bottom").data("ui-tabs-destroy",!0)},_setupDisabled:function(e){t.isArray(e)&&(e.length?e.length===this.anchors.length&&(e=!0):e=!1);for(var i,n=0;i=this.tabs[n];n++)e===!0||-1!==t.inArray(n,e)?t(i).addClass("ui-state-disabled").attr("aria-disabled","true"):t(i).removeClass("ui-state-disabled").removeAttr("aria-disabled");this.options.disabled=e},_setupEvents:function(e){var i={click:function(t){t.preventDefault()}};e&&t.each(e.split(" "),function(t,e){i[e]="_eventHandler"}),this._off(this.anchors.add(this.tabs).add(this.panels)),this._on(this.anchors,i),this._on(this.tabs,{keydown:"_tabKeydown"}),this._on(this.panels,{keydown:"_panelKeydown"}),this._focusable(this.tabs),this._hoverable(this.tabs)},_setupHeightStyle:function(e){var i,n=this.element.parent();"fill"===e?(i=n.height(),i-=this.element.outerHeight()-this.element.height(),this.element.siblings(":visible").each(function(){var e=t(this),n=e.css("position");"absolute"!==n&&"fixed"!==n&&(i-=e.outerHeight(!0))}),this.element.children().not(this.panels).each(function(){i-=t(this).outerHeight(!0)}),this.panels.each(function(){t(this).height(Math.max(0,i-t(this).innerHeight()+t(this).height()))}).css("overflow","auto")):"auto"===e&&(i=0,this.panels.each(function(){i=Math.max(i,t(this).height("").height())}).height(i))},_eventHandler:function(e){var i=this.options,n=this.active,s=t(e.currentTarget),o=s.closest("li"),a=o[0]===n[0],r=a&&i.collapsible,l=r?t():this._getPanelForTab(o),c=n.length?this._getPanelForTab(n):t(),h={oldTab:n,oldPanel:c,newTab:r?t():o,newPanel:l};e.preventDefault(),o.hasClass("ui-state-disabled")||o.hasClass("ui-tabs-loading")||this.running||a&&!i.collapsible||this._trigger("beforeActivate",e,h)===!1||(i.active=r?!1:this.tabs.index(o),this.active=a?t():o,this.xhr&&this.xhr.abort(),c.length||l.length||t.error("jQuery UI Tabs: Mismatching fragment identifier."),l.length&&this.load(this.tabs.index(o),e),this._toggle(e,h))},_toggle:function(e,i){function n(){o.running=!1,o._trigger("activate",e,i)}function s(){i.newTab.closest("li").addClass("ui-tabs-active ui-state-active"),a.length&&o.options.show?o._show(a,o.options.show,n):(a.show(),n())}var o=this,a=i.newPanel,r=i.oldPanel;this.running=!0,r.length&&this.options.hide?this._hide(r,this.options.hide,function(){i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),s()}):(i.oldTab.closest("li").removeClass("ui-tabs-active ui-state-active"),r.hide(),s()),r.attr({"aria-expanded":"false","aria-hidden":"true"}),i.oldTab.attr("aria-selected","false"),a.length&&r.length?i.oldTab.attr("tabIndex",-1):a.length&&this.tabs.filter(function(){return 0===t(this).attr("tabIndex")}).attr("tabIndex",-1),a.attr({"aria-expanded":"true","aria-hidden":"false"}),i.newTab.attr({"aria-selected":"true",tabIndex:0})},_activate:function(e){var i,n=this._findActive(e);n[0]!==this.active[0]&&(n.length||(n=this.active),i=n.find(".ui-tabs-anchor")[0],this._eventHandler({target:i,currentTarget:i,preventDefault:t.noop}))},_findActive:function(e){return e===!1?t():this.tabs.eq(e)},_getIndex:function(t){return"string"==typeof t&&(t=this.anchors.index(this.anchors.filter("[href$='"+t+"']"))),t},_destroy:function(){this.xhr&&this.xhr.abort(),this.element.removeClass("ui-tabs ui-widget ui-widget-content ui-corner-all ui-tabs-collapsible"),this.tablist.removeClass("ui-tabs-nav ui-helper-reset ui-helper-clearfix ui-widget-header ui-corner-all").removeAttr("role"),this.anchors.removeClass("ui-tabs-anchor").removeAttr("role").removeAttr("tabIndex").removeUniqueId(),this.tabs.add(this.panels).each(function(){t.data(this,"ui-tabs-destroy")?t(this).remove():t(this).removeClass("ui-state-default ui-state-active ui-state-disabled ui-corner-top ui-corner-bottom ui-widget-content ui-tabs-active ui-tabs-panel").removeAttr("tabIndex").removeAttr("aria-live").removeAttr("aria-busy").removeAttr("aria-selected").removeAttr("aria-labelledby").removeAttr("aria-hidden").removeAttr("aria-expanded").removeAttr("role")}),this.tabs.each(function(){var e=t(this),i=e.data("ui-tabs-aria-controls");i?e.attr("aria-controls",i).removeData("ui-tabs-aria-controls"):e.removeAttr("aria-controls")}),this.panels.show(),"content"!==this.options.heightStyle&&this.panels.css("height","")},enable:function(i){var n=this.options.disabled;n!==!1&&(i===e?n=!1:(i=this._getIndex(i),n=t.isArray(n)?t.map(n,function(t){return t!==i?t:null}):t.map(this.tabs,function(t,e){return e!==i?e:null})),this._setupDisabled(n))},disable:function(i){var n=this.options.disabled;if(n!==!0){if(i===e)n=!0;else{if(i=this._getIndex(i),-1!==t.inArray(i,n))return;n=t.isArray(n)?t.merge([i],n).sort():[i]}this._setupDisabled(n)}},load:function(e,i){e=this._getIndex(e);var s=this,o=this.tabs.eq(e),a=o.find(".ui-tabs-anchor"),r=this._getPanelForTab(o),l={tab:o,panel:r};n(a[0])||(this.xhr=t.ajax(this._ajaxSettings(a,i,l)),this.xhr&&"canceled"!==this.xhr.statusText&&(o.addClass("ui-tabs-loading"),r.attr("aria-busy","true"),this.xhr.success(function(t){setTimeout(function(){r.html(t),s._trigger("load",i,l)},1)}).complete(function(t,e){setTimeout(function(){"abort"===e&&s.panels.stop(!1,!0),o.removeClass("ui-tabs-loading"),r.removeAttr("aria-busy"),t===s.xhr&&delete s.xhr},1)})))},_ajaxSettings:function(e,i,n){var s=this;return{url:e.attr("href"),beforeSend:function(e,o){return s._trigger("beforeLoad",i,t.extend({jqXHR:e,ajaxSettings:o},n))}}},_getPanelForTab:function(e){var i=t(e).attr("aria-controls");return this.element.find(this._sanitizeSelector("#"+i))}})}(jQuery),function(t){function e(e,i){var n=(e.attr("aria-describedby")||"").split(/\s+/);n.push(i),e.data("ui-tooltip-id",i).attr("aria-describedby",t.trim(n.join(" ")))}function i(e){var i=e.data("ui-tooltip-id"),n=(e.attr("aria-describedby")||"").split(/\s+/),s=t.inArray(i,n);-1!==s&&n.splice(s,1),e.removeData("ui-tooltip-id"),n=t.trim(n.join(" ")),n?e.attr("aria-describedby",n):e.removeAttr("aria-describedby")}var n=0;t.widget("ui.tooltip",{version:"1.10.3",options:{content:function(){var e=t(this).attr("title")||"";return t("<a>").text(e).html()},hide:!0,items:"[title]:not([disabled])",position:{my:"left top+15",at:"left bottom",collision:"flipfit flip"},show:!0,tooltipClass:null,track:!1,close:null,open:null},_create:function(){this._on({mouseover:"open",focusin:"open"}),this.tooltips={},this.parents={},this.options.disabled&&this._disable()},_setOption:function(e,i){var n=this;return"disabled"===e?(this[i?"_disable":"_enable"](),void(this.options[e]=i)):(this._super(e,i),void("content"===e&&t.each(this.tooltips,function(t,e){n._updateContent(e)})))},_disable:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0)}),this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.is("[title]")&&e.data("ui-tooltip-title",e.attr("title")).attr("title","")})},_enable:function(){this.element.find(this.options.items).addBack().each(function(){var e=t(this);e.data("ui-tooltip-title")&&e.attr("title",e.data("ui-tooltip-title"))})},open:function(e){var i=this,n=t(e?e.target:this.element).closest(this.options.items);n.length&&!n.data("ui-tooltip-id")&&(n.attr("title")&&n.data("ui-tooltip-title",n.attr("title")),n.data("ui-tooltip-open",!0),e&&"mouseover"===e.type&&n.parents().each(function(){var e,n=t(this);n.data("ui-tooltip-open")&&(e=t.Event("blur"),e.target=e.currentTarget=this,i.close(e,!0)),n.attr("title")&&(n.uniqueId(),i.parents[this.id]={element:this,title:n.attr("title")},n.attr("title",""))}),this._updateContent(n,e))},_updateContent:function(t,e){var i,n=this.options.content,s=this,o=e?e.type:null;return"string"==typeof n?this._open(e,t,n):(i=n.call(t[0],function(i){t.data("ui-tooltip-open")&&s._delay(function(){e&&(e.type=o),this._open(e,t,i)})}),void(i&&this._open(e,t,i)))},_open:function(i,n,s){function o(t){c.of=t,a.is(":hidden")||a.position(c)}var a,r,l,c=t.extend({},this.options.position);if(s){if(a=this._find(n),a.length)return void a.find(".ui-tooltip-content").html(s);n.is("[title]")&&(i&&"mouseover"===i.type?n.attr("title",""):n.removeAttr("title")),a=this._tooltip(n),e(n,a.attr("id")),a.find(".ui-tooltip-content").html(s),this.options.track&&i&&/^mouse/.test(i.type)?(this._on(this.document,{mousemove:o}),o(i)):a.position(t.extend({of:n},this.options.position)),a.hide(),this._show(a,this.options.show),this.options.show&&this.options.show.delay&&(l=this.delayedShow=setInterval(function(){a.is(":visible")&&(o(c.of),clearInterval(l))},t.fx.interval)),
this._trigger("open",i,{tooltip:a}),r={keyup:function(e){if(e.keyCode===t.ui.keyCode.ESCAPE){var i=t.Event(e);i.currentTarget=n[0],this.close(i,!0)}},remove:function(){this._removeTooltip(a)}},i&&"mouseover"!==i.type||(r.mouseleave="close"),i&&"focusin"!==i.type||(r.focusout="close"),this._on(!0,n,r)}},close:function(e){var n=this,s=t(e?e.currentTarget:this.element),o=this._find(s);this.closing||(clearInterval(this.delayedShow),s.data("ui-tooltip-title")&&s.attr("title",s.data("ui-tooltip-title")),i(s),o.stop(!0),this._hide(o,this.options.hide,function(){n._removeTooltip(t(this))}),s.removeData("ui-tooltip-open"),this._off(s,"mouseleave focusout keyup"),s[0]!==this.element[0]&&this._off(s,"remove"),this._off(this.document,"mousemove"),e&&"mouseleave"===e.type&&t.each(this.parents,function(e,i){t(i.element).attr("title",i.title),delete n.parents[e]}),this.closing=!0,this._trigger("close",e,{tooltip:o}),this.closing=!1)},_tooltip:function(e){var i="ui-tooltip-"+n++,s=t("<div>").attr({id:i,role:"tooltip"}).addClass("ui-tooltip ui-widget ui-corner-all ui-widget-content "+(this.options.tooltipClass||""));return t("<div>").addClass("ui-tooltip-content").appendTo(s),s.appendTo(this.document[0].body),this.tooltips[i]=e,s},_find:function(e){var i=e.data("ui-tooltip-id");return i?t("#"+i):t()},_removeTooltip:function(t){t.remove(),delete this.tooltips[t.attr("id")]},_destroy:function(){var e=this;t.each(this.tooltips,function(i,n){var s=t.Event("blur");s.target=s.currentTarget=n[0],e.close(s,!0),t("#"+i).remove(),n.data("ui-tooltip-title")&&(n.attr("title",n.data("ui-tooltip-title")),n.removeData("ui-tooltip-title"))})}})}(jQuery),function(t,e,i){function n(t){return t}function s(t){return decodeURIComponent(t.replace(o," "))}var o=/\+/g,a=t.cookie=function(o,r,l){if(r!==i){if(l=t.extend({},a.defaults,l),null===r&&(l.expires=-1),"number"==typeof l.expires){var c=l.expires,h=l.expires=new Date;h.setDate(h.getDate()+c)}return r=a.json?JSON.stringify(r):String(r),e.cookie=[encodeURIComponent(o),"=",a.raw?r:encodeURIComponent(r),l.expires?"; expires="+l.expires.toUTCString():"",l.path?"; path="+l.path:"",l.domain?"; domain="+l.domain:"",l.secure?"; secure":""].join("")}for(var u=a.raw?n:s,d=e.cookie.split("; "),p=0,f=d.length;f>p;p++){var m=d[p].split("=");if(u(m.shift())===o){var g=u(m.join("="));return a.json?JSON.parse(g):g}}return null};a.defaults={},t.removeCookie=function(e,i){return null!==t.cookie(e)?(t.cookie(e,null,i),!0):!1}}(jQuery,document),function(){var t=this,e=t._,i={},n=Array.prototype,s=Object.prototype,o=Function.prototype,a=n.push,r=n.slice,l=n.concat,c=s.toString,h=s.hasOwnProperty,u=n.forEach,d=n.map,p=n.reduce,f=n.reduceRight,m=n.filter,g=n.every,v=n.some,y=n.indexOf,b=n.lastIndexOf,_=Array.isArray,w=Object.keys,x=o.bind,k=function(t){return t instanceof k?t:this instanceof k?void(this._wrapped=t):new k(t)};"undefined"!=typeof exports?("undefined"!=typeof module&&module.exports&&(exports=module.exports=k),exports._=k):t._=k,k.VERSION="1.4.4";var C=k.each=k.forEach=function(t,e,n){if(null!=t)if(u&&t.forEach===u)t.forEach(e,n);else if(t.length===+t.length){for(var s=0,o=t.length;o>s;s++)if(e.call(n,t[s],s,t)===i)return}else for(var a in t)if(k.has(t,a)&&e.call(n,t[a],a,t)===i)return};k.map=k.collect=function(t,e,i){var n=[];return null==t?n:d&&t.map===d?t.map(e,i):(C(t,function(t,s,o){n[n.length]=e.call(i,t,s,o)}),n)};var T="Reduce of empty array with no initial value";k.reduce=k.foldl=k.inject=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),p&&t.reduce===p)return n&&(e=k.bind(e,n)),s?t.reduce(e,i):t.reduce(e);if(C(t,function(t,o,a){s?i=e.call(n,i,t,o,a):(i=t,s=!0)}),!s)throw new TypeError(T);return i},k.reduceRight=k.foldr=function(t,e,i,n){var s=arguments.length>2;if(null==t&&(t=[]),f&&t.reduceRight===f)return n&&(e=k.bind(e,n)),s?t.reduceRight(e,i):t.reduceRight(e);var o=t.length;if(o!==+o){var a=k.keys(t);o=a.length}if(C(t,function(r,l,c){l=a?a[--o]:--o,s?i=e.call(n,i,t[l],l,c):(i=t[l],s=!0)}),!s)throw new TypeError(T);return i},k.find=k.detect=function(t,e,i){var n;return S(t,function(t,s,o){return e.call(i,t,s,o)?(n=t,!0):void 0}),n},k.filter=k.select=function(t,e,i){var n=[];return null==t?n:m&&t.filter===m?t.filter(e,i):(C(t,function(t,s,o){e.call(i,t,s,o)&&(n[n.length]=t)}),n)},k.reject=function(t,e,i){return k.filter(t,function(t,n,s){return!e.call(i,t,n,s)},i)},k.every=k.all=function(t,e,n){e||(e=k.identity);var s=!0;return null==t?s:g&&t.every===g?t.every(e,n):(C(t,function(t,o,a){return(s=s&&e.call(n,t,o,a))?void 0:i}),!!s)};var S=k.some=k.any=function(t,e,n){e||(e=k.identity);var s=!1;return null==t?s:v&&t.some===v?t.some(e,n):(C(t,function(t,o,a){return s||(s=e.call(n,t,o,a))?i:void 0}),!!s)};k.contains=k.include=function(t,e){return null==t?!1:y&&t.indexOf===y?-1!=t.indexOf(e):S(t,function(t){return t===e})},k.invoke=function(t,e){var i=r.call(arguments,2),n=k.isFunction(e);return k.map(t,function(t){return(n?e:t[e]).apply(t,i)})},k.pluck=function(t,e){return k.map(t,function(t){return t[e]})},k.where=function(t,e,i){return k.isEmpty(e)?i?null:[]:k[i?"find":"filter"](t,function(t){for(var i in e)if(e[i]!==t[i])return!1;return!0})},k.findWhere=function(t,e){return k.where(t,e,!0)},k.max=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.max.apply(Math,t);if(!e&&k.isEmpty(t))return-(1/0);var n={computed:-(1/0),value:-(1/0)};return C(t,function(t,s,o){var a=e?e.call(i,t,s,o):t;a>=n.computed&&(n={value:t,computed:a})}),n.value},k.min=function(t,e,i){if(!e&&k.isArray(t)&&t[0]===+t[0]&&t.length<65535)return Math.min.apply(Math,t);if(!e&&k.isEmpty(t))return 1/0;var n={computed:1/0,value:1/0};return C(t,function(t,s,o){var a=e?e.call(i,t,s,o):t;a<n.computed&&(n={value:t,computed:a})}),n.value},k.shuffle=function(t){var e,i=0,n=[];return C(t,function(t){e=k.random(i++),n[i-1]=n[e],n[e]=t}),n};var D=function(t){return k.isFunction(t)?t:function(e){return e[t]}};k.sortBy=function(t,e,i){var n=D(e);return k.pluck(k.map(t,function(t,e,s){return{value:t,index:e,criteria:n.call(i,t,e,s)}}).sort(function(t,e){var i=t.criteria,n=e.criteria;if(i!==n){if(i>n||void 0===i)return 1;if(n>i||void 0===n)return-1}return t.index<e.index?-1:1}),"value")};var M=function(t,e,i,n){var s={},o=D(e||k.identity);return C(t,function(e,a){var r=o.call(i,e,a,t);n(s,r,e)}),s};k.groupBy=function(t,e,i){return M(t,e,i,function(t,e,i){(k.has(t,e)?t[e]:t[e]=[]).push(i)})},k.countBy=function(t,e,i){return M(t,e,i,function(t,e){k.has(t,e)||(t[e]=0),t[e]++})},k.sortedIndex=function(t,e,i,n){i=null==i?k.identity:D(i);for(var s=i.call(n,e),o=0,a=t.length;a>o;){var r=o+a>>>1;i.call(n,t[r])<s?o=r+1:a=r}return o},k.toArray=function(t){return t?k.isArray(t)?r.call(t):t.length===+t.length?k.map(t,k.identity):k.values(t):[]},k.size=function(t){return null==t?0:t.length===+t.length?t.length:k.keys(t).length},k.first=k.head=k.take=function(t,e,i){return null!=t?null==e||i?t[0]:r.call(t,0,e):void 0},k.initial=function(t,e,i){return r.call(t,0,t.length-(null==e||i?1:e))},k.last=function(t,e,i){return null!=t?null==e||i?t[t.length-1]:r.call(t,Math.max(t.length-e,0)):void 0},k.rest=k.tail=k.drop=function(t,e,i){return r.call(t,null==e||i?1:e)},k.compact=function(t){return k.filter(t,k.identity)};var E=function(t,e,i){return C(t,function(t){k.isArray(t)?e?a.apply(i,t):E(t,e,i):i.push(t)}),i};k.flatten=function(t,e){return E(t,e,[])},k.without=function(t){return k.difference(t,r.call(arguments,1))},k.uniq=k.unique=function(t,e,i,n){k.isFunction(e)&&(n=i,i=e,e=!1);var s=i?k.map(t,i,n):t,o=[],a=[];return C(s,function(i,n){(e?n&&a[a.length-1]===i:k.contains(a,i))||(a.push(i),o.push(t[n]))}),o},k.union=function(){return k.uniq(l.apply(n,arguments))},k.intersection=function(t){var e=r.call(arguments,1);return k.filter(k.uniq(t),function(t){return k.every(e,function(e){return k.indexOf(e,t)>=0})})},k.difference=function(t){var e=l.apply(n,r.call(arguments,1));return k.filter(t,function(t){return!k.contains(e,t)})},k.zip=function(){for(var t=r.call(arguments),e=k.max(k.pluck(t,"length")),i=new Array(e),n=0;e>n;n++)i[n]=k.pluck(t,""+n);return i},k.object=function(t,e){if(null==t)return{};for(var i={},n=0,s=t.length;s>n;n++)e?i[t[n]]=e[n]:i[t[n][0]]=t[n][1];return i},k.indexOf=function(t,e,i){if(null==t)return-1;var n=0,s=t.length;if(i){if("number"!=typeof i)return n=k.sortedIndex(t,e),t[n]===e?n:-1;n=0>i?Math.max(0,s+i):i}if(y&&t.indexOf===y)return t.indexOf(e,i);for(;s>n;n++)if(t[n]===e)return n;return-1},k.lastIndexOf=function(t,e,i){if(null==t)return-1;var n=null!=i;if(b&&t.lastIndexOf===b)return n?t.lastIndexOf(e,i):t.lastIndexOf(e);for(var s=n?i:t.length;s--;)if(t[s]===e)return s;return-1},k.range=function(t,e,i){arguments.length<=1&&(e=t||0,t=0),i=arguments[2]||1;for(var n=Math.max(Math.ceil((e-t)/i),0),s=0,o=new Array(n);n>s;)o[s++]=t,t+=i;return o},k.bind=function(t,e){if(t.bind===x&&x)return x.apply(t,r.call(arguments,1));var i=r.call(arguments,2);return function(){return t.apply(e,i.concat(r.call(arguments)))}},k.partial=function(t){var e=r.call(arguments,1);return function(){return t.apply(this,e.concat(r.call(arguments)))}},k.bindAll=function(t){var e=r.call(arguments,1);return 0===e.length&&(e=k.functions(t)),C(e,function(e){t[e]=k.bind(t[e],t)}),t},k.memoize=function(t,e){var i={};return e||(e=k.identity),function(){var n=e.apply(this,arguments);return k.has(i,n)?i[n]:i[n]=t.apply(this,arguments)}},k.delay=function(t,e){var i=r.call(arguments,2);return setTimeout(function(){return t.apply(null,i)},e)},k.defer=function(t){return k.delay.apply(k,[t,1].concat(r.call(arguments,1)))},k.throttle=function(t,e){var i,n,s,o,a=0,r=function(){a=new Date,s=null,o=t.apply(i,n)};return function(){var l=new Date,c=e-(l-a);return i=this,n=arguments,0>=c?(clearTimeout(s),s=null,a=l,o=t.apply(i,n)):s||(s=setTimeout(r,c)),o}},k.debounce=function(t,e,i){var n,s;return function(){var o=this,a=arguments,r=function(){n=null,i||(s=t.apply(o,a))},l=i&&!n;return clearTimeout(n),n=setTimeout(r,e),l&&(s=t.apply(o,a)),s}},k.once=function(t){var e,i=!1;return function(){return i?e:(i=!0,e=t.apply(this,arguments),t=null,e)}},k.wrap=function(t,e){return function(){var i=[t];return a.apply(i,arguments),e.apply(this,i)}},k.compose=function(){var t=arguments;return function(){for(var e=arguments,i=t.length-1;i>=0;i--)e=[t[i].apply(this,e)];return e[0]}},k.after=function(t,e){return 0>=t?e():function(){return--t<1?e.apply(this,arguments):void 0}},k.keys=w||function(t){if(t!==Object(t))throw new TypeError("Invalid object");var e=[];for(var i in t)k.has(t,i)&&(e[e.length]=i);return e},k.values=function(t){var e=[];for(var i in t)k.has(t,i)&&e.push(t[i]);return e},k.pairs=function(t){var e=[];for(var i in t)k.has(t,i)&&e.push([i,t[i]]);return e},k.invert=function(t){var e={};for(var i in t)k.has(t,i)&&(e[t[i]]=i);return e},k.functions=k.methods=function(t){var e=[];for(var i in t)k.isFunction(t[i])&&e.push(i);return e.sort()},k.extend=function(t){return C(r.call(arguments,1),function(e){if(e)for(var i in e)t[i]=e[i]}),t},k.pick=function(t){var e={},i=l.apply(n,r.call(arguments,1));return C(i,function(i){i in t&&(e[i]=t[i])}),e},k.omit=function(t){var e={},i=l.apply(n,r.call(arguments,1));for(var s in t)k.contains(i,s)||(e[s]=t[s]);return e},k.defaults=function(t){return C(r.call(arguments,1),function(e){if(e)for(var i in e)null==t[i]&&(t[i]=e[i])}),t},k.clone=function(t){return k.isObject(t)?k.isArray(t)?t.slice():k.extend({},t):t},k.tap=function(t,e){return e(t),t};var $=function(t,e,i,n){if(t===e)return 0!==t||1/t==1/e;if(null==t||null==e)return t===e;t instanceof k&&(t=t._wrapped),e instanceof k&&(e=e._wrapped);var s=c.call(t);if(s!=c.call(e))return!1;switch(s){case"[object String]":return t==String(e);case"[object Number]":return t!=+t?e!=+e:0==t?1/t==1/e:t==+e;case"[object Date]":case"[object Boolean]":return+t==+e;case"[object RegExp]":return t.source==e.source&&t.global==e.global&&t.multiline==e.multiline&&t.ignoreCase==e.ignoreCase}if("object"!=typeof t||"object"!=typeof e)return!1;for(var o=i.length;o--;)if(i[o]==t)return n[o]==e;i.push(t),n.push(e);var a=0,r=!0;if("[object Array]"==s){if(a=t.length,r=a==e.length)for(;a--&&(r=$(t[a],e[a],i,n)););}else{var l=t.constructor,h=e.constructor;if(l!==h&&!(k.isFunction(l)&&l instanceof l&&k.isFunction(h)&&h instanceof h))return!1;for(var u in t)if(k.has(t,u)&&(a++,!(r=k.has(e,u)&&$(t[u],e[u],i,n))))break;if(r){for(u in e)if(k.has(e,u)&&!a--)break;r=!a}}return i.pop(),n.pop(),r};k.isEqual=function(t,e){return $(t,e,[],[])},k.isEmpty=function(t){if(null==t)return!0;if(k.isArray(t)||k.isString(t))return 0===t.length;for(var e in t)if(k.has(t,e))return!1;return!0},k.isElement=function(t){return!(!t||1!==t.nodeType)},k.isArray=_||function(t){return"[object Array]"==c.call(t)},k.isObject=function(t){return t===Object(t)},C(["Arguments","Function","String","Number","Date","RegExp"],function(t){k["is"+t]=function(e){return c.call(e)=="[object "+t+"]"}}),k.isArguments(arguments)||(k.isArguments=function(t){return!(!t||!k.has(t,"callee"))}),"function"!=typeof/./&&(k.isFunction=function(t){return"function"==typeof t}),k.isFinite=function(t){return isFinite(t)&&!isNaN(parseFloat(t))},k.isNaN=function(t){return k.isNumber(t)&&t!=+t},k.isBoolean=function(t){return t===!0||t===!1||"[object Boolean]"==c.call(t)},k.isNull=function(t){return null===t},k.isUndefined=function(t){return void 0===t},k.has=function(t,e){return h.call(t,e)},k.noConflict=function(){return t._=e,this},k.identity=function(t){return t},k.times=function(t,e,i){for(var n=Array(t),s=0;t>s;s++)n[s]=e.call(i,s);return n},k.random=function(t,e){return null==e&&(e=t,t=0),t+Math.floor(Math.random()*(e-t+1))};var P={escape:{"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#x27;","/":"&#x2F;"}};P.unescape=k.invert(P.escape);var A={escape:new RegExp("["+k.keys(P.escape).join("")+"]","g"),unescape:new RegExp("("+k.keys(P.unescape).join("|")+")","g")};k.each(["escape","unescape"],function(t){k[t]=function(e){return null==e?"":(""+e).replace(A[t],function(e){return P[t][e]})}}),k.result=function(t,e){if(null==t)return null;var i=t[e];return k.isFunction(i)?i.call(t):i},k.mixin=function(t){C(k.functions(t),function(e){var i=k[e]=t[e];k.prototype[e]=function(){var t=[this._wrapped];return a.apply(t,arguments),O.call(this,i.apply(k,t))}})};var N=0;k.uniqueId=function(t){var e=++N+"";return t?t+e:e},k.templateSettings={evaluate:/<%([\s\S]+?)%>/g,interpolate:/<%=([\s\S]+?)%>/g,escape:/<%-([\s\S]+?)%>/g};var H=/(.)^/,I={"'":"'","\\":"\\","\r":"r","\n":"n","	":"t","\u2028":"u2028","\u2029":"u2029"},R=/\\|'|\r|\n|\t|\u2028|\u2029/g;k.template=function(t,e,i){var n;i=k.defaults({},i,k.templateSettings);var s=new RegExp([(i.escape||H).source,(i.interpolate||H).source,(i.evaluate||H).source].join("|")+"|$","g"),o=0,a="__p+='";t.replace(s,function(e,i,n,s,r){return a+=t.slice(o,r).replace(R,function(t){return"\\"+I[t]}),i&&(a+="'+\n((__t=("+i+"))==null?'':_.escape(__t))+\n'"),n&&(a+="'+\n((__t=("+n+"))==null?'':__t)+\n'"),s&&(a+="';\n"+s+"\n__p+='"),o=r+e.length,e}),a+="';\n",i.variable||(a="with(obj||{}){\n"+a+"}\n"),a="var __t,__p='',__j=Array.prototype.join,print=function(){__p+=__j.call(arguments,'');};\n"+a+"return __p;\n";try{n=new Function(i.variable||"obj","_",a)}catch(r){throw r.source=a,r}if(e)return n(e,k);var l=function(t){return n.call(this,t,k)};return l.source="function("+(i.variable||"obj")+"){\n"+a+"}",l},k.chain=function(t){return k(t).chain()};var O=function(t){return this._chain?k(t).chain():t};k.mixin(k),C(["pop","push","reverse","shift","sort","splice","unshift"],function(t){var e=n[t];k.prototype[t]=function(){var i=this._wrapped;return e.apply(i,arguments),"shift"!=t&&"splice"!=t||0!==i.length||delete i[0],O.call(this,i)}}),C(["concat","join","slice"],function(t){var e=n[t];k.prototype[t]=function(){return O.call(this,e.apply(this._wrapped,arguments))}}),k.extend(k.prototype,{chain:function(){return this._chain=!0,this},value:function(){return this._wrapped}})}.call(this),function(){function t(t,e,i){var n=e&&i||0,s=0;for(e=e||[],t.toLowerCase().replace(/[0-9a-f]{2}/g,function(t){16>s&&(e[n+s++]=d[t])});16>s;)e[n+s++]=0;return e}function e(t,e){var i=e||0,n=u;return n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+"-"+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]+n[t[i++]]}function i(t,i,n){var s=i&&n||0,o=i||[];t=t||{};var a=null!=t.clockseq?t.clockseq:g,r=null!=t.msecs?t.msecs:(new Date).getTime(),l=null!=t.nsecs?t.nsecs:y+1,c=r-v+(l-y)/1e4;if(0>c&&null==t.clockseq&&(a=a+1&16383),(0>c||r>v)&&null==t.nsecs&&(l=0),l>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");v=r,y=l,g=a,r+=122192928e5;var h=(1e4*(268435455&r)+l)%4294967296;o[s++]=h>>>24&255,o[s++]=h>>>16&255,o[s++]=h>>>8&255,o[s++]=255&h;var u=r/4294967296*1e4&268435455;o[s++]=u>>>8&255,o[s++]=255&u,o[s++]=u>>>24&15|16,o[s++]=u>>>16&255,o[s++]=a>>>8|128,o[s++]=255&a;for(var d=t.node||m,p=0;6>p;p++)o[s+p]=d[p];return i?i:e(o)}function n(t,i,n){var o=i&&n||0;"string"==typeof t&&(i="binary"==t?new h(16):null,t=null),t=t||{};var a=t.random||(t.rng||s)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,i)for(var r=0;16>r;r++)i[o+r]=a[r];return i||e(a)}var s,o=this;if("function"==typeof require)try{var a=require("crypto").randomBytes;s=a&&function(){return a(16)}}catch(r){}if(!s&&o.crypto&&crypto.getRandomValues){var l=new Uint8Array(16);s=function(){return crypto.getRandomValues(l),l}}if(!s){var c=new Array(16);s=function(){for(var t,e=0;16>e;e++)0===(3&e)&&(t=4294967296*Math.random()),c[e]=t>>>((3&e)<<3)&255;return c}}for(var h="function"==typeof Buffer?Buffer:Array,u=[],d={},p=0;256>p;p++)u[p]=(p+256).toString(16).substr(1),d[u[p]]=p;var f=s(),m=[1|f[0],f[1],f[2],f[3],f[4],f[5]],g=16383&(f[6]<<8|f[7]),v=0,y=0,b=n;if(b.v1=i,b.v4=n,b.parse=t,b.unparse=e,b.BufferClass=h,o.define&&define.amd)define(function(){return b});else if("undefined"!=typeof module&&module.exports)module.exports=b;else{var _=o.uuid;b.noConflict=function(){return o.uuid=_,b},o.uuid=b}}();var CryptoJS=CryptoJS||function(t,e){var i={},n=i.lib={},s=function(){},o=n.Base={extend:function(t){s.prototype=this;var e=new s;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var s=0;t>s;s++)e[n+s>>>2]|=(i[s>>>2]>>>24-8*(s%4)&255)<<24-8*((n+s)%4);else if(65535<i.length)for(s=0;t>s;s+=4)e[n+s>>>2]=i[s>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-8*(i%4),e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;e>n;n+=4)i.push(4294967296*t.random()|0);return new a.init(i,e)}}),r=i.enc={},l=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++){var s=e[n>>>2]>>>24-8*(n%4)&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-4*(n%8);return new a.init(i,e/2)}},c=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-8*(n%4)&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-8*(n%4);return new a.init(i,e)}},h=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,s=i.sigBytes,o=this.blockSize,r=s/(4*o),r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0);if(e=r*o,s=t.min(4*e,s),e){for(var l=0;e>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,e),i.sigBytes-=s}return new a.init(l,s)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}});var d=i.algo={};return i}(Math);!function(){var t=CryptoJS,e=t.lib,i=e.WordArray,n=e.Hasher,s=[],e=t.algo.SHA1=n.extend({_doReset:function(){this._hash=new i.init([1732584193,4023233417,2562383102,271733878,3285377520])},_doProcessBlock:function(t,e){for(var i=this._hash.words,n=i[0],o=i[1],a=i[2],r=i[3],l=i[4],c=0;80>c;c++){if(16>c)s[c]=0|t[e+c];else{var h=s[c-3]^s[c-8]^s[c-14]^s[c-16];s[c]=h<<1|h>>>31}h=(n<<5|n>>>27)+l+s[c],h=20>c?h+((o&a|~o&r)+1518500249):40>c?h+((o^a^r)+1859775393):60>c?h+((o&a|o&r|a&r)-1894007588):h+((o^a^r)-899497514),l=r,r=a,a=o<<30|o>>>2,o=n,n=h}i[0]=i[0]+n|0,i[1]=i[1]+o|0,i[2]=i[2]+a|0,i[3]=i[3]+r|0,i[4]=i[4]+l|0},_doFinalize:function(){var t=this._data,e=t.words,i=8*this._nDataBytes,n=8*t.sigBytes;return e[n>>>5]|=128<<24-n%32,e[(n+64>>>9<<4)+14]=Math.floor(i/4294967296),e[(n+64>>>9<<4)+15]=i,t.sigBytes=4*e.length,this._process(),this._hash},clone:function(){var t=n.clone.call(this);return t._hash=this._hash.clone(),t}});t.SHA1=n._createHelper(e),t.HmacSHA1=n._createHmacHelper(e)}();var CryptoJS=CryptoJS||function(t,e){var i={},n=i.lib={},s=function(){},o=n.Base={extend:function(t){s.prototype=this;var e=new s;return t&&e.mixIn(t),e.hasOwnProperty("init")||(e.init=function(){e.$super.init.apply(this,arguments)}),e.init.prototype=e,e.$super=this,e},create:function(){var t=this.extend();return t.init.apply(t,arguments),t},init:function(){},mixIn:function(t){for(var e in t)t.hasOwnProperty(e)&&(this[e]=t[e]);t.hasOwnProperty("toString")&&(this.toString=t.toString)},clone:function(){return this.init.prototype.extend(this)}},a=n.WordArray=o.extend({init:function(t,i){t=this.words=t||[],this.sigBytes=i!=e?i:4*t.length},toString:function(t){return(t||l).stringify(this)},concat:function(t){var e=this.words,i=t.words,n=this.sigBytes;if(t=t.sigBytes,this.clamp(),n%4)for(var s=0;t>s;s++)e[n+s>>>2]|=(i[s>>>2]>>>24-8*(s%4)&255)<<24-8*((n+s)%4);else if(65535<i.length)for(s=0;t>s;s+=4)e[n+s>>>2]=i[s>>>2];else e.push.apply(e,i);return this.sigBytes+=t,this},clamp:function(){var e=this.words,i=this.sigBytes;e[i>>>2]&=4294967295<<32-8*(i%4),e.length=t.ceil(i/4)},clone:function(){var t=o.clone.call(this);return t.words=this.words.slice(0),t},random:function(e){for(var i=[],n=0;e>n;n+=4)i.push(4294967296*t.random()|0);return new a.init(i,e)}}),r=i.enc={},l=r.Hex={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++){var s=e[n>>>2]>>>24-8*(n%4)&255;i.push((s>>>4).toString(16)),i.push((15&s).toString(16))}return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n+=2)i[n>>>3]|=parseInt(t.substr(n,2),16)<<24-4*(n%8);return new a.init(i,e/2)}},c=r.Latin1={stringify:function(t){var e=t.words;t=t.sigBytes;for(var i=[],n=0;t>n;n++)i.push(String.fromCharCode(e[n>>>2]>>>24-8*(n%4)&255));return i.join("")},parse:function(t){for(var e=t.length,i=[],n=0;e>n;n++)i[n>>>2]|=(255&t.charCodeAt(n))<<24-8*(n%4);return new a.init(i,e)}},h=r.Utf8={stringify:function(t){try{return decodeURIComponent(escape(c.stringify(t)))}catch(e){throw Error("Malformed UTF-8 data")}},parse:function(t){return c.parse(unescape(encodeURIComponent(t)))}},u=n.BufferedBlockAlgorithm=o.extend({reset:function(){this._data=new a.init,this._nDataBytes=0},_append:function(t){"string"==typeof t&&(t=h.parse(t)),this._data.concat(t),this._nDataBytes+=t.sigBytes},_process:function(e){var i=this._data,n=i.words,s=i.sigBytes,o=this.blockSize,r=s/(4*o),r=e?t.ceil(r):t.max((0|r)-this._minBufferSize,0);if(e=r*o,s=t.min(4*e,s),e){for(var l=0;e>l;l+=o)this._doProcessBlock(n,l);l=n.splice(0,e),i.sigBytes-=s}return new a.init(l,s)},clone:function(){var t=o.clone.call(this);return t._data=this._data.clone(),t},_minBufferSize:0});n.Hasher=u.extend({cfg:o.extend(),init:function(t){this.cfg=this.cfg.extend(t),this.reset()},reset:function(){u.reset.call(this),this._doReset()},update:function(t){return this._append(t),this._process(),this},finalize:function(t){return t&&this._append(t),this._doFinalize()},blockSize:16,_createHelper:function(t){return function(e,i){return new t.init(i).finalize(e)}},_createHmacHelper:function(t){return function(e,i){return new d.HMAC.init(t,i).finalize(e)}}});var d=i.algo={};return i}(Math);if(function(t){var e=CryptoJS,i=e.lib,n=i.Base,s=i.WordArray,e=e.x64={};e.Word=n.extend({init:function(t,e){this.high=t,this.low=e}}),e.WordArray=n.extend({init:function(e,i){e=this.words=e||[],this.sigBytes=i!=t?i:8*e.length},toX32:function(){for(var t=this.words,e=t.length,i=[],n=0;e>n;n++){var o=t[n];i.push(o.high),i.push(o.low)}return s.create(i,this.sigBytes)},clone:function(){for(var t=n.clone.call(this),e=t.words=this.words.slice(0),i=e.length,s=0;i>s;s++)e[s]=e[s].clone();return t}})}(),function(t){for(var e=CryptoJS,i=e.lib,n=i.WordArray,s=i.Hasher,o=e.x64.Word,i=e.algo,a=[],r=[],l=[],c=1,h=0,u=0;24>u;u++){a[c+5*h]=(u+1)*(u+2)/2%64;var d=(2*c+3*h)%5,c=h%5,h=d}for(c=0;5>c;c++)for(h=0;5>h;h++)r[c+5*h]=h+5*((2*c+3*h)%5);for(c=1,h=0;24>h;h++){for(var p=d=u=0;7>p;p++){if(1&c){var f=(1<<p)-1;32>f?d^=1<<f:u^=1<<f-32}c=128&c?c<<1^113:c<<1}l[h]=o.create(u,d)}for(var m=[],c=0;25>c;c++)m[c]=o.create();i=i.SHA3=s.extend({cfg:s.cfg.extend({outputLength:512}),_doReset:function(){for(var t=this._state=[],e=0;25>e;e++)t[e]=new o.init;this.blockSize=(1600-2*this.cfg.outputLength)/32},_doProcessBlock:function(t,e){for(var i=this._state,n=this.blockSize/2,s=0;n>s;s++){var o=t[e+2*s],c=t[e+2*s+1],o=16711935&(o<<8|o>>>24)|4278255360&(o<<24|o>>>8),c=16711935&(c<<8|c>>>24)|4278255360&(c<<24|c>>>8),h=i[s];h.high^=c,h.low^=o}for(n=0;24>n;n++){for(s=0;5>s;s++){for(var u=o=0,d=0;5>d;d++)h=i[s+5*d],o^=h.high,u^=h.low;h=m[s],h.high=o,h.low=u}for(s=0;5>s;s++)for(h=m[(s+4)%5],o=m[(s+1)%5],c=o.high,d=o.low,o=h.high^(c<<1|d>>>31),u=h.low^(d<<1|c>>>31),d=0;5>d;d++)h=i[s+5*d],h.high^=o,h.low^=u;for(c=1;25>c;c++)h=i[c],s=h.high,h=h.low,d=a[c],32>d?(o=s<<d|h>>>32-d,u=h<<d|s>>>32-d):(o=h<<d-32|s>>>64-d,u=s<<d-32|h>>>64-d),h=m[r[c]],h.high=o,h.low=u;for(h=m[0],s=i[0],h.high=s.high,h.low=s.low,s=0;5>s;s++)for(d=0;5>d;d++)c=s+5*d,h=i[c],o=m[c],c=m[(s+1)%5+5*d],u=m[(s+2)%5+5*d],h.high=o.high^~c.high&u.high,h.low=o.low^~c.low&u.low;h=i[0],s=l[n],h.high^=s.high,h.low^=s.low}},_doFinalize:function(){var e=this._data,i=e.words,s=8*e.sigBytes,o=32*this.blockSize;i[s>>>5]|=1<<24-s%32,i[(t.ceil((s+1)/o)*o>>>5)-1]|=128,e.sigBytes=4*i.length,this._process();for(var e=this._state,i=this.cfg.outputLength/8,s=i/8,o=[],a=0;s>a;a++){var r=e[a],l=r.high,r=r.low,l=16711935&(l<<8|l>>>24)|4278255360&(l<<24|l>>>8),r=16711935&(r<<8|r>>>24)|4278255360&(r<<24|r>>>8);o.push(r),o.push(l)}return new n.init(o,i)},clone:function(){for(var t=s.clone.call(this),e=t._state=this._state.slice(0),i=0;25>i;i++)e[i]=e[i].clone();return t}}),e.SHA3=s._createHelper(i),e.HmacSHA3=s._createHmacHelper(i)}(Math),function(){if("function"==typeof ArrayBuffer){var t=CryptoJS.lib.WordArray,e=t.init;(t.init=function(t){if(t instanceof ArrayBuffer&&(t=new Uint8Array(t)),(t instanceof Int8Array||t instanceof Uint8ClampedArray||t instanceof Int16Array||t instanceof Uint16Array||t instanceof Int32Array||t instanceof Uint32Array||t instanceof Float32Array||t instanceof Float64Array)&&(t=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)),t instanceof Uint8Array){for(var i=t.byteLength,n=[],s=0;i>s;s++)n[s>>>2]|=t[s]<<24-8*(s%4);e.call(this,n,i)}else e.apply(this,arguments)}).prototype=t}}(),function(){function t(t){var i=!1;return function(){if(i)throw new Error("Callback was already called.");i=!0,t.apply(e,arguments)}}var e,i,n={};e=this,null!=e&&(i=e.async),n.noConflict=function(){return e.async=i,n};var s=function(t,e){if(t.forEach)return t.forEach(e);for(var i=0;i<t.length;i+=1)e(t[i],i,t)},o=function(t,e){if(t.map)return t.map(e);var i=[];return s(t,function(t,n,s){i.push(e(t,n,s))}),i},a=function(t,e,i){return t.reduce?t.reduce(e,i):(s(t,function(t,n,s){i=e(i,t,n,s)}),i)},r=function(t){if(Object.keys)return Object.keys(t);var e=[];for(var i in t)t.hasOwnProperty(i)&&e.push(i);return e};"undefined"!=typeof process&&process.nextTick?(n.nextTick=process.nextTick,"undefined"!=typeof setImmediate?n.setImmediate=setImmediate:n.setImmediate=n.nextTick):"function"==typeof setImmediate?(n.nextTick=function(t){setImmediate(t)},n.setImmediate=n.nextTick):(n.nextTick=function(t){setTimeout(t,0)},n.setImmediate=n.nextTick),n.each=function(e,i,n){if(n=n||function(){},!e.length)return n();var o=0;s(e,function(s){i(s,t(function(t){t?(n(t),n=function(){}):(o+=1,o>=e.length&&n(null))}))})},n.forEach=n.each,n.eachSeries=function(t,e,i){if(i=i||function(){},!t.length)return i();var n=0,s=function(){e(t[n],function(e){e?(i(e),i=function(){}):(n+=1,n>=t.length?i(null):s())})};s()},n.forEachSeries=n.eachSeries,n.eachLimit=function(t,e,i,n){var s=l(e);s.apply(null,[t,i,n])},n.forEachLimit=n.eachLimit;var l=function(t){return function(e,i,n){if(n=n||function(){},!e.length||0>=t)return n();var s=0,o=0,a=0;!function r(){if(s>=e.length)return n();for(;t>a&&o<e.length;)o+=1,a+=1,i(e[o-1],function(t){t?(n(t),n=function(){}):(s+=1,a-=1,s>=e.length?n():r())})}()}},c=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[n.each].concat(e))}},h=function(t,e){return function(){var i=Array.prototype.slice.call(arguments);return e.apply(null,[l(t)].concat(i))}},u=function(t){return function(){var e=Array.prototype.slice.call(arguments);return t.apply(null,[n.eachSeries].concat(e))}},d=function(t,e,i,n){var s=[];e=o(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i,n){s[t.index]=n,e(i)})},function(t){n(t,s)})};n.map=c(d),n.mapSeries=u(d),n.mapLimit=function(t,e,i,n){return p(e)(t,i,n)};var p=function(t){return h(t,d)};n.reduce=function(t,e,i,s){n.eachSeries(t,function(t,n){i(e,t,function(t,i){e=i,n(t)})},function(t){s(t,e)})},n.inject=n.reduce,n.foldl=n.reduce,n.reduceRight=function(t,e,i,s){var a=o(t,function(t){return t}).reverse();n.reduce(a,e,i,s)},n.foldr=n.reduceRight;var f=function(t,e,i,n){var s=[];e=o(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i&&s.push(t),e()})},function(t){n(o(s.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};n.filter=c(f),n.filterSeries=u(f),n.select=n.filter,n.selectSeries=n.filterSeries;var m=function(t,e,i,n){var s=[];e=o(e,function(t,e){return{index:e,value:t}}),t(e,function(t,e){i(t.value,function(i){i||s.push(t),e()})},function(t){n(o(s.sort(function(t,e){return t.index-e.index}),function(t){return t.value}))})};n.reject=c(m),n.rejectSeries=u(m);var g=function(t,e,i,n){t(e,function(t,e){i(t,function(i){i?(n(t),n=function(){}):e()})},function(t){n()})};n.detect=c(g),n.detectSeries=u(g),n.some=function(t,e,i){n.each(t,function(t,n){e(t,function(t){t&&(i(!0),i=function(){}),n()})},function(t){i(!1)})},n.any=n.some,n.every=function(t,e,i){n.each(t,function(t,n){e(t,function(t){t||(i(!1),i=function(){}),n()})},function(t){
i(!0)})},n.all=n.every,n.sortBy=function(t,e,i){n.map(t,function(t,i){e(t,function(e,n){e?i(e):i(null,{value:t,criteria:n})})},function(t,e){if(t)return i(t);var n=function(t,e){var i=t.criteria,n=e.criteria;return n>i?-1:i>n?1:0};i(null,o(e.sort(n),function(t){return t.value}))})},n.auto=function(t,e){e=e||function(){};var i=r(t);if(!i.length)return e(null);var o={},l=[],c=function(t){l.unshift(t)},h=function(t){for(var e=0;e<l.length;e+=1)if(l[e]===t)return void l.splice(e,1)},u=function(){s(l.slice(0),function(t){t()})};c(function(){r(o).length===i.length&&(e(null,o),e=function(){})}),s(i,function(i){var l=t[i]instanceof Function?[t[i]]:t[i],d=function(t){var a=Array.prototype.slice.call(arguments,1);if(a.length<=1&&(a=a[0]),t){var l={};s(r(o),function(t){l[t]=o[t]}),l[i]=a,e(t,l),e=function(){}}else o[i]=a,n.setImmediate(u)},p=l.slice(0,Math.abs(l.length-1))||[],f=function(){return a(p,function(t,e){return t&&o.hasOwnProperty(e)},!0)&&!o.hasOwnProperty(i)};if(f())l[l.length-1](d,o);else{var m=function(){f()&&(h(m),l[l.length-1](d,o))};c(m)}})},n.waterfall=function(t,e){if(e=e||function(){},t.constructor!==Array){var i=new Error("First argument to waterfall must be an array of functions");return e(i)}if(!t.length)return e();var s=function(t){return function(i){if(i)e.apply(null,arguments),e=function(){};else{var o=Array.prototype.slice.call(arguments,1),a=t.next();a?o.push(s(a)):o.push(e),n.setImmediate(function(){t.apply(null,o)})}}};s(n.iterator(t))()};var v=function(t,e,i){if(i=i||function(){},e.constructor===Array)t.map(e,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},i);else{var n={};t.each(r(e),function(t,i){e[t](function(e){var s=Array.prototype.slice.call(arguments,1);s.length<=1&&(s=s[0]),n[t]=s,i(e)})},function(t){i(t,n)})}};n.parallel=function(t,e){v({map:n.map,each:n.each},t,e)},n.parallelLimit=function(t,e,i){v({map:p(e),each:l(e)},t,i)},n.series=function(t,e){if(e=e||function(){},t.constructor===Array)n.mapSeries(t,function(t,e){t&&t(function(t){var i=Array.prototype.slice.call(arguments,1);i.length<=1&&(i=i[0]),e.call(null,t,i)})},e);else{var i={};n.eachSeries(r(t),function(e,n){t[e](function(t){var s=Array.prototype.slice.call(arguments,1);s.length<=1&&(s=s[0]),i[e]=s,n(t)})},function(t){e(t,i)})}},n.iterator=function(t){var e=function(i){var n=function(){return t.length&&t[i].apply(null,arguments),n.next()};return n.next=function(){return i<t.length-1?e(i+1):null},n};return e(0)},n.apply=function(t){var e=Array.prototype.slice.call(arguments,1);return function(){return t.apply(null,e.concat(Array.prototype.slice.call(arguments)))}};var y=function(t,e,i,n){var s=[];t(e,function(t,e){i(t,function(t,i){s=s.concat(i||[]),e(t)})},function(t){n(t,s)})};n.concat=c(y),n.concatSeries=u(y),n.whilst=function(t,e,i){t()?e(function(s){return s?i(s):void n.whilst(t,e,i)}):i()},n.doWhilst=function(t,e,i){t(function(s){return s?i(s):void(e()?n.doWhilst(t,e,i):i())})},n.until=function(t,e,i){t()?i():e(function(s){return s?i(s):void n.until(t,e,i)})},n.doUntil=function(t,e,i){t(function(s){return s?i(s):void(e()?i():n.doUntil(t,e,i))})},n.queue=function(e,i){function o(t,e,o,a){e.constructor!==Array&&(e=[e]),s(e,function(e){var s={data:e,callback:"function"==typeof a?a:null};o?t.tasks.unshift(s):t.tasks.push(s),t.saturated&&t.tasks.length===i&&t.saturated(),n.setImmediate(t.process)})}void 0===i&&(i=1);var a=0,r={tasks:[],concurrency:i,saturated:null,empty:null,drain:null,push:function(t,e){o(r,t,!1,e)},unshift:function(t,e){o(r,t,!0,e)},process:function(){if(a<r.concurrency&&r.tasks.length){var i=r.tasks.shift();r.empty&&0===r.tasks.length&&r.empty(),a+=1;var n=function(){a-=1,i.callback&&i.callback.apply(i,arguments),r.drain&&r.tasks.length+a===0&&r.drain(),r.process()},s=t(n);e(i.data,s)}},length:function(){return r.tasks.length},running:function(){return a}};return r},n.cargo=function(t,e){var i=!1,a=[],r={tasks:a,payload:e,saturated:null,empty:null,drain:null,push:function(t,i){t.constructor!==Array&&(t=[t]),s(t,function(t){a.push({data:t,callback:"function"==typeof i?i:null}),r.saturated&&a.length===e&&r.saturated()}),n.setImmediate(r.process)},process:function l(){if(!i){if(0===a.length)return void(r.drain&&r.drain());var n="number"==typeof e?a.splice(0,e):a.splice(0),c=o(n,function(t){return t.data});r.empty&&r.empty(),i=!0,t(c,function(){i=!1;var t=arguments;s(n,function(e){e.callback&&e.callback.apply(null,t)}),l()})}},length:function(){return a.length},running:function(){return i}};return r};var b=function(t){return function(e){var i=Array.prototype.slice.call(arguments,1);e.apply(null,i.concat([function(e){var i=Array.prototype.slice.call(arguments,1);"undefined"!=typeof console&&(e?console.error&&console.error(e):console[t]&&s(i,function(e){console[t](e)}))}]))}};n.log=b("log"),n.dir=b("dir"),n.memoize=function(t,e){var i={},n={};e=e||function(t){return t};var s=function(){var s=Array.prototype.slice.call(arguments),o=s.pop(),a=e.apply(null,s);a in i?o.apply(null,i[a]):a in n?n[a].push(o):(n[a]=[o],t.apply(null,s.concat([function(){i[a]=arguments;var t=n[a];delete n[a];for(var e=0,s=t.length;s>e;e++)t[e].apply(null,arguments)}])))};return s.memo=i,s.unmemoized=t,s},n.unmemoize=function(t){return function(){return(t.unmemoized||t).apply(null,arguments)}},n.times=function(t,e,i){for(var s=[],o=0;t>o;o++)s.push(o);return n.map(s,e,i)},n.timesSeries=function(t,e,i){for(var s=[],o=0;t>o;o++)s.push(o);return n.mapSeries(s,e,i)},n.compose=function(){var t=Array.prototype.reverse.call(arguments);return function(){var e=this,i=Array.prototype.slice.call(arguments),s=i.pop();n.reduce(t,i,function(t,i,n){i.apply(e,t.concat([function(){var t=arguments[0],e=Array.prototype.slice.call(arguments,1);n(t,e)}]))},function(t,i){s.apply(e,[t].concat(i))})}};var _=function(t,e){var i=function(){var i=this,n=Array.prototype.slice.call(arguments),s=n.pop();return t(e,function(t,e){t.apply(i,n.concat([e]))},s)};if(arguments.length>2){var n=Array.prototype.slice.call(arguments,2);return i.apply(this,n)}return i};n.applyEach=c(_),n.applyEachSeries=u(_),n.forever=function(t,e){function i(n){if(n){if(e)return e(n);throw n}t(i)}i()},"undefined"!=typeof define&&define.amd?define([],function(){return n}):"undefined"!=typeof module&&module.exports?module.exports=n:e.async=n}(),function(t){function e(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function i(t,e){return function(i){return h(t.call(this,i),e)}}function n(t,e){return function(i){return this.lang().ordinal(t.call(this,i),e)}}function s(){}function o(t){x(t),r(this,t)}function a(t){var e=g(t),i=e.year||0,n=e.month||0,s=e.week||0,o=e.day||0,a=e.hour||0,r=e.minute||0,l=e.second||0,c=e.millisecond||0;this._milliseconds=+c+1e3*l+6e4*r+36e5*a,this._days=+o+7*s,this._months=+n+12*i,this._data={},this._bubble()}function r(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return e.hasOwnProperty("toString")&&(t.toString=e.toString),e.hasOwnProperty("valueOf")&&(t.valueOf=e.valueOf),t}function l(t){var e,i={};for(e in t)t.hasOwnProperty(e)&&gt.hasOwnProperty(e)&&(i[e]=t[e]);return i}function c(t){return 0>t?Math.ceil(t):Math.floor(t)}function h(t,e,i){for(var n=""+Math.abs(t),s=t>=0;n.length<e;)n="0"+n;return(s?i?"+":"":"-")+n}function u(t,e,i,n){var s,o,a=e._milliseconds,r=e._days,l=e._months;a&&t._d.setTime(+t._d+a*i),(r||l)&&(s=t.minute(),o=t.hour()),r&&t.date(t.date()+r*i),l&&t.month(t.month()+l*i),a&&!n&&nt.updateOffset(t),(r||l)&&(t.minute(s),t.hour(o))}function d(t){return"[object Array]"===Object.prototype.toString.call(t)}function p(t){return"[object Date]"===Object.prototype.toString.call(t)||t instanceof Date}function f(t,e,i){var n,s=Math.min(t.length,e.length),o=Math.abs(t.length-e.length),a=0;for(n=0;s>n;n++)(i&&t[n]!==e[n]||!i&&y(t[n])!==y(e[n]))&&a++;return a+o}function m(t){if(t){var e=t.toLowerCase().replace(/(.)s$/,"$1");t=qt[t]||Vt[e]||e}return t}function g(t){var e,i,n={};for(i in t)t.hasOwnProperty(i)&&(e=m(i),e&&(n[e]=t[i]));return n}function v(e){var i,n;if(0===e.indexOf("week"))i=7,n="day";else{if(0!==e.indexOf("month"))return;i=12,n="month"}nt[e]=function(s,o){var a,r,l=nt.fn._lang[e],c=[];if("number"==typeof s&&(o=s,s=t),r=function(t){var e=nt().utc().set(n,t);return l.call(nt.fn._lang,e,s||"")},null!=o)return r(o);for(a=0;i>a;a++)c.push(r(a));return c}}function y(t){var e=+t,i=0;return 0!==e&&isFinite(e)&&(i=e>=0?Math.floor(e):Math.ceil(e)),i}function b(t,e){return new Date(Date.UTC(t,e+1,0)).getUTCDate()}function _(t){return w(t)?366:365}function w(t){return t%4===0&&t%100!==0||t%400===0}function x(t){var e;t._a&&-2===t._pf.overflow&&(e=t._a[ct]<0||t._a[ct]>11?ct:t._a[ht]<1||t._a[ht]>b(t._a[lt],t._a[ct])?ht:t._a[ut]<0||t._a[ut]>23?ut:t._a[dt]<0||t._a[dt]>59?dt:t._a[pt]<0||t._a[pt]>59?pt:t._a[ft]<0||t._a[ft]>999?ft:-1,t._pf._overflowDayOfYear&&(lt>e||e>ht)&&(e=ht),t._pf.overflow=e)}function k(t){return null==t._isValid&&(t._isValid=!isNaN(t._d.getTime())&&t._pf.overflow<0&&!t._pf.empty&&!t._pf.invalidMonth&&!t._pf.nullInput&&!t._pf.invalidFormat&&!t._pf.userInvalidated,t._strict&&(t._isValid=t._isValid&&0===t._pf.charsLeftOver&&0===t._pf.unusedTokens.length)),t._isValid}function C(t){return t?t.toLowerCase().replace("_","-"):t}function T(t,e){return e._isUTC?nt(t).zone(e._offset||0):nt(t).local()}function S(t,e){return e.abbr=t,mt[t]||(mt[t]=new s),mt[t].set(e),mt[t]}function D(t){delete mt[t]}function M(t){var e,i,n,s,o=0,a=function(t){if(!mt[t]&&vt)try{require("./lang/"+t)}catch(e){}return mt[t]};if(!t)return nt.fn._lang;if(!d(t)){if(i=a(t))return i;t=[t]}for(;o<t.length;){for(s=C(t[o]).split("-"),e=s.length,n=C(t[o+1]),n=n?n.split("-"):null;e>0;){if(i=a(s.slice(0,e).join("-")))return i;if(n&&n.length>=e&&f(s,n,!0)>=e-1)break;e--}o++}return nt.fn._lang}function E(t){return t.match(/\[[\s\S]/)?t.replace(/^\[|\]$/g,""):t.replace(/\\/g,"")}function $(t){var e,i,n=t.match(wt);for(e=0,i=n.length;i>e;e++)n[e]=Kt[n[e]]?Kt[n[e]]:E(n[e]);return function(s){var o="";for(e=0;i>e;e++)o+=n[e]instanceof Function?n[e].call(s,t):n[e];return o}}function P(t,e){return t.isValid()?(e=A(e,t.lang()),Ut[e]||(Ut[e]=$(e)),Ut[e](t)):t.lang().invalidDate()}function A(t,e){function i(t){return e.longDateFormat(t)||t}var n=5;for(xt.lastIndex=0;n>=0&&xt.test(t);)t=t.replace(xt,i),xt.lastIndex=0,n-=1;return t}function N(t,e){var i,n=e._strict;switch(t){case"DDDD":return Ht;case"YYYY":case"GGGG":case"gggg":return n?It:Tt;case"Y":case"G":case"g":return Ot;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return n?Rt:St;case"S":if(n)return At;case"SS":if(n)return Nt;case"SSS":if(n)return Ht;case"DDD":return Ct;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return Mt;case"a":case"A":return M(e._l)._meridiemParse;case"X":return Pt;case"Z":case"ZZ":return Et;case"T":return $t;case"SSSS":return Dt;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return n?Nt:kt;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return kt;default:return i=new RegExp(W(F(t.replace("\\","")),"i"))}}function H(t){t=t||"";var e=t.match(Et)||[],i=e[e.length-1]||[],n=(i+"").match(jt)||["-",0,0],s=+(60*n[1])+y(n[2]);return"+"===n[0]?-s:s}function I(t,e,i){var n,s=i._a;switch(t){case"M":case"MM":null!=e&&(s[ct]=y(e)-1);break;case"MMM":case"MMMM":n=M(i._l).monthsParse(e),null!=n?s[ct]=n:i._pf.invalidMonth=e;break;case"D":case"DD":null!=e&&(s[ht]=y(e));break;case"DDD":case"DDDD":null!=e&&(i._dayOfYear=y(e));break;case"YY":s[lt]=y(e)+(y(e)>68?1900:2e3);break;case"YYYY":case"YYYYY":case"YYYYYY":s[lt]=y(e);break;case"a":case"A":i._isPm=M(i._l).isPM(e);break;case"H":case"HH":case"h":case"hh":s[ut]=y(e);break;case"m":case"mm":s[dt]=y(e);break;case"s":case"ss":s[pt]=y(e);break;case"S":case"SS":case"SSS":case"SSSS":s[ft]=y(1e3*("0."+e));break;case"X":i._d=new Date(1e3*parseFloat(e));break;case"Z":case"ZZ":i._useUTC=!0,i._tzm=H(e);break;case"w":case"ww":case"W":case"WW":case"d":case"dd":case"ddd":case"dddd":case"e":case"E":t=t.substr(0,1);case"gg":case"gggg":case"GG":case"GGGG":case"GGGGG":t=t.substr(0,2),e&&(i._w=i._w||{},i._w[t]=e)}}function R(t){var e,i,n,s,o,a,r,l,c,h,u=[];if(!t._d){for(n=L(t),t._w&&null==t._a[ht]&&null==t._a[ct]&&(o=function(e){var i=parseInt(e,10);return e?e.length<3?i>68?1900+i:2e3+i:i:null==t._a[lt]?nt().weekYear():t._a[lt]},a=t._w,null!=a.GG||null!=a.W||null!=a.E?r=Q(o(a.GG),a.W||1,a.E,4,1):(l=M(t._l),c=null!=a.d?U(a.d,l):null!=a.e?parseInt(a.e,10)+l._week.dow:0,h=parseInt(a.w,10)||1,null!=a.d&&c<l._week.dow&&h++,r=Q(o(a.gg),h,c,l._week.doy,l._week.dow)),t._a[lt]=r.year,t._dayOfYear=r.dayOfYear),t._dayOfYear&&(s=null==t._a[lt]?n[lt]:t._a[lt],t._dayOfYear>_(s)&&(t._pf._overflowDayOfYear=!0),i=V(s,0,t._dayOfYear),t._a[ct]=i.getUTCMonth(),t._a[ht]=i.getUTCDate()),e=0;3>e&&null==t._a[e];++e)t._a[e]=u[e]=n[e];for(;7>e;e++)t._a[e]=u[e]=null==t._a[e]?2===e?1:0:t._a[e];u[ut]+=y((t._tzm||0)/60),u[dt]+=y((t._tzm||0)%60),t._d=(t._useUTC?V:q).apply(null,u)}}function O(t){var e;t._d||(e=g(t._i),t._a=[e.year,e.month,e.day,e.hour,e.minute,e.second,e.millisecond],R(t))}function L(t){var e=new Date;return t._useUTC?[e.getUTCFullYear(),e.getUTCMonth(),e.getUTCDate()]:[e.getFullYear(),e.getMonth(),e.getDate()]}function z(t){t._a=[],t._pf.empty=!0;var e,i,n,s,o,a=M(t._l),r=""+t._i,l=r.length,c=0;for(n=A(t._f,a).match(wt)||[],e=0;e<n.length;e++)s=n[e],i=(r.match(N(s,t))||[])[0],i&&(o=r.substr(0,r.indexOf(i)),o.length>0&&t._pf.unusedInput.push(o),r=r.slice(r.indexOf(i)+i.length),c+=i.length),Kt[s]?(i?t._pf.empty=!1:t._pf.unusedTokens.push(s),I(s,i,t)):t._strict&&!i&&t._pf.unusedTokens.push(s);t._pf.charsLeftOver=l-c,r.length>0&&t._pf.unusedInput.push(r),t._isPm&&t._a[ut]<12&&(t._a[ut]+=12),t._isPm===!1&&12===t._a[ut]&&(t._a[ut]=0),R(t),x(t)}function F(t){return t.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(t,e,i,n,s){return e||i||n||s})}function W(t){return t.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function j(t){var i,n,s,o,a;if(0===t._f.length)return t._pf.invalidFormat=!0,void(t._d=new Date(NaN));for(o=0;o<t._f.length;o++)a=0,i=r({},t),i._pf=e(),i._f=t._f[o],z(i),k(i)&&(a+=i._pf.charsLeftOver,a+=10*i._pf.unusedTokens.length,i._pf.score=a,(null==s||s>a)&&(s=a,n=i));r(t,n||i)}function B(t){var e,i,n=t._i,s=Lt.exec(n);if(s){for(t._pf.iso=!0,e=0,i=Ft.length;i>e;e++)if(Ft[e][1].exec(n)){t._f=Ft[e][0]+(s[6]||" ");break}for(e=0,i=Wt.length;i>e;e++)if(Wt[e][1].exec(n)){t._f+=Wt[e][0];break}n.match(Et)&&(t._f+="Z"),z(t)}else t._d=new Date(n)}function Y(e){var i=e._i,n=yt.exec(i);i===t?e._d=new Date:n?e._d=new Date(+n[1]):"string"==typeof i?B(e):d(i)?(e._a=i.slice(0),R(e)):p(i)?e._d=new Date(+i):"object"==typeof i?O(e):e._d=new Date(i)}function q(t,e,i,n,s,o,a){var r=new Date(t,e,i,n,s,o,a);return 1970>t&&r.setFullYear(t),r}function V(t){var e=new Date(Date.UTC.apply(null,arguments));return 1970>t&&e.setUTCFullYear(t),e}function U(t,e){if("string"==typeof t)if(isNaN(t)){if(t=e.weekdaysParse(t),"number"!=typeof t)return null}else t=parseInt(t,10);return t}function X(t,e,i,n,s){return s.relativeTime(e||1,!!i,t,n)}function G(t,e,i){var n=rt(Math.abs(t)/1e3),s=rt(n/60),o=rt(s/60),a=rt(o/24),r=rt(a/365),l=45>n&&["s",n]||1===s&&["m"]||45>s&&["mm",s]||1===o&&["h"]||22>o&&["hh",o]||1===a&&["d"]||25>=a&&["dd",a]||45>=a&&["M"]||345>a&&["MM",rt(a/30)]||1===r&&["y"]||["yy",r];return l[2]=e,l[3]=t>0,l[4]=i,X.apply({},l)}function K(t,e,i){var n,s=i-e,o=i-t.day();return o>s&&(o-=7),s-7>o&&(o+=7),n=nt(t).add("d",o),{week:Math.ceil(n.dayOfYear()/7),year:n.year()}}function Q(t,e,i,n,s){var o,a,r=V(t,0,1).getUTCDay();return i=null!=i?i:s,o=s-r+(r>n?7:0)-(s>r?7:0),a=7*(e-1)+(i-s)+o+1,{year:a>0?t:t-1,dayOfYear:a>0?a:_(t-1)+a}}function J(t){var e=t._i,i=t._f;return null===e?nt.invalid({nullInput:!0}):("string"==typeof e&&(t._i=e=M().preparse(e)),nt.isMoment(e)?(t=l(e),t._d=new Date(+e._d)):i?d(i)?j(t):z(t):Y(t),new o(t))}function Z(t,e){nt.fn[t]=nt.fn[t+"s"]=function(t){var i=this._isUTC?"UTC":"";return null!=t?(this._d["set"+i+e](t),nt.updateOffset(this),this):this._d["get"+i+e]()}}function tt(t){nt.duration.fn[t]=function(){return this._data[t]}}function et(t,e){nt.duration.fn["as"+t]=function(){return+this/e}}function it(t){var e=!1,i=nt;"undefined"==typeof ender&&(t?(at.moment=function(){return!e&&console&&console.warn&&(e=!0,console.warn("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.")),i.apply(null,arguments)},r(at.moment,i)):at.moment=nt)}for(var nt,st,ot="2.5.1",at=this,rt=Math.round,lt=0,ct=1,ht=2,ut=3,dt=4,pt=5,ft=6,mt={},gt={_isAMomentObject:null,_i:null,_f:null,_l:null,_strict:null,_isUTC:null,_offset:null,_pf:null,_lang:null},vt="undefined"!=typeof module&&module.exports&&"undefined"!=typeof require,yt=/^\/?Date\((\-?\d+)/i,bt=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,_t=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,wt=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|X|zz?|ZZ?|.)/g,xt=/(\[[^\[]*\])|(\\)?(LT|LL?L?L?|l{1,4})/g,kt=/\d\d?/,Ct=/\d{1,3}/,Tt=/\d{1,4}/,St=/[+\-]?\d{1,6}/,Dt=/\d+/,Mt=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,Et=/Z|[\+\-]\d\d:?\d\d/gi,$t=/T/i,Pt=/[\+\-]?\d+(\.\d{1,3})?/,At=/\d/,Nt=/\d\d/,Ht=/\d{3}/,It=/\d{4}/,Rt=/[+-]?\d{6}/,Ot=/[+-]?\d+/,Lt=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,zt="YYYY-MM-DDTHH:mm:ssZ",Ft=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],Wt=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d{1,3}/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],jt=/([\+\-]|\d\d)/gi,Bt="Date|Hours|Minutes|Seconds|Milliseconds".split("|"),Yt={Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6},qt={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},Vt={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},Ut={},Xt="DDD w W M D d".split(" "),Gt="M D H h m s w W".split(" "),Kt={M:function(){return this.month()+1},MMM:function(t){return this.lang().monthsShort(this,t)},MMMM:function(t){return this.lang().months(this,t)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(t){return this.lang().weekdaysMin(this,t)},ddd:function(t){return this.lang().weekdaysShort(this,t)},dddd:function(t){return this.lang().weekdays(this,t)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return h(this.year()%100,2)},YYYY:function(){return h(this.year(),4)},YYYYY:function(){return h(this.year(),5)},YYYYYY:function(){var t=this.year(),e=t>=0?"+":"-";return e+h(Math.abs(t),6)},gg:function(){return h(this.weekYear()%100,2)},gggg:function(){return h(this.weekYear(),4)},ggggg:function(){return h(this.weekYear(),5)},GG:function(){return h(this.isoWeekYear()%100,2)},GGGG:function(){return h(this.isoWeekYear(),4)},GGGGG:function(){return h(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.lang().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.lang().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return y(this.milliseconds()/100)},SS:function(){return h(y(this.milliseconds()/10),2)},SSS:function(){return h(this.milliseconds(),3)},SSSS:function(){return h(this.milliseconds(),3)},Z:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(y(t/60),2)+":"+h(y(t)%60,2)},ZZ:function(){var t=-this.zone(),e="+";return 0>t&&(t=-t,e="-"),e+h(y(t/60),2)+h(y(t)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},X:function(){return this.unix()},Q:function(){return this.quarter()}},Qt=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"];Xt.length;)st=Xt.pop(),Kt[st+"o"]=n(Kt[st],st);for(;Gt.length;)st=Gt.pop(),Kt[st+st]=i(Kt[st],2);for(Kt.DDDD=i(Kt.DDD,3),r(s.prototype,{set:function(t){var e,i;for(i in t)e=t[i],"function"==typeof e?this[i]=e:this["_"+i]=e},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(t){return this._months[t.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(t){return this._monthsShort[t.month()]},monthsParse:function(t){var e,i,n;for(this._monthsParse||(this._monthsParse=[]),e=0;12>e;e++)if(this._monthsParse[e]||(i=nt.utc([2e3,e]),n="^"+this.months(i,"")+"|^"+this.monthsShort(i,""),this._monthsParse[e]=new RegExp(n.replace(".",""),"i")),this._monthsParse[e].test(t))return e},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(t){return this._weekdays[t.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(t){return this._weekdaysShort[t.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(t){return this._weekdaysMin[t.day()]},weekdaysParse:function(t){var e,i,n;for(this._weekdaysParse||(this._weekdaysParse=[]),e=0;7>e;e++)if(this._weekdaysParse[e]||(i=nt([2e3,1]).day(e),n="^"+this.weekdays(i,"")+"|^"+this.weekdaysShort(i,"")+"|^"+this.weekdaysMin(i,""),this._weekdaysParse[e]=new RegExp(n.replace(".",""),"i")),this._weekdaysParse[e].test(t))return e},_longDateFormat:{LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D YYYY",LLL:"MMMM D YYYY LT",LLLL:"dddd, MMMM D YYYY LT"},longDateFormat:function(t){var e=this._longDateFormat[t];return!e&&this._longDateFormat[t.toUpperCase()]&&(e=this._longDateFormat[t.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(t){return t.slice(1)}),this._longDateFormat[t]=e),e},isPM:function(t){return"p"===(t+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(t,e,i){return t>11?i?"pm":"PM":i?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(t,e){var i=this._calendar[t];return"function"==typeof i?i.apply(e):i},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(t,e,i,n){var s=this._relativeTime[i];return"function"==typeof s?s(t,e,i,n):s.replace(/%d/i,t)},pastFuture:function(t,e){var i=this._relativeTime[t>0?"future":"past"];return"function"==typeof i?i(e):i.replace(/%s/i,e)},ordinal:function(t){return this._ordinal.replace("%d",t)},_ordinal:"%d",preparse:function(t){return t},postformat:function(t){return t},week:function(t){return K(t,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),nt=function(i,n,s,o){var a;return"boolean"==typeof s&&(o=s,s=t),a={},a._isAMomentObject=!0,a._i=i,a._f=n,a._l=s,a._strict=o,a._isUTC=!1,a._pf=e(),J(a)},nt.utc=function(i,n,s,o){var a;return"boolean"==typeof s&&(o=s,s=t),a={},a._isAMomentObject=!0,a._useUTC=!0,a._isUTC=!0,a._l=s,a._i=i,a._f=n,a._strict=o,a._pf=e(),J(a).utc()},nt.unix=function(t){return nt(1e3*t)},nt.duration=function(t,e){var i,n,s,o=t,r=null;return nt.isDuration(t)?o={ms:t._milliseconds,d:t._days,M:t._months}:"number"==typeof t?(o={},e?o[e]=t:o.milliseconds=t):(r=bt.exec(t))?(i="-"===r[1]?-1:1,o={y:0,d:y(r[ht])*i,h:y(r[ut])*i,m:y(r[dt])*i,s:y(r[pt])*i,ms:y(r[ft])*i}):(r=_t.exec(t))&&(i="-"===r[1]?-1:1,s=function(t){var e=t&&parseFloat(t.replace(",","."));return(isNaN(e)?0:e)*i},o={y:s(r[2]),M:s(r[3]),d:s(r[4]),h:s(r[5]),m:s(r[6]),s:s(r[7]),w:s(r[8])}),n=new a(o),nt.isDuration(t)&&t.hasOwnProperty("_lang")&&(n._lang=t._lang),n},nt.version=ot,nt.defaultFormat=zt,nt.updateOffset=function(){},nt.lang=function(t,e){var i;return t?(e?S(C(t),e):null===e?(D(t),t="en"):mt[t]||M(t),i=nt.duration.fn._lang=nt.fn._lang=M(t),i._abbr):nt.fn._lang._abbr},nt.langData=function(t){return t&&t._lang&&t._lang._abbr&&(t=t._lang._abbr),M(t)},nt.isMoment=function(t){return t instanceof o||null!=t&&t.hasOwnProperty("_isAMomentObject")},nt.isDuration=function(t){return t instanceof a},st=Qt.length-1;st>=0;--st)v(Qt[st]);for(nt.normalizeUnits=function(t){return m(t)},nt.invalid=function(t){var e=nt.utc(NaN);return null!=t?r(e._pf,t):e._pf.userInvalidated=!0,e},nt.parseZone=function(t){return nt(t).parseZone()},r(nt.fn=o.prototype,{clone:function(){return nt(this)},valueOf:function(){return+this._d+6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().lang("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var t=nt(this).utc();return 0<t.year()&&t.year()<=9999?P(t,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):P(t,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var t=this;return[t.year(),t.month(),t.date(),t.hours(),t.minutes(),t.seconds(),t.milliseconds()]},isValid:function(){return k(this)},isDSTShifted:function(){return this._a?this.isValid()&&f(this._a,(this._isUTC?nt.utc(this._a):nt(this._a)).toArray())>0:!1},parsingFlags:function(){return r({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(){return this.zone(0)},local:function(){return this.zone(0),this._isUTC=!1,this},format:function(t){var e=P(this,t||nt.defaultFormat);return this.lang().postformat(e)},add:function(t,e){var i;return i="string"==typeof t?nt.duration(+e,t):nt.duration(t,e),u(this,i,1),this},subtract:function(t,e){var i;return i="string"==typeof t?nt.duration(+e,t):nt.duration(t,e),u(this,i,-1),this},diff:function(t,e,i){var n,s,o=T(t,this),a=6e4*(this.zone()-o.zone());return e=m(e),"year"===e||"month"===e?(n=432e5*(this.daysInMonth()+o.daysInMonth()),s=12*(this.year()-o.year())+(this.month()-o.month()),s+=(this-nt(this).startOf("month")-(o-nt(o).startOf("month")))/n,s-=6e4*(this.zone()-nt(this).startOf("month").zone()-(o.zone()-nt(o).startOf("month").zone()))/n,"year"===e&&(s/=12)):(n=this-o,s="second"===e?n/1e3:"minute"===e?n/6e4:"hour"===e?n/36e5:"day"===e?(n-a)/864e5:"week"===e?(n-a)/6048e5:n),i?s:c(s)},from:function(t,e){return nt.duration(this.diff(t)).lang(this.lang()._abbr).humanize(!e)},fromNow:function(t){return this.from(nt(),t)},calendar:function(){var t=T(nt(),this).startOf("day"),e=this.diff(t,"days",!0),i=-6>e?"sameElse":-1>e?"lastWeek":0>e?"lastDay":1>e?"sameDay":2>e?"nextDay":7>e?"nextWeek":"sameElse";return this.format(this.lang().calendar(i,this))},isLeapYear:function(){return w(this.year())},isDST:function(){return this.zone()<this.clone().month(0).zone()||this.zone()<this.clone().month(5).zone()},day:function(t){var e=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=t?(t=U(t,this.lang()),this.add({d:t-e})):e},month:function(t){var e,i=this._isUTC?"UTC":"";return null!=t?"string"==typeof t&&(t=this.lang().monthsParse(t),"number"!=typeof t)?this:(e=this.date(),this.date(1),this._d["set"+i+"Month"](t),this.date(Math.min(e,this.daysInMonth())),nt.updateOffset(this),this):this._d["get"+i+"Month"]()},startOf:function(t){switch(t=m(t)){case"year":this.month(0);case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===t?this.weekday(0):"isoWeek"===t&&this.isoWeekday(1),this},endOf:function(t){return t=m(t),this.startOf(t).add("isoWeek"===t?"week":t,1).subtract("ms",1)},isAfter:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)>+nt(t).startOf(e)},isBefore:function(t,e){return e="undefined"!=typeof e?e:"millisecond",+this.clone().startOf(e)<+nt(t).startOf(e)},isSame:function(t,e){return e=e||"ms",+this.clone().startOf(e)===+T(t,this).startOf(e)},min:function(t){return t=nt.apply(null,arguments),this>t?this:t},max:function(t){return t=nt.apply(null,arguments),t>this?this:t},zone:function(t){var e=this._offset||0;return null==t?this._isUTC?e:this._d.getTimezoneOffset():("string"==typeof t&&(t=H(t)),Math.abs(t)<16&&(t=60*t),this._offset=t,this._isUTC=!0,e!==t&&u(this,nt.duration(e-t,"m"),1,!0),this)},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.zone(this._tzm):"string"==typeof this._i&&this.zone(this._i),this},hasAlignedHourOffset:function(t){return t=t?nt(t).zone():0,(this.zone()-t)%60===0},daysInMonth:function(){return b(this.year(),this.month())},dayOfYear:function(t){var e=rt((nt(this).startOf("day")-nt(this).startOf("year"))/864e5)+1;return null==t?e:this.add("d",t-e)},quarter:function(){return Math.ceil((this.month()+1)/3)},weekYear:function(t){var e=K(this,this.lang()._week.dow,this.lang()._week.doy).year;return null==t?e:this.add("y",t-e)},isoWeekYear:function(t){var e=K(this,1,4).year;return null==t?e:this.add("y",t-e)},week:function(t){var e=this.lang().week(this);return null==t?e:this.add("d",7*(t-e))},isoWeek:function(t){var e=K(this,1,4).week;return null==t?e:this.add("d",7*(t-e))},weekday:function(t){var e=(this.day()+7-this.lang()._week.dow)%7;return null==t?e:this.add("d",t-e)},isoWeekday:function(t){return null==t?this.day()||7:this.day(this.day()%7?t:t-7)},get:function(t){return t=m(t),this[t]()},set:function(t,e){return t=m(t),"function"==typeof this[t]&&this[t](e),this},lang:function(e){return e===t?this._lang:(this._lang=M(e),this)}}),st=0;st<Bt.length;st++)Z(Bt[st].toLowerCase().replace(/s$/,""),Bt[st]);Z("year","FullYear"),nt.fn.days=nt.fn.day,nt.fn.months=nt.fn.month,nt.fn.weeks=nt.fn.week,nt.fn.isoWeeks=nt.fn.isoWeek,nt.fn.toJSON=nt.fn.toISOString,r(nt.duration.fn=a.prototype,{_bubble:function(){var t,e,i,n,s=this._milliseconds,o=this._days,a=this._months,r=this._data;r.milliseconds=s%1e3,t=c(s/1e3),r.seconds=t%60,e=c(t/60),r.minutes=e%60,i=c(e/60),r.hours=i%24,o+=c(i/24),r.days=o%30,a+=c(o/30),r.months=a%12,n=c(a/12),r.years=n},weeks:function(){return c(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*y(this._months/12)},humanize:function(t){var e=+this,i=G(e,!t,this.lang());return t&&(i=this.lang().pastFuture(e,i)),this.lang().postformat(i)},add:function(t,e){var i=nt.duration(t,e);return this._milliseconds+=i._milliseconds,this._days+=i._days,this._months+=i._months,this._bubble(),this},subtract:function(t,e){var i=nt.duration(t,e);return this._milliseconds-=i._milliseconds,this._days-=i._days,this._months-=i._months,this._bubble(),this},get:function(t){return t=m(t),this[t.toLowerCase()+"s"]()},as:function(t){return t=m(t),this["as"+t.charAt(0).toUpperCase()+t.slice(1)+"s"]()},lang:nt.fn.lang,toIsoString:function(){var t=Math.abs(this.years()),e=Math.abs(this.months()),i=Math.abs(this.days()),n=Math.abs(this.hours()),s=Math.abs(this.minutes()),o=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(t?t+"Y":"")+(e?e+"M":"")+(i?i+"D":"")+(n||s||o?"T":"")+(n?n+"H":"")+(s?s+"M":"")+(o?o+"S":""):"P0D"}});for(st in Yt)Yt.hasOwnProperty(st)&&(et(st,Yt[st]),tt(st.toLowerCase()));et("Weeks",6048e5),nt.duration.fn.asMonths=function(){return(+this-31536e6*this.years())/2592e6+12*this.years()},nt.lang("en",{ordinal:function(t){var e=t%10,i=1===y(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th";
return t+i}}),vt?(module.exports=nt,it(!0)):"function"==typeof define&&define.amd?define("moment",function(e,i,n){return n.config&&n.config()&&n.config().noGlobal!==!0&&it(n.config().noGlobal===t),nt}):it()}.call(this),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(t){"use strict";function e(){var t=document.createElement("bootstrap"),e={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var i in e)if(void 0!==t.style[i])return{end:e[i]}}t.fn.emulateTransitionEnd=function(e){var i=!1,n=this;t(this).one(t.support.transition.end,function(){i=!0});var s=function(){i||t(n).trigger(t.support.transition.end)};return setTimeout(s,e),this},t(function(){t.support.transition=e()})}(jQuery),+function(t){"use strict";var e='[data-dismiss="alert"]',i=function(i){t(i).on("click",e,this.close)};i.prototype.close=function(e){function i(){o.trigger("closed.bs.alert").remove()}var n=t(this),s=n.attr("data-target");s||(s=n.attr("href"),s=s&&s.replace(/.*(?=#[^\s]*$)/,""));var o=t(s);e&&e.preventDefault(),o.length||(o=n.hasClass("alert")?n:n.parent()),o.trigger(e=t.Event("close.bs.alert")),e.isDefaultPrevented()||(o.removeClass("in"),t.support.transition&&o.hasClass("fade")?o.one(t.support.transition.end,i).emulateTransitionEnd(150):i())};var n=t.fn.alert;t.fn.alert=function(e){return this.each(function(){var n=t(this),s=n.data("bs.alert");s||n.data("bs.alert",s=new i(this)),"string"==typeof e&&s[e].call(n)})},t.fn.alert.Constructor=i,t.fn.alert.noConflict=function(){return t.fn.alert=n,this},t(document).on("click.bs.alert.data-api",e,i.prototype.close)}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n)};e.DEFAULTS={loadingText:"loading..."},e.prototype.setState=function(t){var e="disabled",i=this.$element,n=i.is("input")?"val":"html",s=i.data();t+="Text",s.resetText||i.data("resetText",i[n]()),i[n](s[t]||this.options[t]),setTimeout(function(){"loadingText"==t?i.addClass(e).attr(e,e):i.removeClass(e).removeAttr(e)},0)},e.prototype.toggle=function(){var t=this.$element.closest('[data-toggle="buttons"]'),e=!0;if(t.length){var i=this.$element.find("input");"radio"===i.prop("type")&&(i.prop("checked")&&this.$element.hasClass("active")?e=!1:t.find(".active").removeClass("active")),e&&i.prop("checked",!this.$element.hasClass("active")).trigger("change")}e&&this.$element.toggleClass("active")};var i=t.fn.button;t.fn.button=function(i){return this.each(function(){var n=t(this),s=n.data("bs.button"),o="object"==typeof i&&i;s||n.data("bs.button",s=new e(this,o)),"toggle"==i?s.toggle():i&&s.setState(i)})},t.fn.button.Constructor=e,t.fn.button.noConflict=function(){return t.fn.button=i,this},t(document).on("click.bs.button.data-api","[data-toggle^=button]",function(e){var i=t(e.target);i.hasClass("btn")||(i=i.closest(".btn")),i.button("toggle"),e.preventDefault()})}(jQuery),+function(t){"use strict";var e=function(e,i){this.$element=t(e),this.$indicators=this.$element.find(".carousel-indicators"),this.options=i,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",t.proxy(this.pause,this)).on("mouseleave",t.proxy(this.cycle,this))};e.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},e.prototype.cycle=function(e){return e||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(t.proxy(this.next,this),this.options.interval)),this},e.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},e.prototype.to=function(e){var i=this,n=this.getActiveIndex();return e>this.$items.length-1||0>e?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){i.to(e)}):n==e?this.pause().cycle():this.slide(e>n?"next":"prev",t(this.$items[e]))},e.prototype.pause=function(e){return e||(this.paused=!0),this.$element.find(".next, .prev").length&&t.support.transition.end&&(this.$element.trigger(t.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},e.prototype.next=function(){return this.sliding?void 0:this.slide("next")},e.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},e.prototype.slide=function(e,i){var n=this.$element.find(".item.active"),s=i||n[e](),o=this.interval,a="next"==e?"left":"right",r="next"==e?"first":"last",l=this;if(!s.length){if(!this.options.wrap)return;s=this.$element.find(".item")[r]()}this.sliding=!0,o&&this.pause();var c=t.Event("slide.bs.carousel",{relatedTarget:s[0],direction:a});if(!s.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var e=t(l.$indicators.children()[l.getActiveIndex()]);e&&e.addClass("active")})),t.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(c),c.isDefaultPrevented())return;s.addClass(e),s[0].offsetWidth,n.addClass(a),s.addClass(a),n.one(t.support.transition.end,function(){s.removeClass([e,a].join(" ")).addClass("active"),n.removeClass(["active",a].join(" ")),l.sliding=!1,setTimeout(function(){l.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(c),c.isDefaultPrevented())return;n.removeClass("active"),s.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return o&&this.cycle(),this}};var i=t.fn.carousel;t.fn.carousel=function(i){return this.each(function(){var n=t(this),s=n.data("bs.carousel"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i),a="string"==typeof i?i:o.slide;s||n.data("bs.carousel",s=new e(this,o)),"number"==typeof i?s.to(i):a?s[a]():o.interval&&s.pause().cycle()})},t.fn.carousel.Constructor=e,t.fn.carousel.noConflict=function(){return t.fn.carousel=i,this},t(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(e){var i,n=t(this),s=t(n.attr("data-target")||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,"")),o=t.extend({},s.data(),n.data()),a=n.attr("data-slide-to");a&&(o.interval=!1),s.carousel(o),(a=n.attr("data-slide-to"))&&s.data("bs.carousel").to(a),e.preventDefault()}),t(window).on("load",function(){t('[data-ride="carousel"]').each(function(){var e=t(this);e.carousel(e.data())})})}(jQuery),+function(t){"use strict";var e=function(i,n){this.$element=t(i),this.options=t.extend({},e.DEFAULTS,n),this.transitioning=null,this.options.parent&&(this.$parent=t(this.options.parent)),this.options.toggle&&this.toggle()};e.DEFAULTS={toggle:!0},e.prototype.dimension=function(){var t=this.$element.hasClass("width");return t?"width":"height"},e.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var e=t.Event("show.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.$parent&&this.$parent.find("> .panel > .in");if(i&&i.length){var n=i.data("bs.collapse");if(n&&n.transitioning)return;i.collapse("hide"),n||i.data("bs.collapse",null)}var s=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[s](0),this.transitioning=1;var o=function(){this.$element.removeClass("collapsing").addClass("in")[s]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!t.support.transition)return o.call(this);var a=t.camelCase(["scroll",s].join("-"));this.$element.one(t.support.transition.end,t.proxy(o,this)).emulateTransitionEnd(350)[s](this.$element[0][a])}}},e.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var e=t.Event("hide.bs.collapse");if(this.$element.trigger(e),!e.isDefaultPrevented()){var i=this.dimension();this.$element[i](this.$element[i]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var n=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return t.support.transition?void this.$element[i](0).one(t.support.transition.end,t.proxy(n,this)).emulateTransitionEnd(350):n.call(this)}}},e.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var i=t.fn.collapse;t.fn.collapse=function(i){return this.each(function(){var n=t(this),s=n.data("bs.collapse"),o=t.extend({},e.DEFAULTS,n.data(),"object"==typeof i&&i);s||n.data("bs.collapse",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.collapse.Constructor=e,t.fn.collapse.noConflict=function(){return t.fn.collapse=i,this},t(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(e){var i,n=t(this),s=n.attr("data-target")||e.preventDefault()||(i=n.attr("href"))&&i.replace(/.*(?=#[^\s]+$)/,""),o=t(s),a=o.data("bs.collapse"),r=a?"toggle":n.data(),l=n.attr("data-parent"),c=l&&t(l);a&&a.transitioning||(c&&c.find('[data-toggle=collapse][data-parent="'+l+'"]').not(n).addClass("collapsed"),n[o.hasClass("in")?"addClass":"removeClass"]("collapsed")),o.collapse(r)})}(jQuery),+function(t){"use strict";function e(){t(n).remove(),t(s).each(function(e){var n=i(t(this));n.hasClass("open")&&(n.trigger(e=t.Event("hide.bs.dropdown")),e.isDefaultPrevented()||n.removeClass("open").trigger("hidden.bs.dropdown"))})}function i(e){var i=e.attr("data-target");i||(i=e.attr("href"),i=i&&/#/.test(i)&&i.replace(/.*(?=#[^\s]*$)/,""));var n=i&&t(i);return n&&n.length?n:e.parent()}var n=".dropdown-backdrop",s="[data-toggle=dropdown]",o=function(e){t(e).on("click.bs.dropdown",this.toggle)};o.prototype.toggle=function(n){var s=t(this);if(!s.is(".disabled, :disabled")){var o=i(s),a=o.hasClass("open");if(e(),!a){if("ontouchstart"in document.documentElement&&!o.closest(".navbar-nav").length&&t('<div class="dropdown-backdrop"/>').insertAfter(t(this)).on("click",e),o.trigger(n=t.Event("show.bs.dropdown")),n.isDefaultPrevented())return;o.toggleClass("open").trigger("shown.bs.dropdown"),s.focus()}return!1}},o.prototype.keydown=function(e){if(/(38|40|27)/.test(e.keyCode)){var n=t(this);if(e.preventDefault(),e.stopPropagation(),!n.is(".disabled, :disabled")){var o=i(n),a=o.hasClass("open");if(!a||a&&27==e.keyCode)return 27==e.which&&o.find(s).focus(),n.click();var r=t("[role=menu] li:not(.divider):visible a",o);if(r.length){var l=r.index(r.filter(":focus"));38==e.keyCode&&l>0&&l--,40==e.keyCode&&l<r.length-1&&l++,~l||(l=0),r.eq(l).focus()}}}};var a=t.fn.dropdown;t.fn.dropdown=function(e){return this.each(function(){var i=t(this),n=i.data("bs.dropdown");n||i.data("bs.dropdown",n=new o(this)),"string"==typeof e&&n[e].call(i)})},t.fn.dropdown.Constructor=o,t.fn.dropdown.noConflict=function(){return t.fn.dropdown=a,this},t(document).on("click.bs.dropdown.data-api",e).on("click.bs.dropdown.data-api",".dropdown form",function(t){t.stopPropagation()}).on("click.bs.dropdown.data-api",s,o.prototype.toggle).on("keydown.bs.dropdown.data-api",s+", [role=menu]",o.prototype.keydown)}(jQuery),+function(t){"use strict";var e=function(e,i){this.options=i,this.$element=t(e),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};e.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},e.prototype.toggle=function(t){return this[this.isShown?"hide":"show"](t)},e.prototype.show=function(e){var i=this,n=t.Event("show.bs.modal",{relatedTarget:e});this.$element.trigger(n),this.isShown||n.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',t.proxy(this.hide,this)),this.backdrop(function(){var n=t.support.transition&&i.$element.hasClass("fade");i.$element.parent().length||i.$element.appendTo(document.body),i.$element.show(),n&&i.$element[0].offsetWidth,i.$element.addClass("in").attr("aria-hidden",!1),i.enforceFocus();var s=t.Event("shown.bs.modal",{relatedTarget:e});n?i.$element.find(".modal-dialog").one(t.support.transition.end,function(){i.$element.focus().trigger(s)}).emulateTransitionEnd(300):i.$element.focus().trigger(s)}))},e.prototype.hide=function(e){e&&e.preventDefault(),e=t.Event("hide.bs.modal"),this.$element.trigger(e),this.isShown&&!e.isDefaultPrevented()&&(this.isShown=!1,this.escape(),t(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),t.support.transition&&this.$element.hasClass("fade")?this.$element.one(t.support.transition.end,t.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},e.prototype.enforceFocus=function(){t(document).off("focusin.bs.modal").on("focusin.bs.modal",t.proxy(function(t){this.$element[0]===t.target||this.$element.has(t.target).length||this.$element.focus()},this))},e.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",t.proxy(function(t){27==t.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},e.prototype.hideModal=function(){var t=this;this.$element.hide(),this.backdrop(function(){t.removeBackdrop(),t.$element.trigger("hidden.bs.modal")})},e.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},e.prototype.backdrop=function(e){var i=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var n=t.support.transition&&i;if(this.$backdrop=t('<div class="modal-backdrop '+i+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",t.proxy(function(t){t.target===t.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),n&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!e)return;n?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),t.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(t.support.transition.end,e).emulateTransitionEnd(150):e()):e&&e()};var i=t.fn.modal;t.fn.modal=function(i,n){return this.each(function(){var s=t(this),o=s.data("bs.modal"),a=t.extend({},e.DEFAULTS,s.data(),"object"==typeof i&&i);o||s.data("bs.modal",o=new e(this,a)),"string"==typeof i?o[i](n):a.show&&o.show(n)})},t.fn.modal.Constructor=e,t.fn.modal.noConflict=function(){return t.fn.modal=i,this},t(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(e){var i=t(this),n=i.attr("href"),s=t(i.attr("data-target")||n&&n.replace(/.*(?=#[^\s]+$)/,"")),o=s.data("modal")?"toggle":t.extend({remote:!/#/.test(n)&&n},s.data(),i.data());e.preventDefault(),s.modal(o,this).one("hide",function(){i.is(":visible")&&i.focus()})}),t(document).on("show.bs.modal",".modal",function(){t(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){t(document.body).removeClass("modal-open")})}(jQuery),+function(t){"use strict";var e=function(t,e){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",t,e)};e.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},e.prototype.init=function(e,i,n){this.enabled=!0,this.type=e,this.$element=t(i),this.options=this.getOptions(n);for(var s=this.options.trigger.split(" "),o=s.length;o--;){var a=s[o];if("click"==a)this.$element.on("click."+this.type,this.options.selector,t.proxy(this.toggle,this));else if("manual"!=a){var r="hover"==a?"mouseenter":"focus",l="hover"==a?"mouseleave":"blur";this.$element.on(r+"."+this.type,this.options.selector,t.proxy(this.enter,this)),this.$element.on(l+"."+this.type,this.options.selector,t.proxy(this.leave,this))}}this.options.selector?this._options=t.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.getOptions=function(e){return e=t.extend({},this.getDefaults(),this.$element.data(),e),e.delay&&"number"==typeof e.delay&&(e.delay={show:e.delay,hide:e.delay}),e},e.prototype.getDelegateOptions=function(){var e={},i=this.getDefaults();return this._options&&t.each(this._options,function(t,n){i[t]!=n&&(e[t]=n)}),e},e.prototype.enter=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="in",i.options.delay&&i.options.delay.show?void(i.timeout=setTimeout(function(){"in"==i.hoverState&&i.show()},i.options.delay.show)):i.show()},e.prototype.leave=function(e){var i=e instanceof this.constructor?e:t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(i.timeout),i.hoverState="out",i.options.delay&&i.options.delay.hide?void(i.timeout=setTimeout(function(){"out"==i.hoverState&&i.hide()},i.options.delay.hide)):i.hide()},e.prototype.show=function(){var e=t.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(e),e.isDefaultPrevented())return;var i=this.tip();this.setContent(),this.options.animation&&i.addClass("fade");var n="function"==typeof this.options.placement?this.options.placement.call(this,i[0],this.$element[0]):this.options.placement,s=/\s?auto?\s?/i,o=s.test(n);o&&(n=n.replace(s,"")||"top"),i.detach().css({top:0,left:0,display:"block"}).addClass(n),this.options.container?i.appendTo(this.options.container):i.insertAfter(this.$element);var a=this.getPosition(),r=i[0].offsetWidth,l=i[0].offsetHeight;if(o){var c=this.$element.parent(),h=n,u=document.documentElement.scrollTop||document.body.scrollTop,d="body"==this.options.container?window.innerWidth:c.outerWidth(),p="body"==this.options.container?window.innerHeight:c.outerHeight(),f="body"==this.options.container?0:c.offset().left;n="bottom"==n&&a.top+a.height+l-u>p?"top":"top"==n&&a.top-u-l<0?"bottom":"right"==n&&a.right+r>d?"left":"left"==n&&a.left-r<f?"right":n,i.removeClass(h).addClass(n)}var m=this.getCalculatedOffset(n,a,r,l);this.applyPlacement(m,n),this.$element.trigger("shown.bs."+this.type)}},e.prototype.applyPlacement=function(t,e){var i,n=this.tip(),s=n[0].offsetWidth,o=n[0].offsetHeight,a=parseInt(n.css("margin-top"),10),r=parseInt(n.css("margin-left"),10);isNaN(a)&&(a=0),isNaN(r)&&(r=0),t.top=t.top+a,t.left=t.left+r,n.offset(t).addClass("in");var l=n[0].offsetWidth,c=n[0].offsetHeight;if("top"==e&&c!=o&&(i=!0,t.top=t.top+o-c),/bottom|top/.test(e)){var h=0;t.left<0&&(h=-2*t.left,t.left=0,n.offset(t),l=n[0].offsetWidth,c=n[0].offsetHeight),this.replaceArrow(h-s+l,l,"left")}else this.replaceArrow(c-o,c,"top");i&&n.offset(t)},e.prototype.replaceArrow=function(t,e,i){this.arrow().css(i,t?50*(1-t/e)+"%":"")},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle();t.find(".tooltip-inner")[this.options.html?"html":"text"](e),t.removeClass("fade in top bottom left right")},e.prototype.hide=function(){function e(){"in"!=i.hoverState&&n.detach()}var i=this,n=this.tip(),s=t.Event("hide.bs."+this.type);return this.$element.trigger(s),s.isDefaultPrevented()?void 0:(n.removeClass("in"),t.support.transition&&this.$tip.hasClass("fade")?n.one(t.support.transition.end,e).emulateTransitionEnd(150):e(),this.$element.trigger("hidden.bs."+this.type),this)},e.prototype.fixTitle=function(){var t=this.$element;(t.attr("title")||"string"!=typeof t.attr("data-original-title"))&&t.attr("data-original-title",t.attr("title")||"").attr("title","")},e.prototype.hasContent=function(){return this.getTitle()},e.prototype.getPosition=function(){var e=this.$element[0];return t.extend({},"function"==typeof e.getBoundingClientRect?e.getBoundingClientRect():{width:e.offsetWidth,height:e.offsetHeight},this.$element.offset())},e.prototype.getCalculatedOffset=function(t,e,i,n){return"bottom"==t?{top:e.top+e.height,left:e.left+e.width/2-i/2}:"top"==t?{top:e.top-n,left:e.left+e.width/2-i/2}:"left"==t?{top:e.top+e.height/2-n/2,left:e.left-i}:{top:e.top+e.height/2-n/2,left:e.left+e.width}},e.prototype.getTitle=function(){var t,e=this.$element,i=this.options;return t=e.attr("data-original-title")||("function"==typeof i.title?i.title.call(e[0]):i.title)},e.prototype.tip=function(){return this.$tip=this.$tip||t(this.options.template)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},e.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},e.prototype.enable=function(){this.enabled=!0},e.prototype.disable=function(){this.enabled=!1},e.prototype.toggleEnabled=function(){this.enabled=!this.enabled},e.prototype.toggle=function(e){var i=e?t(e.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;i.tip().hasClass("in")?i.leave(i):i.enter(i)},e.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var i=t.fn.tooltip;t.fn.tooltip=function(i){return this.each(function(){var n=t(this),s=n.data("bs.tooltip"),o="object"==typeof i&&i;s||n.data("bs.tooltip",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.tooltip.Constructor=e,t.fn.tooltip.noConflict=function(){return t.fn.tooltip=i,this}}(jQuery),+function(t){"use strict";var e=function(t,e){this.init("popover",t,e)};if(!t.fn.tooltip)throw new Error("Popover requires tooltip.js");e.DEFAULTS=t.extend({},t.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),e.prototype=t.extend({},t.fn.tooltip.Constructor.prototype),e.prototype.constructor=e,e.prototype.getDefaults=function(){return e.DEFAULTS},e.prototype.setContent=function(){var t=this.tip(),e=this.getTitle(),i=this.getContent();t.find(".popover-title")[this.options.html?"html":"text"](e),t.find(".popover-content")[this.options.html?"html":"text"](i),t.removeClass("fade top bottom left right in"),t.find(".popover-title").html()||t.find(".popover-title").hide()},e.prototype.hasContent=function(){return this.getTitle()||this.getContent()},e.prototype.getContent=function(){var t=this.$element,e=this.options;return t.attr("data-content")||("function"==typeof e.content?e.content.call(t[0]):e.content)},e.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},e.prototype.tip=function(){return this.$tip||(this.$tip=t(this.options.template)),this.$tip};var i=t.fn.popover;t.fn.popover=function(i){return this.each(function(){var n=t(this),s=n.data("bs.popover"),o="object"==typeof i&&i;s||n.data("bs.popover",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.popover.Constructor=e,t.fn.popover.noConflict=function(){return t.fn.popover=i,this}}(jQuery),+function(t){"use strict";function e(i,n){var s,o=t.proxy(this.process,this);this.$element=t(t(i).is("body")?window:i),this.$body=t("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",o),this.options=t.extend({},e.DEFAULTS,n),this.selector=(this.options.target||(s=t(i).attr("href"))&&s.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=t([]),this.targets=t([]),this.activeTarget=null,this.refresh(),this.process()}e.DEFAULTS={offset:10},e.prototype.refresh=function(){var e=this.$element[0]==window?"offset":"position";this.offsets=t([]),this.targets=t([]);var i=this;this.$body.find(this.selector).map(function(){var n=t(this),s=n.data("target")||n.attr("href"),o=/^#\w/.test(s)&&t(s);return o&&o.length&&[[o[e]().top+(!t.isWindow(i.$scrollElement.get(0))&&i.$scrollElement.scrollTop()),s]]||null}).sort(function(t,e){return t[0]-e[0]}).each(function(){i.offsets.push(this[0]),i.targets.push(this[1])})},e.prototype.process=function(){var t,e=this.$scrollElement.scrollTop()+this.options.offset,i=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,n=i-this.$scrollElement.height(),s=this.offsets,o=this.targets,a=this.activeTarget;if(e>=n)return a!=(t=o.last()[0])&&this.activate(t);for(t=s.length;t--;)a!=o[t]&&e>=s[t]&&(!s[t+1]||e<=s[t+1])&&this.activate(o[t])},e.prototype.activate=function(e){this.activeTarget=e,t(this.selector).parents(".active").removeClass("active");var i=this.selector+'[data-target="'+e+'"],'+this.selector+'[href="'+e+'"]',n=t(i).parents("li").addClass("active");n.parent(".dropdown-menu").length&&(n=n.closest("li.dropdown").addClass("active")),n.trigger("activate.bs.scrollspy")};var i=t.fn.scrollspy;t.fn.scrollspy=function(i){return this.each(function(){var n=t(this),s=n.data("bs.scrollspy"),o="object"==typeof i&&i;s||n.data("bs.scrollspy",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.scrollspy.Constructor=e,t.fn.scrollspy.noConflict=function(){return t.fn.scrollspy=i,this},t(window).on("load",function(){t('[data-spy="scroll"]').each(function(){var e=t(this);e.scrollspy(e.data())})})}(jQuery),+function(t){"use strict";var e=function(e){this.element=t(e)};e.prototype.show=function(){var e=this.element,i=e.closest("ul:not(.dropdown-menu)"),n=e.data("target");if(n||(n=e.attr("href"),n=n&&n.replace(/.*(?=#[^\s]*$)/,"")),!e.parent("li").hasClass("active")){var s=i.find(".active:last a")[0],o=t.Event("show.bs.tab",{relatedTarget:s});if(e.trigger(o),!o.isDefaultPrevented()){var a=t(n);this.activate(e.parent("li"),i),this.activate(a,a.parent(),function(){e.trigger({type:"shown.bs.tab",relatedTarget:s})})}}},e.prototype.activate=function(e,i,n){function s(){o.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),e.addClass("active"),a?(e[0].offsetWidth,e.addClass("in")):e.removeClass("fade"),e.parent(".dropdown-menu")&&e.closest("li.dropdown").addClass("active"),n&&n()}var o=i.find("> .active"),a=n&&t.support.transition&&o.hasClass("fade");a?o.one(t.support.transition.end,s).emulateTransitionEnd(150):s(),o.removeClass("in")};var i=t.fn.tab;t.fn.tab=function(i){return this.each(function(){var n=t(this),s=n.data("bs.tab");s||n.data("bs.tab",s=new e(this)),"string"==typeof i&&s[i]()})},t.fn.tab.Constructor=e,t.fn.tab.noConflict=function(){return t.fn.tab=i,this},t(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(e){e.preventDefault(),t(this).tab("show")})}(jQuery),+function(t){"use strict";var e=function(i,n){this.options=t.extend({},e.DEFAULTS,n),this.$window=t(window).on("scroll.bs.affix.data-api",t.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",t.proxy(this.checkPositionWithEventLoop,this)),this.$element=t(i),this.affixed=this.unpin=null,this.checkPosition()};e.RESET="affix affix-top affix-bottom",e.DEFAULTS={offset:0},e.prototype.checkPositionWithEventLoop=function(){setTimeout(t.proxy(this.checkPosition,this),1)},e.prototype.checkPosition=function(){if(this.$element.is(":visible")){var i=t(document).height(),n=this.$window.scrollTop(),s=this.$element.offset(),o=this.options.offset,a=o.top,r=o.bottom;"object"!=typeof o&&(r=a=o),"function"==typeof a&&(a=o.top()),"function"==typeof r&&(r=o.bottom());var l=null!=this.unpin&&n+this.unpin<=s.top?!1:null!=r&&s.top+this.$element.height()>=i-r?"bottom":null!=a&&a>=n?"top":!1;this.affixed!==l&&(this.unpin&&this.$element.css("top",""),this.affixed=l,this.unpin="bottom"==l?s.top-n:null,this.$element.removeClass(e.RESET).addClass("affix"+(l?"-"+l:"")),"bottom"==l&&this.$element.offset({top:document.body.offsetHeight-r-this.$element.height()}))}};var i=t.fn.affix;t.fn.affix=function(i){return this.each(function(){var n=t(this),s=n.data("bs.affix"),o="object"==typeof i&&i;s||n.data("bs.affix",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.affix.Constructor=e,t.fn.affix.noConflict=function(){return t.fn.affix=i,this},t(window).on("load",function(){t('[data-spy="affix"]').each(function(){var e=t(this),i=e.data();i.offset=i.offset||{},i.offsetBottom&&(i.offset.bottom=i.offsetBottom),i.offsetTop&&(i.offset.top=i.offsetTop),e.affix(i)})})}(jQuery),function(t){t.fn.bootstrapFileInput=function(){this.each(function(e,i){var n=t(i);if("undefined"==typeof n.attr("data-bfi-disabled")){var s="Browse";"undefined"!=typeof n.attr("title")&&(s=n.attr("title"));var o="";n.attr("class")&&(o=" "+n.attr("class")),n.wrap('<a class="file-input-wrapper btn btn-default '+o+'"></a>').parent().prepend(t("<span></span>").html(s))}}).promise().done(function(){t(".file-input-wrapper").mousemove(function(e){var i,n,s,o,a,r,l,c;n=t(this),i=n.find("input"),s=n.offset().left,o=n.offset().top,a=i.width(),r=i.height(),l=e.pageX,c=e.pageY,moveInputX=l-s-a+20,moveInputY=c-o-r/2,i.css({left:moveInputX,top:moveInputY})}),t("body").on("change",".file-input-wrapper input[type=file]",function(){var e;if(e=t(this).val(),t(this).parent().next(".file-input-name").remove(),e=t(this).prop("files")&&t(this).prop("files").length>1?t(this)[0].files.length+" files":e.substring(e.lastIndexOf("\\")+1,e.length)){var i=t(this).data("filename-placement");"inside"===i?(t(this).siblings("span").html(e),t(this).attr("title",e)):t(this).parent().after('<span class="file-input-name">'+e+"</span>")}})})};var e="<style>.file-input-wrapper { overflow: hidden; position: relative; cursor: pointer; z-index: 1; }.file-input-wrapper input[type=file], .file-input-wrapper input[type=file]:focus, .file-input-wrapper input[type=file]:hover { position: absolute; top: 0; left: 0; cursor: pointer; opacity: 0; filter: alpha(opacity=0); z-index: 99; outline: 0; }.file-input-name { margin-left: 8px; }</style>";t("link[rel=stylesheet]").eq(0).before(e)}(jQuery);var Handsontable={extension:{},helper:{}};!function(t,e,i){"use strict";function n(t){this.isCellEdited=!1,this.instance=t,this.createElements(),this.bindEvents()}function s(t){this.isCellEdited=!1,this.instance=t,this.createElements(),this.bindEvents(),this.emptyStringLabel="   "}function o(t,e,n,s){i.helper.stringify(t.getDataAtRowProp(e,n))===i.helper.stringify(s.checkedTemplate)?t.setDataAtRowProp(e,n,s.uncheckedTemplate):t.setDataAtRowProp(e,n,s.checkedTemplate)}function a(t){this.isCellEdited=!1,this.instance=t,this.createElements(),this.bindEvents()}function r(t){this.isCellEdited=!1,this.instance=t,this.createElements(),this.bindEvents()}function l(){var e,n,s,o,a,r,l,c,h,u,d,p,f,m=this,g=5;this.beforeInit=function(){this.autoColumnWidths=[]},this.determineColumnWidth=function(m){if(!n){var v=document;l=v.createElement("table"),l.appendChild(v.createElement("thead")).appendChild(v.createElement("tr")).appendChild(v.createElement("th")),h=l.getElementsByTagName("th")[0],l.className="htTable",c=l.style,c.tableLayout="auto",c.width="auto",a=l.cloneNode(!1),a.appendChild(v.createElement("tbody")).appendChild(v.createElement("tr")).appendChild(v.createElement("td")),r=a.getElementsByTagName("td")[0],u=a.cloneNode(!0),d=u.getElementsByTagName("td")[0],p=a.cloneNode(!0),f=p.getElementsByTagName("td")[0],n=v.createElement("div"),n.className="handsontable hidden",s=n.style,n.appendChild(l),n.appendChild(a),n.appendChild(u),n.appendChild(p),o=t(n),u=o.children().eq(2),p=o.children().eq(3),v.body.appendChild(n)}for(var y=e.countRows(),b={},_=0,w=0;y>w;w++){var x=i.helper.stringify(e.getDataAtCell(w,m)),k=x.length;k>_&&(_=k),b[k]||(b[k]={needed:g,strings:[]}),b[k].needed&&(b[k].strings.push(x),b[k].needed--)}var C=e.getSettings();C.colHeaders&&e.getColHeader(m,h);var T="";for(var S in b)if(b.hasOwnProperty(S))for(var D=0,M=b[S].strings.length;M>D;D++)T+=b[S].strings[D]+"<br>";r.innerHTML=T,e.view.wt.wtDom.empty(f),e.view.wt.wtDom.empty(d),s.display="block";var E=o.outerWidth(),$=e.getCellMeta(0,m);if($.renderer){var P=9999999999;d.appendChild(document.createTextNode(P)),$.renderer(e,f,0,m,e.colToProp(m),P,$),E+=p.width()-u.width()}return s.display="none",E},this.determineColumnsWidth=function(){e=this;var t=this.getSettings();if(t.autoColumnSize||!t.colWidths)for(var i=this.countCols(),n=0;i>n;n++)this.autoColumnWidths[n]=m.determineColumnWidth(n)},this.getColWidth=function(t,e){this.autoColumnWidths[t]&&this.autoColumnWidths[t]>e.width&&(e.width=this.autoColumnWidths[t])}}function c(){var e,i=this;this.afterInit=function(){
var e=this;this.getSettings().columnSorting&&(this.sortIndex=[],this.rootElement.on("click.handsontable",".columnSorting",function(n){var s=t(n.target);if(s.is(".columnSorting")){var o=s.closest("th").index();e.getSettings().rowHeaders&&o--,e.sortColumn===o?e.sortOrder=!e.sortOrder:(e.sortColumn=o,e.sortOrder=!0),i.sort.call(e),e.render()}}))},this.sort=function(){e=!1;var t=this;this.sortIndex.length=0;for(var i=0,n=this.countRows();n>i;i++)this.sortIndex.push([i,t.getDataAtCell(i,this.sortColumn)]);this.sortIndex.sort(function(e,i){return e[1]===i[1]?0:null===e[1]?1:null===i[1]?-1:e[1]<i[1]?t.sortOrder?-1:1:e[1]>i[1]?t.sortOrder?1:-1:0}),e=!0},this.translateRow=function(t){e&&this.sortIndex&&this.sortIndex.length&&(t.row=this.sortIndex[t.row][0])},this.getColHeader=function(e,i){this.getSettings().columnSorting&&(t(i).find("span.colHeader")[0].className+=" columnSorting")}}function h(){function e(t){var e=o.getSelected();if(e)switch(t){case"row_above":o.alter("insert_row",e[0]);break;case"row_below":o.alter("insert_row",e[2]+1);break;case"col_left":o.alter("insert_col",e[1]);break;case"col_right":o.alter("insert_col",e[3]+1);break;case"remove_row":o.alter(t,e[0],e[2]-e[0]+1);break;case"remove_col":o.alter(t,e[1],e[3]-e[1]+1);break;case"undo":o.undo();break;case"redo":o.redo()}}function i(t){return o.countRows()>=o.getSettings().maxRows&&("row_above"===t||"row_below"===t)?!0:o.countCols()>=o.getSettings().maxCols&&("col_left"===t||"col_right"===t)}var n,s,o=this,a=o.rootElement[0].id,r={row_above:{name:"Insert row above",disabled:i},row_below:{name:"Insert row below",disabled:i},hsep1:"---------",col_left:{name:"Insert column on the left",disabled:i},col_right:{name:"Insert column on the right",disabled:i},hsep2:"---------",remove_row:{name:"Remove row",disabled:i},remove_col:{name:"Remove column",disabled:i},hsep3:"---------",undo:{name:"Undo",disabled:function(){return!o.isUndoAvailable()}},redo:{name:"Redo",disabled:function(){return!o.isRedoAvailable()}}},l={selector:"#"+a+" table, #"+a+" div",trigger:"right",callback:e},c={},h=o.getSettings();if(h.contextMenu){if(h.contextMenu===!0)c.items=r;else if("[object Array]"===Object.prototype.toString.apply(h.contextMenu))for(c.items={},n=0,s=h.contextMenu.length;s>n;n++){var u=h.contextMenu[n];if("undefined"==typeof r[u])throw new Error('Context menu key "'+u+'" is not recognised');c.items[u]=r[u]}else if("[object Object]"===Object.prototype.toString.apply(h.contextMenu)){if(c=h.contextMenu,c.items)for(n in c.items)c.items.hasOwnProperty(n)&&r[n]&&("string"==typeof c.items[n]?c.items[n]=r[n]:c.items[n]=t.extend(!0,r[n],c.items[n]));else c.items=r;if(c.callback){var d=l.callback,p=c.callback;c.callback=function(t,e){d(t,e),p(t,e)}}}if(!a)throw new Error("Handsontable container must have an id");t.contextMenu(t.extend(!0,l,c))}}function u(){var e=this.rootElement[0].id;t.contextMenu("destroy","#"+e+" table, #"+e+" div")}function d(){var e,i,n,s,o,a,r=document.createElement("DIV"),l=r.style;r.className="ghost",l.position="absolute",l.top="25px",l.left=0,l.width="10px",l.height="10px",l.backgroundColor="#CCC",l.opacity=.7,t(document).mousemove(function(t){i&&(l.left=a+t.pageX-o+6+"px","none"===l.display&&(l.display="block"))}),t(document).mouseup(function(){i&&(s>n&&s--,e.getSettings().rowHeaders&&(n--,s--),e.manualColumnPositions.splice(s,0,e.manualColumnPositions.splice(n,1)[0]),t(".manualColumnMover.active").removeClass("active"),i=!1,e.forceFullRender=!0,e.view.render(),l.display="none")}),this.beforeInit=function(){this.manualColumnPositions=[]},this.afterInit=function(){if(this.getSettings().manualColumnMove){var c=this;this.rootElement.on("mousedown.handsontable",".manualColumnMover",function(s){e=c;var h=t(s.target),u=h.closest("th");n=u.index(),i=!0,o=s.pageX;var d=c.rootElement.find(".htCore");d.parent()[0].appendChild(r),l.width=h.parent().width()+"px",l.height=d.height()+"px",a=parseInt(u.offset().left-d.offset().left,10),l.left=a+6+"px"}),this.rootElement.on("mouseenter.handsontable","td, th",function(){if(i){t(".manualColumnMover.active").removeClass("active");var e=c.rootElement.find("thead th");s=t(this).index();var n=e.eq(s).find(".manualColumnMover").addClass("active");e.not(n).removeClass("active")}})}},this.modifyCol=function(t){return this.getSettings().manualColumnMove?("undefined"==typeof this.manualColumnPositions[t]&&(this.manualColumnPositions[t]=t),this.manualColumnPositions[t]):t},this.getColHeader=function(t,e){if(this.getSettings().manualColumnMove){var i=document.createElement("DIV");i.className="manualColumnMover",e.firstChild.appendChild(i)}}}function p(){var e,i,n,s,o,a,r,l,c=document.createElement("DIV"),h=document.createElement("DIV"),u=h.style;c.className="manualColumnResizer",h.className="manualColumnResizerLine",u.position="absolute",u.top=0,u.left=0,u.width=0,u.borderRight="1px dashed #777",h.appendChild(c),t(document).mousemove(function(t){e&&(n=r+(t.pageX-a),d(i,n),u.left=l+n-1+"px","none"===u.display&&(u.display="block"))}),t(document).mouseup(function(){e&&(t(".manualColumnResizer.active").removeClass("active"),e=!1,s.forceFullRender=!0,s.view.render(),u.display="none")}),t(document).dblclick(function(e){t(e.target).is(".manualColumnResizer")&&d(i,D.determineColumnWidth.call(s,i))}),this.beforeInit=function(){this.manualColumnWidths=[]},this.afterInit=function(){if(this.getSettings().manualColumnResize){var c=this;this.rootElement.on("mousedown.handsontable",".manualColumnResizer",function(d){var p=d.target,f=c.rootElement.find(".htCore"),m=t(p.parentNode.parentNode);s=c,i=p.getAttribute("rel"),o=t(c.rootElement[0].getElementsByTagName("col")[m.index()]),e=!0,a=d.pageX,r=o.width(),n=r,p.className+=" active",u.height=f.height()+"px",f.parent()[0].appendChild(h),l=parseInt(m.offset().left-f.offset().left,10),u.left=l+n-1+"px"})}};var d=function(t,e){e=Math.max(e,20),e=Math.min(e,500),s.manualColumnWidths[t]=e};this.getColHeader=function(t,e){if(this.getSettings().manualColumnResize){var i=document.createElement("DIV");i.className="manualColumnResizer",i.setAttribute("rel",t),e.firstChild.appendChild(i)}},this.getColWidth=function(t,e){this.getSettings().manualColumnResize&&this.manualColumnWidths[t]&&(e.width=this.manualColumnWidths[t])}}function f(t){var e,i=this;t=t||document.body,this.elDiv=document.createElement("DIV"),e=this.elDiv.style,e.position="fixed",e.top=0,e.left=0,t.appendChild(this.elDiv),this.elTextarea=document.createElement("TEXTAREA"),this.elTextarea.className="copyPaste",e=this.elTextarea.style,e.width="1px",e.height="1px",this.elDiv.appendChild(this.elTextarea),"undefined"!=typeof e.opacity&&(e.opacity=0),this._bindEvent(t,"keydown",function(t){var e=!1;t.metaKey?e=!0:t.ctrlKey&&-1===navigator.userAgent.indexOf("Mac")&&(e=!0),e&&(i.selectNodeText(i.elTextarea),setTimeout(function(){i.selectNodeText(i.elTextarea)},0)),!e||67!==t.keyCode&&86!==t.keyCode&&88!==t.keyCode||(88===t.keyCode?setTimeout(function(){i.triggerCut(t)},0):86===t.keyCode&&setTimeout(function(){i.triggerPaste(t)},0))})}function m(t,e){var i;this.instance=t,this.settings=e,this.wtDom=this.instance.wtDom,this.main=document.createElement("div"),i=this.main.style,i.position="absolute",i.top=0,i.left=0;for(var n=0;5>n;n++){var s=document.createElement("DIV");s.className="wtBorder "+(e.className||""),i=s.style,i.backgroundColor=e.border.color,i.height=e.border.width+"px",i.width=e.border.width+"px",this.main.appendChild(s)}this.top=this.main.childNodes[0],this.left=this.main.childNodes[1],this.bottom=this.main.childNodes[2],this.right=this.main.childNodes[3],this.topStyle=this.top.style,this.leftStyle=this.left.style,this.bottomStyle=this.bottom.style,this.rightStyle=this.right.style,this.corner=this.main.childNodes[4],this.corner.className+=" corner",this.cornerStyle=this.corner.style,this.cornerStyle.width="5px",this.cornerStyle.height="5px",this.cornerStyle.border="2px solid #FFF",this.disappear(),t.wtTable.hider.appendChild(this.main)}function g(t,e,i,n){var s,o,a,r,l,c;if(this.containerSizeFn=t,this.cacheLength=0,this.cacheTotalSize=0,this.cache={},this.visibleCellRanges=[],e){if(e%2===1)throw new Error("cellRanges must have even number of elements");if(!this.isSorted(e))throw new Error("cellRanges must be in ascending order");for(l=0,c=e.length/2;c>l;l++){for(s=e[2*l],o=e[2*l+1],a=s;o>=a&&(r=i(a),!(this.cacheTotalSize>=this.getContainerSize(this.cacheTotalSize+r)));)this.cache[a]=r,this.cacheTotalSize+=r,this.cacheLength++,a===s&&(this.visibleCellRanges[2*l]=a),this.visibleCellRanges[2*l+1]=a,a++;if(this.cacheTotalSize>=this.getContainerSize(this.cacheTotalSize))break}var h=this.getContainerSize(this.cacheTotalSize),u=h-this.cacheTotalSize;if("all"===n){var d,p=h/this.cacheTotalSize;if(p>1)for(l=0,c=this.visibleCellRanges.length/2;c>l;l++)for(s=this.visibleCellRanges[2*l],o=this.visibleCellRanges[2*l+1],a=s;o>=a;)l===c-1&&a===o?this.cache[a]+=u:(d=Math.floor(p*this.cache[a]),u-=d-this.cache[a],this.cache[a]=d),a++}else"last"===n&&u>0&&(this.cache[this.visibleCellRanges[this.visibleCellRanges.length-1]]+=u)}}function v(t){var e=this,i=[];if(this.wtSettings=new k(this,t),this.wtDom=new y(this),this.wtTable=new C(this),this.wtScroll=new _(this),this.wtWheel=new T(this),this.wtEvent=new b(this),this.wtTable.THEAD.childNodes.length&&this.wtTable.THEAD.childNodes[0].childNodes.length){for(var n=0,s=this.wtTable.THEAD.childNodes[0].childNodes.length;s>n;n++)i.push(this.wtTable.THEAD.childNodes[0].childNodes[n].innerHTML);this.hasSetting("columnHeaders")||this.update("columnHeaders",function(t,n){e.wtDom.avoidInnerHTML(n,i[t])})}this.selections={};var o=this.getSetting("selections");if(o)for(var a in o)o.hasOwnProperty(a)&&(this.selections[a]=new x(this,o[a]));this.drawn=!1}function y(t){t&&(this.instance=t),this.tdCache=[]}function b(e){var i=this;this.instance=e,this.wtDom=this.instance.wtDom;var n=[null,null,null,null];this.instance.dblClickTimeout=null;var s,o=function(t){var e=i.parentCell(t.target);e.TD&&"TD"===e.TD.nodeName?i.instance.hasSetting("onCellMouseDown")&&i.instance.getSetting("onCellMouseDown",t,e.coords,e.TD):i.wtDom.hasClass(t.target,"corner")&&i.instance.getSetting("onCellCornerMouseDown",t,t.target),2!==t.button&&(e.TD&&"TD"===e.TD.nodeName?(n.shift(),n.push(e.TD)):i.wtDom.hasClass(t.target,"corner")&&(n.shift(),n.push(t.target)))},a=function(t){if(i.instance.hasSetting("onCellMouseOver")){var e=i.wtDom.closest(t.target,["TD","TH"]);e&&e!==s&&(s=e,"TD"===e.nodeName&&i.instance.getSetting("onCellMouseOver",t,i.instance.wtTable.getCoords(e),e))}},r=function(t){if(2!==t.button){var e=i.parentCell(t.target);e.TD&&"TD"===e.TD.nodeName?(n.shift(),n.push(e.TD)):(n.shift(),n.push(t.target)),null!==n[3]&&n[3]===n[2]&&(i.instance.dblClickTimeout&&n[2]===n[1]&&n[1]===n[0]?(e.TD?i.instance.getSetting("onCellDblClick",t,e.coords,e.TD):i.wtDom.hasClass(t.target,"corner")&&i.instance.getSetting("onCellCornerDblClick",t,e.coords,e.TD),clearTimeout(i.instance.dblClickTimeout),i.instance.dblClickTimeout=null):(clearTimeout(i.instance.dblClickTimeout),i.instance.dblClickTimeout=setTimeout(function(){i.instance.dblClickTimeout=null},500)))}};t(this.instance.wtTable.parent).on("mousedown",o),t(this.instance.wtTable.TABLE).on("mouseover",a),t(this.instance.wtTable.parent).on("mouseup",r)}function _(t){this.instance=t,this.wtScrollbarV=new w(t,"vertical"),this.wtScrollbarH=new w(t,"horizontal")}function w(e,i){var n=this;this.instance=e,this.type=i,this.$table=t(this.instance.wtTable.TABLE),this.slider=document.createElement("DIV"),this.sliderStyle=this.slider.style,this.sliderStyle.position="absolute",this.sliderStyle.top="0",this.sliderStyle.left="0",this.sliderStyle.display="none",this.slider.className="dragdealer "+i,this.handle=document.createElement("DIV"),this.handleStyle=this.handle.style,this.handle.className="handle",this.slider.appendChild(this.handle),this.instance.wtTable.parent.appendChild(this.slider);var s=!0;this.dragTimeout=null;var o,a=function(){n.onScroll(o)};this.dragdealer=new z(this.slider,{vertical:"vertical"===i,horizontal:"horizontal"===i,slide:!1,speed:100,animationCallback:function(t,e){return s?void(s=!1):(n.skipRefresh=!0,o="vertical"===i?e:t,void(null===n.dragTimeout&&(n.dragTimeout=setInterval(a,100),a())))},callback:function(t,e){n.skipRefresh=!1,clearInterval(n.dragTimeout),n.dragTimeout=null,o="vertical"===i?e:t,n.onScroll(o)}}),n.skipRefresh=!1}function x(t,e){this.instance=t,this.settings=e,this.selected=[],this.wtDom=new y(this.instance),e.border&&(this.border=new m(t,e))}function k(t,e){var i=this;this.instance=t,this.defaults={table:void 0,async:!1,scrollH:"auto",scrollV:"auto",stretchH:"hybrid",currentRowClassName:null,currentColumnClassName:null,data:void 0,offsetRow:0,offsetColumn:0,rowHeaders:null,columnHeaders:null,totalRows:void 0,totalColumns:void 0,width:null,height:null,cellRenderer:function(t,e,n){var s=i.getSetting("data",t,e);i.instance.wtDom.avoidInnerHTML(n,void 0===s||null===s?"":s)},columnWidth:50,selections:null,onCellMouseDown:null,onCellMouseOver:null,onCellDblClick:null,onCellCornerMouseDown:null,onCellCornerDblClick:null,onDraw:null,scrollbarWidth:10,scrollbarHeight:10},this.settings={};for(var n in this.defaults)if(this.defaults.hasOwnProperty(n))if(void 0!==e[n])this.settings[n]=e[n];else{if(void 0===this.defaults[n])throw new Error('A required setting "'+n+'" was not provided');this.settings[n]=this.defaults[n]}this.rowHeightCache=[]}function C(e){this.instance=e,this.TABLE=this.instance.getSetting("table"),this.wtDom=this.instance.wtDom,this.wtDom.removeTextNodes(this.TABLE),this.hasEmptyCellProblem=t.browser.msie&&parseInt(t.browser.version,10)<=7,this.hasCellSpacingProblem=t.browser.msie&&parseInt(t.browser.version,10)<=7,this.hasCellSpacingProblem&&(this.TABLE.cellSpacing=0),this.TABLE.setAttribute("tabindex",1e4),this.visibilityStartRow=this.visibilityStartColumn=this.visibilityEdgeRow=this.visibilityEdgeColumn=null;var i=this.TABLE.parentNode;if(!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var n=document.createElement("DIV");if(this.instance.hasSetting("width")&&this.instance.hasSetting("height")){var s=n.style;s.position="absolute",s.top="0",s.left="0",s.width="4000px",s.height="4000px"}n.className="wtSpreader",i&&i.insertBefore(n,this.TABLE),n.appendChild(this.TABLE)}if(this.spreader=this.TABLE.parentNode,i=this.spreader.parentNode,!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var o=document.createElement("DIV");o.className="wtHider",i&&i.insertBefore(o,this.spreader),o.appendChild(this.spreader)}if(this.hider=this.spreader.parentNode,this.hiderStyle=this.hider.style,this.hiderStyle.position="relative",i=this.hider.parentNode,!i||1!==i.nodeType||!this.wtDom.hasClass(i,"wtHolder")){var a=document.createElement("DIV");a.style.position="relative",a.className="wtHolder",i&&i.insertBefore(a,this.hider),a.appendChild(this.hider)}if(this.parent=this.hider.parentNode,this.TBODY=this.TABLE.getElementsByTagName("TBODY")[0],this.TBODY||(this.TBODY=document.createElement("TBODY"),this.TABLE.appendChild(this.TBODY)),this.THEAD=this.TABLE.getElementsByTagName("THEAD")[0],this.THEAD||(this.THEAD=document.createElement("THEAD"),this.TABLE.insertBefore(this.THEAD,this.TBODY)),this.COLGROUP=this.TABLE.getElementsByTagName("COLGROUP")[0],this.COLGROUP||(this.COLGROUP=document.createElement("COLGROUP"),this.TABLE.insertBefore(this.COLGROUP,this.THEAD)),this.instance.hasSetting("columnHeaders")&&!this.THEAD.childNodes.length){var r=document.createElement("TR");this.THEAD.appendChild(r)}this.colgroupChildrenLength=this.COLGROUP.childNodes.length,this.theadChildrenLength=this.THEAD.firstChild?this.THEAD.firstChild.childNodes.length:0,this.tbodyChildrenLength=this.TBODY.childNodes.length}function T(e){var i=this;this.instance=e,t(this.instance.wtTable.TABLE).on("mousewheel",function(t,e,n,s){clearTimeout(i.instance.wheelTimeout),i.instance.wheelTimeout=setTimeout(function(){s?i.instance.wtScroll.wtScrollbarH.visible&&i.instance.scrollVertical(-Math.ceil(s)).draw():n&&i.instance.wtScroll.wtScrollbarV.visible&&i.instance.scrollHorizontal(Math.ceil(n)).draw()},0),t.preventDefault()})}i.Core=function(n,s){function o(e,i){for(var n=t.Deferred(),s=[],o=function(i){var n=t.Deferred();s.push(n);var o=e[i][3],a="string"==typeof o?o.toLowerCase():null;return function(t){for(var s=!1,r=0,l=t.length;l>r;r++){if(o===t[r]){s=!0;break}if(a===t[r].toLowerCase()){e[i][3]=t[r],s=!0;break}}s||(e[i]=null),n.resolve()}},a=e.length-1;a>=0;a--){var r=m.getCellMeta(e[a][0],c.propToCol(e[a][1]));r.strict&&r.source&&(t.isFunction(r.source)?r.source(e[a][3],o(a)):o(a)(r.source))}return t.when.apply(t,s).then(function(){for(var s=e.length-1;s>=0;s--)if(null===e[s])e.splice(s,1);else{var o=m.getCellMeta(e[s][0],c.propToCol(e[s][1]));"number"===o.dataType&&"string"==typeof e[s][3]&&e[s][3].length>0&&/^[0-9\s]*[.]*[0-9]*$/.test(e[s][3])&&(e[s][3]=numeral().unformat(e[s][3]||"0"))}if(l.settings.onBeforeChange&&e.length){var a=l.settings.onBeforeChange.apply(m.rootElement[0],[e,i]);"function"==typeof a?t.when(a).then(function(){n.resolve()}):(a===!1&&e.splice(0,e.length),n.resolve())}else n.resolve()}),t.when(n)}function a(t,e){var i=0,n=t.length;if(n){for(;n>i;){if(l.settings.minSpareRows)for(;t[i][0]>m.countRows()-1;)c.createRow();if("array"===l.dataType&&l.settings.minSpareCols)for(;c.propToCol(t[i][1])>m.countCols()-1;)c.createCol();c.set(t[i][0],t[i][1],t[i][3]),i++}m.forceFullRender=!0,h.keepEmptyRows(),u.refreshBorders(),g("datachange.handsontable",[t,e||"edit"])}}function r(e,i,n){return"object"==typeof e?e:t.isPlainObject(n)?value:[[e,i,n]]}this.rootElement=n,this.guid="ht_"+i.helper.randomString(),this.rootElement[0].id||(this.rootElement[0].id=this.guid);var l,c,h,u,d,p,m=this;l={settings:{},settingsFromDOM:{},selStart:new i.SelectionPoint,selEnd:new i.SelectionPoint,editProxy:!1,isPopulated:null,scrollable:null,undoRedo:null,extensions:{},colToProp:null,propToCol:null,dataSchema:null,dataType:"array",firstRun:!0},c={recursiveDuckSchema:function(e){var i;if(t.isPlainObject(e)){i={};for(var n in e)e.hasOwnProperty(n)&&(t.isPlainObject(e[n])?i[n]=c.recursiveDuckSchema(e[n]):i[n]=null)}else i=[];return i},recursiveDuckColumns:function(e,i,n){var s,o;if("undefined"==typeof i&&(i=0,n=""),t.isPlainObject(e))for(o in e)e.hasOwnProperty(o)&&(null===e[o]?(s=n+o,l.colToProp.push(s),l.propToCol[s]=i,i++):i=c.recursiveDuckColumns(e[o],i,o+"."));return i},createMap:function(){if("undefined"==typeof c.getSchema())throw new Error("trying to create `columns` definition but you didnt' provide `schema` nor `data`");var t,e,i=c.getSchema();if(l.colToProp=[],l.propToCol={},l.settings.columns)for(t=0,e=l.settings.columns.length;e>t;t++)l.colToProp[t]=l.settings.columns[t].data,l.propToCol[l.settings.columns[t].data]=t;else c.recursiveDuckColumns(i)},colToProp:function(t){return t=i.PluginModifiers.run(m,"col",t),l.colToProp&&"undefined"!=typeof l.colToProp[t]?l.colToProp[t]:t},propToCol:function(t){var e;return e="undefined"!=typeof l.propToCol[t]?l.propToCol[t]:t,e=i.PluginModifiers.run(m,"col",e)},getSchema:function(){return l.settings.dataSchema?"function"==typeof l.settings.dataSchema?l.settings.dataSchema():l.settings.dataSchema:l.duckDataSchema},createRow:function(e){var i,n=m.countRows();if(("number"!=typeof e||e>=n)&&(e=n),"array"===l.dataType){i=[];for(var s=0,o=m.countCols();o>s;s++)i.push(null)}else i="function"===l.dataType?l.settings.dataSchema(e):t.extend(!0,{},c.getSchema());l.settings.onCreateRow&&l.settings.onCreateRow(e,i),e===n?l.settings.data.push(i):l.settings.data.splice(e,0,i),m.forceFullRender=!0},createCol:function(t){if("object"===l.dataType||l.settings.columns)throw new Error("Cannot create new column. When data source in an object, you can only have as much columns as defined in first data row, data schema or in the 'columns' setting");var e=0,i=m.countRows();if("number"!=typeof t||t>=m.countCols())for(;i>e;e++)"undefined"==typeof l.settings.data[e]&&(l.settings.data[e]=[]),l.settings.data[e].push("");else for(;i>e;e++)l.settings.data[e].splice(t,0,"");m.forceFullRender=!0},removeRow:function(t,e){e||(e=1),"number"!=typeof t&&(t=-e),l.settings.data.splice(t,e),m.forceFullRender=!0},removeCol:function(t,e){if("object"===l.dataType||l.settings.columns)throw new Error("cannot remove column with object data source or columns option specified");e||(e=1),"number"!=typeof t&&(t=-e);for(var i=0,n=m.countRows();n>i;i++)l.settings.data[i].splice(t,e);m.forceFullRender=!0},getVars:{},get:function(t,e){if(c.getVars.row=t,c.getVars.prop=e,i.PluginHooks.run(m,"beforeGet",c.getVars),"string"==typeof c.getVars.prop&&c.getVars.prop.indexOf(".")>-1){var n=c.getVars.prop.split("."),s=l.settings.data[c.getVars.row];if(!s)return null;for(var o=0,a=n.length;a>o;o++)if(s=s[n[o]],"undefined"==typeof s)return null;return s}return"function"==typeof c.getVars.prop?c.getVars.prop(l.settings.data.slice(c.getVars.row,c.getVars.row+1)[0]):l.settings.data[c.getVars.row]?l.settings.data[c.getVars.row][c.getVars.prop]:null},setVars:{},set:function(t,e,n){if(c.setVars.row=t,c.setVars.prop=e,c.setVars.value=n,i.PluginHooks.run(m,"beforeSet",c.setVars),"string"==typeof c.setVars.prop&&c.setVars.prop.indexOf(".")>-1){for(var s=c.setVars.prop.split("."),o=l.settings.data[c.setVars.row],a=0,r=s.length-1;r>a;a++)o=o[s[a]];o[s[a]]=c.setVars.value}else"function"==typeof c.setVars.prop?c.setVars.prop(l.settings.data.slice(c.setVars.row,c.setVars.row+1)[0],c.setVars.value):l.settings.data[c.setVars.row][c.setVars.prop]=c.setVars.value},clear:function(){for(var t=0;t<m.countRows();t++)for(var e=0;e<m.countCols();e++)c.set(t,c.colToProp(e),"")},getAll:function(){return l.settings.data},getRange:function(t,e){var i,n,s,o,a,r=[];for(n=Math.max(t.row,e.row),o=Math.max(t.col,e.col),i=Math.min(t.row,e.row);n>=i;i++){for(a=[],s=Math.min(t.col,e.col);o>=s;s++)a.push(c.get(i,c.colToProp(s)));r.push(a)}return r},getText:function(t,e){return SheetClip.stringify(c.getRange(t,e))}},h={alter:function(e,i,n){var s,o,a,r,d,p,f,v;switch(s=t.extend(!0,[],c.getAll()),e){case"insert_row":for(n||(n=1),v=0;n>v&&m.countRows()<l.settings.maxRows;)c.createRow(i),v++;v&&(l.selStart.exists()&&l.selStart.row()>=i?(l.selStart.row(l.selStart.row()+v),u.transformEnd(v,0)):u.refreshBorders());break;case"insert_col":for(n||(n=1),v=0;n>v&&m.countCols()<l.settings.maxCols;)c.createCol(i),v++;v&&(l.selStart.exists()&&l.selStart.col()>=i?(l.selStart.col(l.selStart.col()+v),u.transformEnd(0,v)):u.refreshBorders());break;case"remove_row":c.removeRow(i,n),h.keepEmptyRows(),u.refreshBorders();break;case"remove_col":c.removeCol(i,n),h.keepEmptyRows(),u.refreshBorders();break;default:throw Error('There is no such action "'+e+'"')}for(a=[],o=c.getAll(),r=0,d=o.length;d>r;r++)for(p=0,f=o[r].length;f>p;p++)a.push([r,p,s[r]?s[r][p]:null,o[r][p]]);g("datachange.handsontable",[a,"alter"]),h.keepEmptyRows()},keepEmptyRows:function(){var t,e,i,n=m.countEmptyRows(!0);if(e=m.countRows(),e<l.settings.minRows)for(t=0;t<l.settings.minRows-e;t++)c.createRow();if(n<l.settings.minSpareRows)for(;n<l.settings.minSpareRows&&m.countRows()<l.settings.maxRows;n++)c.createRow();if(i=m.countEmptyCols(!0),!l.settings.columns&&m.countCols()<l.settings.minCols)for(;m.countCols()<l.settings.minCols;i++)c.createCol();if(!l.settings.columns&&"array"===l.dataType&&i<l.settings.minSpareCols)for(;i<l.settings.minSpareCols&&m.countCols()<l.settings.maxCols;i++)c.createCol();if(l.settings.enterBeginsEditing)for(;(l.settings.minRows||l.settings.minSpareRows)&&m.countRows()>l.settings.minRows&&l.settings.minSpareRows&&n>l.settings.minSpareRows;n--)c.removeRow();if(l.settings.enterBeginsEditing&&!l.settings.columns)for(;(l.settings.minCols||l.settings.minSpareCols)&&m.countCols()>l.settings.minCols&&l.settings.minSpareCols&&i>l.settings.minSpareCols;i--)c.removeCol();var s=m.countRows(),o=m.countCols();if(0!==s&&0!==o||u.deselect(),l.selStart.exists()){var a,r=l.selStart.row(),h=l.selStart.col(),d=l.selEnd.row(),p=l.selEnd.col();r>s-1?(r=s-1,a=!0,d>r&&(d=r)):d>s-1&&(d=s-1,a=!0,r>d&&(r=d)),h>o-1?(h=o-1,a=!0,p>h&&(p=h)):p>o-1&&(p=o-1,a=!0,h>p&&(h=p)),a&&m.selectCell(r,h,d,p)}},populateFromArray:function(t,e,i,n){var s,o,a,r,c=[],h={};if(o=e.length,0===o)return!1;for(h.row=t.row,h.col=t.col,s=0;o>s&&!(i&&h.row>i.row||!l.settings.minSpareRows&&h.row>m.countRows()-1||h.row>=l.settings.maxRows);s++){for(h.col=t.col,r=e[s]?e[s].length:0,a=0;r>a&&!(i&&h.col>i.col||!l.settings.minSpareCols&&h.col>m.countCols()-1||h.col>=l.settings.maxCols);a++)m.getCellMeta(h.row,h.col).isWritable&&c.push([h.row,h.col,e[s][a]]),h.col++,i&&a===r-1&&(a=-1);h.row++,i&&s===o-1&&(s=-1)}m.setDataAtCell(c,null,null,n||"populateFromArray")},getCornerCoords:function(e){function i(e,i,n){function s(t){return t[n]}return Array.prototype.map?e.apply(Math,i.map(s)):e.apply(Math,t.map(i,s))}return{TL:{row:i(Math.min,e,"row"),col:i(Math.min,e,"col")},BR:{row:i(Math.max,e,"row"),col:i(Math.max,e,"col")}}},getCellsAtCoords:function(t,e){var i,n,s=h.getCornerCoords([t,e]),o=[];for(i=s.TL.row;i<=s.BR.row;i++)for(n=s.TL.col;n<=s.BR.col;n++)o.push(m.view.getCellAtCoords({row:i,col:n}));return o}},this.selection=u={inProgress:!1,begin:function(){m.selection.inProgress=!0},finish:function(){var t=m.getSelected();m.rootElement.triggerHandler("selectionend.handsontable",t),m.rootElement.triggerHandler("selectionendbyprop.handsontable",[t[0],m.colToProp(t[1]),t[2],m.colToProp(t[3])]),m.selection.inProgress=!1},isInProgress:function(){return m.selection.inProgress},setRangeStart:function(t){l.selStart.coords(t),u.setRangeEnd(t)},setRangeEnd:function(t,e){m.selection.begin(),l.selEnd.coords(t),l.settings.multiSelect||l.selStart.coords(t),m.view.wt.selections.current.clear(),m.view.wt.selections.current.add(l.selStart.arr()),m.view.wt.selections.area.clear(),u.isMultiple()&&(m.view.wt.selections.area.add(l.selStart.arr()),m.view.wt.selections.area.add(l.selEnd.arr())),m.rootElement.triggerHandler("selection.handsontable",[l.selStart.row(),l.selStart.col(),l.selEnd.row(),l.selEnd.col()]),m.rootElement.triggerHandler("selectionbyprop.handsontable",[l.selStart.row(),c.colToProp(l.selStart.col()),l.selEnd.row(),c.colToProp(l.selEnd.col())]),e!==!1&&(m.view.scrollViewport(t),m.view.wt.draw(!0),m.view.scrollViewport(t)),u.refreshBorders()},refreshBorders:function(t,e){e||d.destroy(t),m.view.render(),u.isSelected()&&!e&&d.prepare()},isMultiple:function(){return!(l.selEnd.col()===l.selStart.col()&&l.selEnd.row()===l.selStart.row())},transformStart:function(t,e,i){l.selStart.row()+t>m.countRows()-1?i&&l.settings.minSpareRows>0?m.alter("insert_row",m.countRows()):l.settings.autoWrapCol&&l.selStart.col()+e<m.countCols()-1&&(t=1-m.countRows(),e=1):l.settings.autoWrapCol&&l.selStart.row()+t<0&&l.selStart.col()+e>=0&&(t=m.countRows()-1,e=-1),l.selStart.col()+e>m.countCols()-1?i&&l.settings.minSpareCols>0?m.alter("insert_col",m.countCols()):l.settings.autoWrapRow&&l.selStart.row()+t<m.countRows()-1&&(t=1,e=1-m.countCols()):l.settings.autoWrapRow&&l.selStart.col()+e<0&&l.selStart.row()+t>=0&&(t=-1,e=m.countCols()-1);var n=m.countRows(),s=m.countCols(),o={row:l.selStart.row()+t,col:l.selStart.col()+e};o.row<0?o.row=0:o.row>0&&o.row>=n&&(o.row=n-1),o.col<0?o.col=0:o.col>0&&o.col>=s&&(o.col=s-1),u.setRangeStart(o)},transformEnd:function(t,e){if(l.selEnd.exists()){var i=m.countRows(),n=m.countCols(),s={row:l.selEnd.row()+t,col:l.selEnd.col()+e};s.row<0?s.row=0:s.row>0&&s.row>=i&&(s.row=i-1),s.col<0?s.col=0:s.col>0&&s.col>=n&&(s.col=n-1),u.setRangeEnd(s)}},isSelected:function(){return l.selEnd.exists()},inInSelection:function(t){if(!u.isSelected())return!1;var e=h.getCornerCoords([l.selStart.coords(),l.selEnd.coords()]);return e.TL.row<=t.row&&e.BR.row>=t.row&&e.TL.col<=t.col&&e.BR.col>=t.col},deselect:function(){u.isSelected()&&(m.selection.inProgress=!1,l.selEnd=new i.SelectionPoint,m.view.wt.selections.current.clear(),m.view.wt.selections.area.clear(),d.destroy(),u.refreshBorders(),m.rootElement.triggerHandler("deselect.handsontable"))},selectAll:function(){l.settings.multiSelect&&(u.setRangeStart({row:0,col:0}),u.setRangeEnd({row:m.countRows()-1,col:m.countCols()-1},!1))},empty:function(){if(u.isSelected()){var t,e,i=h.getCornerCoords([l.selStart.coords(),l.selEnd.coords()]),n=[];for(t=i.TL.row;t<=i.BR.row;t++)for(e=i.TL.col;e<=i.BR.col;e++)m.getCellMeta(t,e).isWritable&&n.push([t,e,""]);m.setDataAtCell(n)}}},this.autofill=p={handle:null,init:function(){p.handle?p.handle.disabled=!1:p.handle={}},disable:function(){p.handle.disabled=!0},selectAdjacent:function(){var t,e,i,n,s;t=u.isMultiple()?m.view.wt.selections.area.getCorners():m.view.wt.selections.current.getCorners(),e=c.getAll();t:for(i=t[2]+1;i<m.countRows();i++){for(s=t[1];s<=t[3];s++)if(e[i][s])break t;(e[i][t[1]-1]||e[i][t[3]+1])&&(n=i)}n&&(m.view.wt.selections.fill.clear(),m.view.wt.selections.fill.add([t[0],t[1]]),m.view.wt.selections.fill.add([n,t[3]]),p.apply())},apply:function(){var t,e,i,n;p.handle.isDragged=0,t=m.view.wt.selections.fill.getCorners(),t&&(m.view.wt.selections.fill.clear(),e=u.isMultiple()?m.view.wt.selections.area.getCorners():m.view.wt.selections.current.getCorners(),t[0]===e[0]&&t[1]<e[1]?(i={row:t[0],col:t[1]},n={row:t[2],col:e[1]-1}):t[0]===e[0]&&t[3]>e[3]?(i={row:t[0],col:e[3]+1},n={row:t[2],col:t[3]}):t[0]<e[0]&&t[1]===e[1]?(i={row:t[0],col:t[1]},n={row:e[0]-1,col:t[3]}):t[2]>e[2]&&t[1]===e[1]&&(i={row:e[2]+1,col:t[1]},n={row:t[2],col:t[3]}),i&&(h.populateFromArray(i,SheetClip.parse(c.getText(l.selStart.coords(),l.selEnd.coords())),n,"autofill"),u.setRangeStart({row:t[0],col:t[1]}),u.setRangeEnd({row:t[2],col:t[3]})))},showBorder:function(t){t.row=t[0],t.col=t[1];var e=h.getCornerCoords([l.selStart.coords(),l.selEnd.coords()]);if("horizontal"!==l.settings.fillHandle&&(e.BR.row<t.row||e.TL.row>t.row))t=[t.row,e.BR.col];else{if("vertical"===l.settings.fillHandle)return;t=[e.BR.row,t.col]}m.view.wt.selections.fill.clear(),m.view.wt.selections.fill.add([l.selStart.coords().row,l.selStart.coords().col]),m.view.wt.selections.fill.add([l.selEnd.coords().row,l.selEnd.coords().col]),m.view.wt.selections.fill.add(t),m.view.render()}},d={init:function(){function e(){u.empty()}function n(t){m.rootElement.one("datachange.handsontable",function(t,e,i){if(e.length){var n=e[e.length-1];u.setRangeEnd({row:n[0],col:m.propToCol(n[1])})}});var e=t.replace(/^[\r\n]*/g,"").replace(/[\r\n]*$/g,""),i=SheetClip.parse(e),n=h.getCornerCoords([l.selStart.coords(),l.selEnd.coords()]);h.populateFromArray(n.TL,i,{row:Math.max(n.BR.row,i.length-1+n.TL.row),col:Math.max(n.BR.col,i[0].length-1+n.TL.col)},"paste")}function s(t){if(l.settings.beforeOnKeyDown&&l.settings.beforeOnKeyDown.call(m,t),!o.children(".context-menu-list:visible").length){if(17===t.keyCode||224===t.keyCode||91===t.keyCode||93===t.keyCode)return void d.setCopyableText();if(l.lastKeyCode=t.keyCode,u.isSelected()){var e=(t.ctrlKey||t.metaKey)&&!t.altKey;if(i.helper.isPrintableChar(t.keyCode)&&e)return void(65===t.keyCode?(u.selectAll(),d.setCopyableText(),t.preventDefault()):89===t.keyCode||t.shiftKey&&90===t.keyCode?l.undoRedo&&l.undoRedo.redo():90===t.keyCode&&l.undoRedo&&l.undoRedo.undo());var n=t.shiftKey?u.setRangeEnd:u.setRangeStart;switch(t.keyCode){case 38:t.shiftKey?u.transformEnd(-1,0):u.transformStart(-1,0),t.preventDefault(),t.stopPropagation();break;case 9:var s="function"==typeof l.settings.tabMoves?l.settings.tabMoves(t):l.settings.tabMoves;t.shiftKey?u.transformStart(-s.row,-s.col):u.transformStart(s.row,s.col,!0),t.preventDefault(),t.stopPropagation();break;case 39:t.shiftKey?u.transformEnd(0,1):u.transformStart(0,1),t.preventDefault(),t.stopPropagation();break;case 37:t.shiftKey?u.transformEnd(0,-1):u.transformStart(0,-1),t.preventDefault(),t.stopPropagation();break;case 8:case 46:u.empty(t),t.preventDefault();break;case 40:t.shiftKey?u.transformEnd(1,0):u.transformStart(1,0),t.preventDefault(),t.stopPropagation();break;case 113:t.preventDefault();break;case 13:var a="function"==typeof l.settings.enterMoves?l.settings.enterMoves(t):l.settings.enterMoves;
t.shiftKey?u.transformStart(-a.row,-a.col):u.transformStart(a.row,a.col,!0),t.preventDefault();break;case 36:n(t.ctrlKey||t.metaKey?{row:0,col:l.selStart.col()}:{row:l.selStart.row(),col:0}),t.preventDefault(),t.stopPropagation();break;case 35:n(t.ctrlKey||t.metaKey?{row:m.countRows()-1,col:l.selStart.col()}:{row:l.selStart.row(),col:m.countCols()-1}),t.preventDefault(),t.stopPropagation();break;case 33:u.transformStart(-m.countVisibleRows(),0),m.view.wt.scrollVertical(-m.countVisibleRows()),m.view.render(),t.preventDefault(),t.stopPropagation();break;case 34:u.transformStart(m.countVisibleRows(),0),m.view.wt.scrollVertical(m.countVisibleRows()),m.view.render(),t.preventDefault(),t.stopPropagation()}}}}var o=t(document.body);m.copyPaste=new f(m.rootElement[0]),m.copyPaste.onCut(e),m.copyPaste.onPaste(n),m.rootElement.on("keydown.handsontable."+m.guid,s)},destroy:function(t){if("function"==typeof l.editorDestroyer){var e=l.editorDestroyer;l.editorDestroyer=null,e(t)}},setCopyableText:function(){var t=Math.min(l.selStart.row(),l.selEnd.row()),e=Math.min(l.selStart.col(),l.selEnd.col()),i=Math.max(l.selStart.row(),l.selEnd.row()),n=Math.max(l.selStart.col(),l.selEnd.col()),s=Math.min(i,t+l.settings.copyRowsLimit-1),o=Math.min(n,e+l.settings.copyColsLimit-1);m.copyPaste.copyable(c.getText({row:t,col:e},{row:s,col:o})),i===s&&n===o||!l.settings.onCopyLimit||l.settings.onCopyLimit(i-t+1,n-e+1,l.settings.copyRowsLimit,l.settings.copyColsLimit)},prepare:function(){if(m.getCellMeta(l.selStart.row(),l.selStart.col()).isWritable)if(l.settings.asyncRendering)m.registerTimeout("prepareFrame",function(){var t=m.view.getCellAtCoords(l.selStart.coords());i.helper.isDescendant(m.rootElement[0],document.activeElement)&&t.focus(),l.editorDestroyer=m.view.applyCellTypeMethod("editor",t,l.selStart.row(),l.selStart.col())},0);else{var t=m.view.getCellAtCoords(l.selStart.coords());i.helper.isDescendant(m.rootElement[0],document.activeElement)&&t.focus(),l.editorDestroyer=m.view.applyCellTypeMethod("editor",t,l.selStart.row(),l.selStart.col())}}},this.init=function(){i.PluginHooks.run(m,"beforeInit"),d.init(),v(),this.updateSettings(s),this.parseSettingsFromDOM(),this.view=new i.TableView(this),this.forceFullRender=!0,this.view.render(),this.$table[0].focus(),"object"==typeof l.firstRun&&(g("datachange.handsontable",l.firstRun),l.firstRun=!1),i.PluginHooks.run(m,"afterInit")};var g=function(t,e){l.settings.asyncRendering?m.registerTimeout("fireEvent",function(){m.rootElement.triggerHandler(t,e)},0):m.rootElement.triggerHandler(t,e)},v=function(){m.rootElement.on("datachange.handsontable",function(t,e,i){l.settings.onChange&&l.settings.onChange.apply(m.rootElement[0],[e,i])}),m.rootElement.on("selection.handsontable",function(t,e,i,n,s){l.settings.onSelection&&l.settings.onSelection.apply(m.rootElement[0],[e,i,n,s])}),m.rootElement.on("selectionbyprop.handsontable",function(t,e,i,n,s){l.settings.onSelectionByProp&&l.settings.onSelectionByProp.apply(m.rootElement[0],[e,i,n,s])}),m.rootElement.on("selectionend.handsontable",function(t,e,i,n,s){l.settings.onSelectionEnd&&l.settings.onSelectionEnd.apply(m.rootElement[0],[e,i,n,s])}),m.rootElement.on("selectionendbyprop.handsontable",function(t,e,i,n,s){l.settings.onSelectionEndByProp&&l.settings.onSelectionEndByProp.apply(m.rootElement[0],[e,i,n,s])})};this.setDataAtCell=function(t,e,i,n){var s,l,h,u=r(t,e,i),d=[];for(s=0,l=u.length;l>s;s++){if("number"!=typeof u[s][1])throw new Error("Method `setDataAtCell` accepts row and column number as its parameters. If you want to use object property name, use method `setDataAtRowProp`");h=c.colToProp(u[s][1]),d.push([u[s][0],h,c.get(u[s][0],h),u[s][2]])}o(d,n).then(function(){a(d,n)})},this.setDataAtRowProp=function(t,e,i,n){var s,l,h=r(t,e,i),u=[];for(s=0,l=h.length;l>s;s++)u.push([h[s][0],h[s][1],c.get(h[s][0],h[s][1]),h[s][2]]);o(u,n).then(function(){a(u,n)})},this.destroyEditor=function(t){u.refreshBorders(t)},this.populateFromArray=function(t,e,i,n){return h.populateFromArray(t,e,i,n)},this.getCornerCoords=function(t){return h.getCornerCoords(t)},this.getSelected=function(){return u.isSelected()?[l.selStart.row(),l.selStart.col(),l.selEnd.row(),l.selEnd.col()]:void 0},this.parseSettingsFromDOM=function(){var t=this.rootElement.css("overflow");if("scroll"===t||"auto"===t?(this.rootElement[0].style.overflow="visible",l.settingsFromDOM.overflow=t):void 0!==l.settings.width&&void 0!==l.settings.height||(l.settingsFromDOM.overflow="auto"),void 0===l.settings.width?l.settingsFromDOM.width=this.rootElement.width():l.settingsFromDOM.width=void 0,l.settingsFromDOM.height=void 0,void 0===l.settings.height&&("scroll"===l.settingsFromDOM.overflow||"auto"===l.settingsFromDOM.overflow)){var e=this.rootElement.height();e>0&&(l.settingsFromDOM.height=e)}},this.render=function(){m.view&&(m.forceFullRender=!0,u.refreshBorders(null,!0))},this.loadData=function(e){if(!(e instanceof Array))throw new Error("loadData only accepts array of objects or array of arrays ("+typeof e+" given)");l.isPopulated=!1,l.settings.data=e,l.settings.dataSchema instanceof Array||e[0]instanceof Array?l.dataType="array":t.isFunction(l.settings.dataSchema)?l.dataType="function":l.dataType="object",e[0]?l.duckDataSchema=c.recursiveDuckSchema(e[0]):l.duckDataSchema={},c.createMap(),h.keepEmptyRows(),i.PluginHooks.run(m,"afterLoadData"),l.firstRun?l.firstRun=[null,"loadData"]:(g("datachange.handsontable",[null,"loadData"]),m.render()),l.isPopulated=!0,m.clearUndo()},this.getData=function(t,e,i,n){return"undefined"==typeof t?c.getAll():c.getRange({row:t,col:e},{row:i,col:n})},this.updateSettings=function(t){var e;if("undefined"!=typeof t.rows)throw new Error("'rows' setting is no longer supported. do you mean startRows, minRows or maxRows?");if("undefined"!=typeof t.cols)throw new Error("'cols' setting is no longer supported. do you mean startCols, minCols or maxCols?");"undefined"!=typeof t.undo&&(l.undoRedo&&t.undo===!1?l.undoRedo=null:l.undoRedo||t.undo!==!0||(l.undoRedo=new i.UndoRedo(m)));for(e in t)"data"!==e&&t.hasOwnProperty(e)&&(l.settings[e]=t[e],i.extension[e]&&(l.extensions[e]=new i.extension[e](m,t[e])));if(void 0===t.data&&void 0===l.settings.data){for(var n,s=[],o=0,a=l.settings.startRows;a>o;o++){n=[];for(var r=0,d=l.settings.startCols;d>r;r++)n.push(null);s.push(n)}m.loadData(s)}else void 0!==t.data?m.loadData(t.data):void 0!==t.columns&&c.createMap();"undefined"!=typeof t.fillHandle&&(p.handle&&t.fillHandle===!1?p.disable():p.handle||t.fillHandle===!1||p.init()),h.keepEmptyRows(),m.view&&(m.forceFullRender=!0,u.refreshBorders(null,!0))},this.getSettings=function(){return l.settings},this.getSettingsFromDOM=function(){return l.settingsFromDOM},this.clear=function(){u.selectAll(),u.empty()},this.isUndoAvailable=function(){return l.undoRedo&&l.undoRedo.isUndoAvailable()},this.isRedoAvailable=function(){return l.undoRedo&&l.undoRedo.isRedoAvailable()},this.undo=function(){l.undoRedo&&l.undoRedo.undo()},this.redo=function(){l.undoRedo&&l.undoRedo.redo()},this.clearUndo=function(){l.undoRedo&&l.undoRedo.clear()},this.alter=function(t,e,i){h.alter(t,e,i)},this.getCell=function(t,e){return m.view.getCellAtCoords({row:t,col:e})},this.colToProp=function(t){return c.colToProp(t)},this.propToCol=function(t){return c.propToCol(t)},this.getDataAtCell=function(t,e){return c.get(t,c.colToProp(e))},this.getDataAtRowProp=function(t,e){return c.get(t,e)},this.getCellMeta=function(e,n){var s,o,a=t.extend(!0,a,i.TextCell),r=c.colToProp(n);if(l.settings.columns&&(a=t.extend(!0,a,l.settings.columns[n]||{})),l.settings.cells&&(a=t.extend(!0,a,l.settings.cells(e,n,r)||{})),i.PluginHooks.run(m,"beforeGetCellMeta",e,n,a),"string"==typeof a.type&&i.cellTypes[a.type]?o=i.cellTypes[a.type]:"object"==typeof a.type&&(o=a.type),o)for(s in o)o.hasOwnProperty(s)&&(a[s]=o[s]);return a.isWritable=!a.readOnly,i.PluginHooks.run(m,"afterGetCellMeta",e,n,a),a},this.getRowHeader=function(t){return"[object Array]"===Object.prototype.toString.call(l.settings.rowHeaders)&&void 0!==l.settings.rowHeaders[t]?l.settings.rowHeaders[t]:"function"==typeof l.settings.rowHeaders?l.settings.rowHeaders(t):l.settings.rowHeaders&&"string"!=typeof l.settings.rowHeaders&&"number"!=typeof l.settings.rowHeaders?t+1:l.settings.rowHeaders},this.getColHeader=function(t,e){t=i.PluginModifiers.run(m,"col",t);var n=document.createElement("DIV"),s=document.createElement("SPAN"),o=m.view.wt.wtDom.avoidInnerHTML;for(n.className="relative",s.className="colHeader",l.settings.columns&&l.settings.columns[t]&&l.settings.columns[t].title?o(s,l.settings.columns[t].title):"[object Array]"===Object.prototype.toString.call(l.settings.colHeaders)&&void 0!==l.settings.colHeaders[t]?o(s,l.settings.colHeaders[t]):"function"==typeof l.settings.colHeaders?o(s,l.settings.colHeaders(t)):l.settings.colHeaders&&"string"!=typeof l.settings.colHeaders&&"number"!=typeof l.settings.colHeaders?s.appendChild(document.createTextNode(i.helper.spreadsheetColumnLabel(t))):o(s,l.settings.colHeaders),n.appendChild(s);e.firstChild;)e.removeChild(e.firstChild);e.appendChild(n),i.PluginHooks.run(m,"afterGetColHeader",t,e)},this.getColWidth=function(t){t=i.PluginModifiers.run(m,"col",t);var e={};return l.settings.columns&&l.settings.columns[t]&&l.settings.columns[t].width?e.width=l.settings.columns[t].width:"[object Array]"===Object.prototype.toString.call(l.settings.colWidths)&&void 0!==l.settings.colWidths[t]?e.width=l.settings.colWidths[t]:e.width=50,i.PluginHooks.run(m,"afterGetColWidth",t,e),e.width},this.countRows=function(){return l.settings.data.length},this.countCols=function(){return"object"===l.dataType||"function"===l.dataType?l.settings.columns&&l.settings.columns.length?l.settings.columns.length:l.colToProp.length:"array"===l.dataType?l.settings.columns&&l.settings.columns.length?l.settings.columns.length:l.settings.data&&l.settings.data[0]&&l.settings.data[0].length?l.settings.data[0].length:0:void 0},this.rowOffset=function(){return m.view.wt.getSetting("offsetRow")},this.colOffset=function(){return m.view.wt.getSetting("offsetColumn")},this.countVisibleRows=function(){return m.view.wt.getSetting("viewportRows")},this.countVisibleCols=function(){return m.view.wt.getSetting("viewportColumns")},this.countEmptyRows=function(t){for(var e=m.countRows()-1,i=0;e>=0;){if(m.isEmptyRow(e))i++;else if(t)break;e--}return i},this.countEmptyCols=function(t){if(m.countRows()<1)return 0;for(var e=m.countCols()-1,i=0;e>=0;){if(m.isEmptyCol(e))i++;else if(t)break;e--}return i},this.isEmptyRow=function(t){if(l.settings.isEmptyRow)return l.settings.isEmptyRow.call(this,t);for(var e,i=0,n=this.countCols();n>i;i++)if(e=this.getDataAtCell(t,i),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},this.isEmptyCol=function(t){if(l.settings.isEmptyCol)return l.settings.isEmptyCol.call(this,t);for(var e,i=0,n=this.countRows();n>i;i++)if(e=this.getDataAtCell(i,t),""!==e&&null!==e&&"undefined"!=typeof e)return!1;return!0},this.selectCell=function(t,e,i,n,s){if("number"!=typeof t||0>t||t>=m.countRows())return!1;if("number"!=typeof e||0>e||e>=m.countCols())return!1;if("undefined"!=typeof i){if("number"!=typeof i||0>i||i>=m.countRows())return!1;if("number"!=typeof n||0>n||n>=m.countCols())return!1}return l.selStart.coords({row:t,col:e}),m.$table[0].focus(),"undefined"==typeof i?u.setRangeEnd({row:t,col:e},s):u.setRangeEnd({row:i,col:n},s),m.selection.finish(),!0},this.selectCellByProp=function(t,e,i,n,s){return arguments[1]=c.propToCol(arguments[1]),"undefined"!=typeof arguments[3]&&(arguments[3]=c.propToCol(arguments[3])),m.selectCell.apply(m,arguments)},this.deselectCell=function(){u.deselect()},this.destroy=function(){m.clearTimeouts(),m.view&&m.view.wt.destroy(),m.rootElement.empty(),m.rootElement.removeData("handsontable"),m.rootElement.off(".handsontable"),t(e).off("."+m.guid),t(document.documentElement).off("."+m.guid),i.PluginHooks.run(m,"afterDestroy")},this.timeouts={},this.registerTimeout=function(t,e,i){clearTimeout(this.timeouts[t]),this.timeouts[t]=setTimeout(e,i||0)},this.clearTimeouts=function(){for(var t in this.timeouts)this.timeouts.hasOwnProperty(t)&&clearTimeout(this.timeouts[t])},this.version="0.8.19"};var S={data:void 0,width:void 0,height:void 0,startRows:5,startCols:5,minRows:0,minCols:0,maxRows:1/0,maxCols:1/0,minSpareRows:0,minSpareCols:0,multiSelect:!0,fillHandle:!0,undo:!0,outsideClickDeselects:!0,enterBeginsEditing:!0,enterMoves:{row:1,col:0},tabMoves:{row:0,col:1},autoWrapRow:!1,autoWrapCol:!1,copyRowsLimit:1e3,copyColsLimit:1e3,currentRowClassName:void 0,currentColClassName:void 0,asyncRendering:!0,stretchH:"hybrid",isEmptyRow:void 0,isEmptyCol:void 0};t.fn.handsontable=function(e){var n,s,o,a,r=[];if("string"!=typeof e)return a=e||{},this.each(function(){var e=t(this);if(e.data("handsontable"))s=e.data("handsontable"),s.updateSettings(a);else{var s,o=t.extend(!0,{},S);for(n in a)a.hasOwnProperty(n)&&(o[n]=a[n]);s=new i.Core(e,o),e.data("handsontable",s),s.init()}});if(o=[],arguments.length>1)for(n=1,s=arguments.length;s>n;n++)o.push(arguments[n]);return this.each(function(){var i=t(this).data("handsontable");i&&(r=i[e].apply(this,o))}),r},i.TableView=function(n){var s=this,o=t(e),a=t(document.documentElement);this.instance=n,this.settings=n.getSettings(),this.settingsFromDOM=n.getSettingsFromDOM(),n.rootElement.data("originalStyle",n.rootElement.attr("style")),n.rootElement.addClass("handsontable");var r=document.createElement("TABLE");r.className="htCore",r.appendChild(document.createElement("THEAD")),r.appendChild(document.createElement("TBODY")),n.$table=t(r),n.rootElement.prepend(n.$table),a.on("keyup."+n.guid,function(t){n.selection.isInProgress()&&!t.shiftKey&&n.selection.finish()});var l,c;a.on("mouseup."+n.guid,function(t){n.selection.isInProgress()&&1===t.which&&n.selection.finish(),l=!1,clearInterval(c),c=null,n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged>1&&n.autofill.apply(),n.autofill.handle.isDragged=0)}),a.on("mousedown."+n.guid,function(e){var i=e.target;if(i!==s.wt.wtTable.spreader)for(;null!==i&&i!==document.documentElement;){if(i===n.rootElement[0]||"context-menu-layer"===i.id||t(i).is(".context-menu-list")||t(i).is(".typeahead li"))return;i=i.parentNode}s.settings.outsideClickDeselects?n.deselectCell():n.destroyEditor()}),n.$table.on("selectstart",function(t){t.preventDefault()}),n.$table.on("mouseenter",function(){c&&(clearInterval(c),c=null)}),n.$table.on("mouseleave",function(t){if(l||n.autofill.handle&&n.autofill.handle.isDragged){var e,i,o=1,a=s.wt.wtDom.offset(r),h=a.top+o,u=a.left+o,d=s.containerWidth-s.wt.getSetting("scrollbarWidth")-2*o,p=s.containerHeight-s.wt.getSetting("scrollbarHeight")-2*o,f=0,m=0;t.pageY<h?(f=-1,e="scrollVertical"):t.pageY>=h+p?(f=1,e="scrollVertical"):t.pageX<u?(m=-1,e="scrollHorizontal"):t.pageX>=u+d&&(m=1,e="scrollHorizontal"),e&&(i=function(){(l||n.autofill.handle&&n.autofill.handle.isDragged)&&s.wt[e](f+m).draw()},i(),c=setInterval(i,100))}});var h=function(){e.getSelection?e.getSelection().empty?e.getSelection().empty():e.getSelection().removeAllRanges&&e.getSelection().removeAllRanges():document.selection&&document.selection.empty()},u={table:r,async:s.settings.asyncRendering,stretchH:s.settings.stretchH,data:n.getDataAtCell,totalRows:n.countRows,totalColumns:n.countCols,offsetRow:0,offsetColumn:0,width:this.getWidth(),height:this.getHeight(),rowHeaders:s.settings.rowHeaders?[n.getRowHeader]:null,columnHeaders:s.settings.colHeaders?n.getColHeader:null,columnWidth:n.getColWidth,cellRenderer:function(t,e,i){s.applyCellTypeMethod("renderer",i,t,e)},selections:{current:{className:"current",highlightRowClassName:s.settings.currentRowClassName,highlightColumnClassName:s.settings.currentColClassName,border:{width:2,color:"#5292F7",style:"solid",cornerVisible:function(){return s.settings.fillHandle&&!s.isCellEdited()&&!n.selection.isMultiple()}}},area:{className:"area",highlightRowClassName:s.settings.currentRowClassName,highlightColumnClassName:s.settings.currentColClassName,border:{width:1,color:"#89AFF9",style:"solid",cornerVisible:function(){return s.settings.fillHandle&&!s.isCellEdited()&&n.selection.isMultiple()}}},fill:{className:"fill",border:{width:1,color:"red",style:"solid"}}},onCellMouseDown:function(t,e,i){l=!0;var o={row:e[0],col:e[1]};2===t.button&&n.selection.inInSelection(o)||(t.shiftKey?n.selection.setRangeEnd(o):n.selection.setRangeStart(o)),i.focus(),t.preventDefault(),h(),s.settings.afterOnCellMouseDown&&s.settings.afterOnCellMouseDown.call(n,t,e,i)},onCellMouseOver:function(t,e,i){var s={row:e[0],col:e[1]};l?n.selection.setRangeEnd(s):n.autofill.handle&&n.autofill.handle.isDragged&&(n.autofill.handle.isDragged++,n.autofill.showBorder(e))},onCellCornerMouseDown:function(t){n.autofill.handle.isDragged=1,t.preventDefault()},onCellCornerDblClick:function(){n.autofill.selectAdjacent()}};i.PluginHooks.run(n,"walkontableConfig",u),this.wt=new v(u),o.on("resize."+n.guid,function(){n.registerTimeout("resizeTimeout",function(){n.parseSettingsFromDOM();var t=s.getWidth(),e=s.getHeight();u.width===t&&u.height===e||(n.forceFullRender=!0,s.render(),u.width=t,u.height=e)},60)}),t(s.wt.wtTable.spreader).on("mousedown.handsontable, contextmenu.handsontable",function(t){t.target===s.wt.wtTable.spreader&&3===t.which&&t.stopPropagation()})},i.TableView.prototype.isCellEdited=function(){return this.instance.textEditor&&this.instance.textEditor.isCellEdited||this.instance.autocompleteEditor&&this.instance.autocompleteEditor.isCellEdited||this.instance.handsontableEditor&&this.instance.handsontableEditor.isCellEdited},i.TableView.prototype.getWidth=function(){var t=void 0!==this.settings.width?this.settings.width:this.settingsFromDOM.width;return"function"==typeof t?t():t},i.TableView.prototype.getHeight=function(){var t=void 0!==this.settings.height?this.settings.height:this.settingsFromDOM.height;return"function"==typeof t?t():t},i.TableView.prototype.render=function(){this.instance.forceFullRender&&(i.PluginHooks.run(this.instance,"beforeRender"),this.wt.update("width",this.getWidth()),this.wt.update("height",this.getHeight())),this.wt.draw(!this.instance.forceFullRender),this.instance.rootElement.triggerHandler("render.handsontable"),this.instance.forceFullRender&&i.PluginHooks.run(this.instance,"afterRender"),this.instance.forceFullRender=!1},i.TableView.prototype.applyCellTypeMethod=function(t,e,i,n){var s=this.instance.colToProp(n),o=this.instance.getCellMeta(i,n);return o[t]?o[t](this.instance,e,i,n,s,this.instance.getDataAtRowProp(i,s),o):void 0},i.TableView.prototype.getCellAtCoords=function(t){var e=this.wt.wtTable.getCell([t.row,t.col]);return 0>e?null:e},i.TableView.prototype.scrollViewport=function(t){this.wt.scrollViewport([t.row,t.col])},i.helper.isPrintableChar=function(t){return 32==t||t>=48&&57>=t||t>=96&&111>=t||t>=186&&192>=t||t>=219&&222>=t||t>=226||t>=65&&90>=t},i.helper.stringify=function(t){switch(typeof t){case"string":case"number":return t+"";case"object":return null===t?"":t.toString();case"undefined":return"";default:return t.toString()}},i.helper.spreadsheetColumnLabel=function(t){for(var e,i=t+1,n="";i>0;)e=(i-1)%26,n=String.fromCharCode(65+e)+n,i=parseInt((i-e)/26,10);return n},i.helper.isDescendant=function(t,e){for(var i=e.parentNode;null!=i;){if(i==t)return!0;i=i.parentNode}return!1},i.helper.randomString=function(){function t(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)}return t()+t()+t()+t()},i.helper.inherit=function(t,e){function i(){}return i.prototype=e.prototype,t.prototype=new i,t.prototype.constructor=t,t},i.UndoRedo=function(t){var e=this;this.instance=t,this.clear(),t.rootElement.on("datachange.handsontable",function(t,i,n){"undo"!==n&&"redo"!==n&&e.add(i)})},i.UndoRedo.prototype.undo=function(){var e,i;if(this.isUndoAvailable()){var n=t.extend(!0,[],this.data[this.rev]);for(e=0,i=n.length;i>e;e++)n[e].splice(3,1);this.instance.setDataAtRowProp(n,null,null,"undo"),this.rev--}},i.UndoRedo.prototype.redo=function(){var e,i;if(this.isRedoAvailable()){this.rev++;var n=t.extend(!0,[],this.data[this.rev]);for(e=0,i=n.length;i>e;e++)n[e].splice(2,1);this.instance.setDataAtRowProp(n,null,null,"redo")}},i.UndoRedo.prototype.isUndoAvailable=function(){return this.rev>=0},i.UndoRedo.prototype.isRedoAvailable=function(){return this.rev<this.data.length-1},i.UndoRedo.prototype.add=function(t){this.rev++,this.data.splice(this.rev),this.data.push(t)},i.UndoRedo.prototype.clear=function(){this.data=[],this.rev=-1},i.SelectionPoint=function(){this._row=null,this._col=null},i.SelectionPoint.prototype.exists=function(){return null!==this._row},i.SelectionPoint.prototype.row=function(t){return void 0!==t&&(this._row=t),this._row},i.SelectionPoint.prototype.col=function(t){return void 0!==t&&(this._col=t),this._col},i.SelectionPoint.prototype.coords=function(t){return void 0!==t&&(this._row=t.row,this._col=t.col),{row:this._row,col:this._col}},i.SelectionPoint.prototype.arr=function(t){return void 0!==t&&(this._row=t[0],this._col=t[1]),[this._row,this._col]},i.TextRenderer=function(t,e,n,s,o,a,r){var l=i.helper.stringify(a);l.match(/\n/)?(l=l.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#039;"),e.innerHTML=l.replace(/\n/g,"<br/>")):(t.view.wt.wtDom.empty(e),e.appendChild(document.createTextNode(l)))},i.AutocompleteRenderer=function(t,e,n,s,o,a,r){var l=document.createElement("DIV");l.className="htAutocomplete";var c=document.createElement("DIV");c.className="htAutocompleteArrow",c.appendChild(document.createTextNode("▼")),t.acArrowListener||(t.acArrowListener=function(){t.view.wt.getSetting("onCellDblClick")},t.rootElement.on("mouseup",".htAutocompleteArrow",t.acArrowListener)),i.TextRenderer(t,l,n,s,o,a,r),l.firstChild||l.appendChild(document.createTextNode(" ")),l.appendChild(c),t.view.wt.wtDom.empty(e),e.appendChild(l)},i.CheckboxRenderer=function(e,n,s,o,a,r,l){"undefined"==typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"==typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),e.view.wt.wtDom.empty(n);var c=document.createElement("INPUT");c.className="htCheckboxRendererInput",c.type="checkbox",c.setAttribute("autocomplete","off"),r===l.checkedTemplate||r===i.helper.stringify(l.checkedTemplate)?(c.checked=!0,n.appendChild(c)):r===l.uncheckedTemplate||r===i.helper.stringify(l.uncheckedTemplate)?n.appendChild(c):null===r?(c.className+=" noValue",n.appendChild(c)):n.appendChild(document.createTextNode("#bad value#"));var h=t(c);return l.readOnly?h.on("click",function(t){t.preventDefault()}):(h.on("mousedown",function(t){this.checked?e.setDataAtRowProp(s,a,l.uncheckedTemplate):e.setDataAtRowProp(s,a,l.checkedTemplate),t.stopPropagation()}),h.on("mouseup",function(t){t.stopPropagation()})),n},i.NumericRenderer=function(t,e,n,s,o,a,r){"number"==typeof a?("undefined"!=typeof r.language&&numeral.language(r.language),t.view.wt.wtDom.empty(e),e.className="htNumeric",e.appendChild(document.createTextNode(numeral(a).format(r.format||"0")))):i.TextRenderer(t,e,n,s,o,a,r)},n.prototype.createElements=function(){this.TEXTAREA=document.createElement("TEXTAREA"),this.TEXTAREA.className="handsontableInput",this.textareaStyle=this.TEXTAREA.style,this.textareaStyle.width=0,this.textareaStyle.height=0,this.$textarea=t(this.TEXTAREA),this.TEXTAREA_PARENT=document.createElement("DIV"),this.TEXTAREA_PARENT.className="handsontableInputHolder",this.textareaParentStyle=this.TEXTAREA_PARENT.style,this.textareaParentStyle.top=0,this.textareaParentStyle.left=0,this.textareaParentStyle.display="none",this.$textareaParent=t(this.TEXTAREA_PARENT),this.TEXTAREA_PARENT.appendChild(this.TEXTAREA),this.instance.rootElement[0].appendChild(this.TEXTAREA_PARENT);var e=this;i.PluginHooks.push("afterRender",function(){e.instance.registerTimeout("refresh_editor_dimensions",function(){e.refreshDimensions()},0)})},n.prototype.bindEvents=function(){var t=this;this.$textareaParent.off(".editor").on("keydown.editor",function(e){var i=(e.ctrlKey||e.metaKey)&&!e.altKey;if(17===e.keyCode||224===e.keyCode||91===e.keyCode||93===e.keyCode)return void e.stopImmediatePropagation();switch(e.keyCode){case 38:case 40:t.finishEditing(!1);break;case 9:t.finishEditing(!1),e.preventDefault();break;case 39:t.getCaretPosition(t.TEXTAREA)===t.TEXTAREA.value.length?t.finishEditing(!1):e.stopImmediatePropagation();break;case 37:0===t.getCaretPosition(t.TEXTAREA)?t.finishEditing(!1):e.stopImmediatePropagation();break;case 27:t.instance.destroyEditor(!0),e.stopImmediatePropagation();break;case 13:var n=t.instance.getSelected(),s=!(n[0]===n[2]&&n[1]===n[3]);e.ctrlKey&&!s||e.altKey?(t.TEXTAREA.value=t.TEXTAREA.value+"\n",t.TEXTAREA.focus(),e.stopImmediatePropagation()):t.finishEditing(!1,i),e.preventDefault();break;default:e.stopImmediatePropagation()}})},n.prototype.bindTemporaryEvents=function(t,e,n,s,o,a){function r(){l.beginEditing(e,n,s,!0)}this.TD=t,this.row=e,this.col=n,this.prop=s,this.originalValue=o,this.cellProperties=a;var l=this;this.instance.$table.on("keydown.editor",function(t){var o=(t.ctrlKey||t.metaKey)&&!t.altKey;if(!l.isCellEdited)if(i.helper.isPrintableChar(t.keyCode))o||l.beginEditing(e,n,s);else if(113===t.keyCode)l.beginEditing(e,n,s,!0),t.stopImmediatePropagation(),t.preventDefault();else if(13===t.keyCode&&l.instance.getSettings().enterBeginsEditing){var a=l.instance.getSelected(),r=!(a[0]===a[2]&&a[1]===a[3]);o&&!r||t.altKey?l.beginEditing(e,n,s,!0,"\n"):l.beginEditing(e,n,s,!0),t.preventDefault(),t.stopImmediatePropagation()}}),this.instance.view.wt.update("onCellDblClick",r)},n.prototype.unbindTemporaryEvents=function(){this.instance.$table.off(".editor"),this.instance.view.wt.update("onCellDblClick",null)},n.prototype.getCaretPosition=function(t){if(t.selectionStart)return t.selectionStart;if(document.selection){t.focus();var e=document.selection.createRange();if(null==e)return 0;var i=t.createTextRange(),n=i.duplicate();return i.moveToBookmark(e.getBookmark()),n.setEndPoint("EndToStart",i),n.text.length}return 0},n.prototype.setCaretPosition=function(t,e){if(t.setSelectionRange)t.focus(),t.setSelectionRange(e,e);else if(t.createTextRange){var i=t.createTextRange();i.collapse(!0),i.moveEnd("character",e),i.moveStart("character",e),i.select()}},n.prototype.beginEditing=function(t,e,n,s,o){if(!this.isCellEdited){this.isCellEdited=!0,this.row=t,this.col=e,this.prop=n;var a={row:t,col:e};if(this.instance.view.scrollViewport(a),this.instance.view.render(),this.$textarea.on("cut.editor",function(t){t.stopPropagation()}),this.$textarea.on("paste.editor",function(t){t.stopPropagation()}),s?this.TEXTAREA.value=i.helper.stringify(this.originalValue)+(o||""):this.TEXTAREA.value="",this.refreshDimensions(),this.TEXTAREA.focus(),this.setCaretPosition(this.TEXTAREA,this.TEXTAREA.value.length),this.instance.getSettings().asyncRendering){var r=this;setTimeout(function(){r.refreshDimensions()},0)}}},n.prototype.refreshDimensions=function(){if(this.isCellEdited){this.TD=this.instance.getCell(this.row,this.col);var e=t(this.TD),i=e.offset(),n=this.instance.rootElement.offset(),s=this.instance.rootElement.scrollTop(),o=this.instance.rootElement.scrollLeft(),a=i.top-n.top+s-1,r=i.left-n.left+o-1,l=this.instance.getSettings(),c=l.rowHeaders===!1?0:1,h=l.colHeaders===!1?0:1;0>a&&(a=0),0>r&&(r=0),c>0&&parseInt(e.css("border-top-width"),10)>0&&(a+=1),h>0&&parseInt(e.css("border-left-width"),10)>0&&(r+=1),t.browser.msie&&parseInt(t.browser.version,10)<=7&&(a-=1),this.textareaParentStyle.top=a+"px",this.textareaParentStyle.left=r+"px";var u=e.width(),d=e.outerHeight()-4;parseInt(e.css("border-top-width"),10)>0&&(d-=1),parseInt(e.css("border-left-width"),10)>0&&c>0&&(u-=1),this.$textarea.autoResize({maxHeight:200,minHeight:d,minWidth:u,maxWidth:Math.max(168,u),animate:!1,extraSpace:0}),this.textareaParentStyle.display="block"}},n.prototype.finishEditing=function(e,i){if(this.isCellEdited&&(this.isCellEdited=!1,!e)){var n=[[t.trim(this.TEXTAREA.value)]];if(i){var s=this.instance.getSelected();this.instance.populateFromArray({row:s[0],col:s[1]},n,{row:s[2],col:s[3]},!1,"edit")}else this.instance.populateFromArray({row:this.row,col:this.col},n,null,!1,"edit")}this.unbindTemporaryEvents(),document.activeElement===this.TEXTAREA&&this.TD.focus(),this.textareaParentStyle.display="none"},i.TextEditor=function(t,e,i,s,o,a,r){return t.textEditor||(t.textEditor=new n(t)),t.textEditor.bindTemporaryEvents(e,i,s,o,a,r),function(e){t.textEditor.finishEditing(e)}},i.helper.inherit(s,n),s.prototype.createElements=function(){n.prototype.createElements.call(this),this.$textarea.typeahead(),this.typeahead=this.$textarea.data("typeahead"),this.typeahead._render=this.typeahead.render,this.typeahead.minLength=0,this.typeahead.lookup=function(){var e;return this.query=this.$element.val(),e=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,e?this.process(e):this},this.typeahead.matcher=function(){return!0};var e=this.typeahead.process,i=this;this.typeahead.process=function(t){for(var n=0,s=t.length;s>n;n++)""===t[n]&&(t[n]=i.emptyStringLabel);return e.call(this,t)}},s.prototype.bindEvents=function(){var t=this;this.typeahead.listen(),this.$textarea.off("keydown").off("keyup").off("keypress"),this.$textareaParent.off(".acEditor").on("keydown.acEditor",function(e){switch(e.keyCode){case 38:t.typeahead.prev(),e.stopImmediatePropagation();break;case 40:t.typeahead.next(),e.stopImmediatePropagation();break;case 13:e.preventDefault()}}),this.$textareaParent.on("keyup.acEditor",function(e){(i.helper.isPrintableChar(e.keyCode)||113===e.keyCode||13===e.keyCode||8===e.keyCode||46===e.keyCode)&&t.typeahead.lookup()}),n.prototype.bindEvents.call(this)},s.prototype.bindTemporaryEvents=function(t,e,i,s,o,a){function r(){h.beginEditing(e,i,s,!0),h.instance.registerTimeout("IE9_align_fix",function(){h.typeahead.lookup()},1)}var l,c,h=this;this.typeahead.select=function(){var t=this.hide();h.instance.destroyEditor(!0);var n=this.$menu.find(".active").attr("data-value");return n===h.emptyStringLabel&&(n=""),"function"==typeof a.onSelect?a.onSelect(e,i,s,n,this.$menu.find(".active").index()):h.instance.setDataAtRowProp(e,s,n),t},this.typeahead.render=function(t){return h.typeahead._render.call(this,t),a.strict||this.$menu.find("li:eq(0)").removeClass("active"),this};for(l in a)if(a.hasOwnProperty(l))if("options"===l)for(c in a.options)a.options.hasOwnProperty(c)&&(this.typeahead.options[c]=a.options[c]);else this.typeahead[l]=a[l];n.prototype.bindTemporaryEvents.call(this,t,e,i,s,o,a),this.instance.view.wt.update("onCellDblClick",r)},s.prototype.finishEditing=function(t,e){t||(this.isMenuExpanded()&&this.typeahead.$menu.find(".active").length?(this.typeahead.select(),this.isCellEdited=!1):this.cellProperties.strict&&(this.isCellEdited=!1)),n.prototype.finishEditing.call(this,t,e)},s.prototype.isMenuExpanded=function(){return this.typeahead.$menu.is(":visible")?this.typeahead:!1},i.AutocompleteEditor=function(t,e,i,n,o,a,r){return t.autocompleteEditor||(t.autocompleteEditor=new s(t)),t.autocompleteEditor.bindTemporaryEvents(e,i,n,o,a,r),function(e){t.autocompleteEditor.finishEditing(e)}},i.CheckboxEditor=function(t,e,n,s,a,r,l){return"undefined"==typeof l&&(l={}),"undefined"==typeof l.checkedTemplate&&(l.checkedTemplate=!0),"undefined"==typeof l.uncheckedTemplate&&(l.uncheckedTemplate=!1),t.$table.on("keydown.editor",function(e){var s=(e.ctrlKey||e.metaKey)&&!e.altKey;!s&&i.helper.isPrintableChar(e.keyCode)&&(o(t,n,a,l),e.stopImmediatePropagation(),e.preventDefault())}),t.view.wt.update("onCellDblClick",function(){o(t,n,a,l)}),function(){t.$table.off(".editor"),t.view.wt.update("onCellDblClick",null)}},i.helper.inherit(a,n),a.prototype.createElements=function(){n.prototype.createElements.call(this),this.datePicker=document.createElement("DIV"),this.datePickerStyle=this.datePicker.style,this.datePickerStyle.position="absolute",this.datePickerStyle.top=0,this.datePickerStyle.left=0,this.datePickerStyle.zIndex=99,
this.instance.rootElement[0].appendChild(this.datePicker),this.$datePicker=t(this.datePicker);var e=this,i={dateFormat:"yy-mm-dd",showButtonPanel:!0,changeMonth:!0,changeYear:!0,altField:this.$textarea,onSelect:function(){e.finishEditing(!1)}};this.$datePicker.datepicker(i),this.hideDatepicker()},a.prototype.beginEditing=function(t,e,i,s,o){n.prototype.beginEditing.call(this,t,e,i,s,o),this.showDatepicker()},a.prototype.finishEditing=function(t,e){this.hideDatepicker(),n.prototype.finishEditing.call(this,t,e)},a.prototype.showDatepicker=function(){var e=t(this.instance.dateEditor.TD),i=e.position();this.datePickerStyle.top=i.top+e.height()+"px",this.datePickerStyle.left=i.left+"px";var n={defaultDate:this.originalValue||void 0};t.extend(n,this.cellProperties),this.$datePicker.datepicker("option",n),this.originalValue&&this.$datePicker.datepicker("setDate",this.originalValue),this.datePickerStyle.display="block"},a.prototype.hideDatepicker=function(){this.datePickerStyle.display="none"},i.DateEditor=function(t,e,i,n,s,o,r){return t.dateEditor||(t.dateEditor=new a(t)),t.dateEditor.bindTemporaryEvents(e,i,n,s,o,r),function(e){t.dateEditor.finishEditing(e)}},i.helper.inherit(r,n),r.prototype.createElements=function(){n.prototype.createElements.call(this);var e=document.createElement("DIV");e.className="handsontableEditor",this.TEXTAREA_PARENT.appendChild(e),this.$htContainer=t(e)},r.prototype.bindTemporaryEvents=function(e,i,s,o,a,r){var l=this,c={colHeaders:!0,cells:function(){return{readOnly:!0}},fillHandle:!1,width:2e3,asyncRendering:!1,afterOnCellMouseDown:function(){var t=this.getSelected();l.TEXTAREA.value=this.getDataAtCell(t[0],t[1]),l.instance.destroyEditor()},beforeOnKeyDown:function(t){switch(t.keyCode){case 27:l.instance.destroyEditor(!0);break;case 13:var e=this.getSelected();l.TEXTAREA.value=this.getDataAtCell(e[0],e[1]),l.instance.destroyEditor()}}};r.handsontable&&(c=t.extend(c,r.handsontable)),this.$htContainer.handsontable(c),n.prototype.bindTemporaryEvents.call(this,e,i,s,o,a,r)},r.prototype.beginEditing=function(t,e,i,s,o){var a=this.instance.getSettings().onBeginEditing;a&&a()===!1||(n.prototype.beginEditing.call(this,t,e,i,s,o),this.$htContainer.handsontable("selectCell",0,0))},r.prototype.finishEditing=function(t,e){if(i.helper.isDescendant(this.instance.rootElement[0],document.activeElement)){var s=this;setTimeout(function(){s.TD.focus()},0),this.TD.focus()}this.$htContainer.handsontable("destroy"),n.prototype.finishEditing.call(this,t,e)},r.prototype.isMenuExpanded=function(){return this.typeahead.$menu.is(":visible")?this.typeahead:!1},i.HandsontableEditor=function(t,e,i,n,s,o,a){return t.handsontableEditor||(t.handsontableEditor=new r(t)),t.handsontableEditor.bindTemporaryEvents(e,i,n,s,o,a),t.registerEditor=t.handsontableEditor,function(e){t.handsontableEditor.finishEditing(e)}},i.AutocompleteCell={renderer:i.AutocompleteRenderer,editor:i.AutocompleteEditor},i.CheckboxCell={renderer:i.CheckboxRenderer,editor:i.CheckboxEditor},i.TextCell={renderer:i.TextRenderer,editor:i.TextEditor},i.NumericCell={renderer:i.NumericRenderer,editor:i.TextEditor,dataType:"number"},i.DateCell={renderer:i.AutocompleteRenderer,editor:i.DateEditor},i.HandsontableCell={renderer:i.AutocompleteRenderer,editor:i.HandsontableEditor},i.cellTypes={autocomplete:i.AutocompleteCell,checkbox:i.CheckboxCell,text:i.TextCell,numeric:i.NumericCell,date:i.DateCell,handsontable:i.HandsontableCell},i.PluginHooks={hooks:{beforeInit:[],afterInit:[],afterLoadData:[],beforeRender:[],afterRender:[],beforeGet:[],beforeSet:[],beforeGetCellMeta:[],afterGetCellMeta:[],afterGetColHeader:[],afterGetColWidth:[],walkontableConfig:[],afterDestroy:[]},push:function(t,e){this.hooks[t].push(e)},unshift:function(t,e){this.hooks[t].unshift(e)},run:function(t,e,i,n,s,o,a){for(var r=0,l=this.hooks[e].length;l>r;r++)this.hooks[e][r].call(t,i,n,s,o,a)}},i.PluginModifiers={modifiers:{col:[]},push:function(t,e){this.modifiers[t].push(e)},unshift:function(t,e){this.modifiers[t].unshift(e)},run:function(t,e,i,n,s,o,a){for(var r=0,l=this.modifiers[e].length;l>r;r++)i=this.modifiers[e][r].call(t,i,n,s,o,a);return i}};var D=new l;i.PluginHooks.push("beforeInit",D.beforeInit),i.PluginHooks.push("beforeRender",D.determineColumnsWidth),i.PluginHooks.push("afterGetColWidth",D.getColWidth);var M=new c;i.PluginHooks.push("afterInit",M.afterInit),i.PluginHooks.push("beforeGet",M.translateRow),i.PluginHooks.push("beforeSet",M.translateRow),i.PluginHooks.push("afterGetColHeader",M.getColHeader),i.PluginHooks.push("afterInit",h),i.PluginHooks.push("afterDestroy",u),i.PluginHooks.push("beforeGetCellMeta",function(t,e,n){var s,o,a,r=this.getSettings(),l=this.getData();if(r.autoComplete)for(s=0,o=r.autoComplete.length;o>s;s++)if(r.autoComplete[s].match(t,e,l)){"undefined"==typeof n.type?n.type=i.AutocompleteCell:("undefined"==typeof n.type.renderer&&(n.type.renderer=i.AutocompleteCell.renderer),"undefined"==typeof n.type.editor&&(n.type.editor=i.AutocompleteCell.editor));for(a in r.autoComplete[s])r.autoComplete[s].hasOwnProperty(a)&&"match"!==a&&"undefined"==typeof n[s]&&("source"===a?n[a]=r.autoComplete[s][a](t,e):n[a]=r.autoComplete[s][a]);break}});var E=new d;i.PluginHooks.push("beforeInit",E.beforeInit),i.PluginHooks.push("afterInit",E.afterInit),i.PluginHooks.push("afterGetColHeader",E.getColHeader),i.PluginModifiers.push("col",E.modifyCol);var $=new p;i.PluginHooks.push("beforeInit",$.beforeInit),i.PluginHooks.push("afterInit",$.afterInit),i.PluginHooks.push("afterGetColHeader",$.getColHeader),i.PluginHooks.push("afterGetColWidth",$.getColWidth),function(t){function e(n){return this.filter(e.resizableFilterSelector).each(function(){new i(t(this),n)}),this}function i(i,n){this.clones||(this.config=t.extend({},e.defaults,n),this.el=i,this.nodeName=i[0].nodeName.toLowerCase(),this.previousScrollTop=null,"original"===n.maxWidth&&(n.maxWidth=i.width()),"original"===n.minWidth&&(n.minWidth=i.width()),"original"===n.maxHeight&&(n.maxHeight=i.height()),"original"===n.minHeight&&(n.minHeight=i.height()),"textarea"===this.nodeName&&i.css({resize:"none",overflowY:"hidden"}),i.data("AutoResizer",this),this.createClone(),this.injectClone(),this.bind())}e.defaults={onResize:function(){},animate:{duration:200,complete:function(){}},extraSpace:50,minHeight:"original",maxHeight:500,minWidth:"original",maxWidth:500},e.cloneCSSProperties=["lineHeight","textDecoration","letterSpacing","fontSize","fontFamily","fontStyle","fontWeight","textTransform","textAlign","direction","wordSpacing","fontSizeAdjust","padding"],e.cloneCSSValues={position:"absolute",top:-9999,left:-9999,opacity:0,overflow:"hidden",border:"1px solid black",padding:"0.49em"},e.resizableFilterSelector="textarea,input:not(input[type]),input[type=text],input[type=password]",e.AutoResizer=i,t.fn.autoResize=e,i.prototype={bind:function(){var e=t.proxy(function(){return this.check(),!0},this);this.unbind(),this.el.bind("keyup.autoResize",e).bind("change.autoResize",e),this.check(null,!0)},unbind:function(){this.el.unbind(".autoResize")},createClone:function(){var i=this.el,n=this,s=this.config;this.clones=t(),"original"===s.minHeight&&"original"===s.maxHeight||(this.hClone=i.clone().height("auto"),this.clones=this.clones.add(this.hClone)),"original"===s.minWidth&&"original"===s.maxWidth||(this.wClone=t("<div/>").width("auto").css({whiteSpace:"nowrap","float":"left"}),this.clones=this.clones.add(this.wClone)),t.each(e.cloneCSSProperties,function(t,e){n.clones.css(e,i.css(e))}),this.clones.removeAttr("name").removeAttr("id").attr("tabIndex",-1).css(e.cloneCSSValues)},check:function(t,e){var i=this.config,n=this.wClone,s=this.hClone,o=this.el,a=o.val();if(n){n.text(a);var r=n.outerWidth(),l=r+i.extraSpace>=i.minWidth?r+i.extraSpace:i.minWidth,c=o.width();l=Math.min(l,i.maxWidth),(c>l&&l>=i.minWidth||l>=i.minWidth&&l<=i.maxWidth)&&(i.onResize.call(o),o.scrollLeft(0),i.animate&&!e?o.stop(1,1).animate({width:l},i.animate):o.width(l))}if(s){l&&s.width(l),s.height(0).val(a).scrollTop(1e4);var h=s[0].scrollTop+i.extraSpace;if(this.previousScrollTop===h)return;if(this.previousScrollTop=h,h>=i.maxHeight)return void o.css("overflowY","");o.css("overflowY","hidden"),h<i.minHeight&&(h=i.minHeight),i.onResize.call(o),i.animate&&!e?o.stop(1,1).animate({height:h},i.animate):o.height(h)}},destroy:function(){this.unbind(),this.el.removeData("AutoResizer"),this.clones.remove(),delete this.el,delete this.hClone,delete this.wClone,delete this.clones},injectClone:function(){(e.cloneContainer||(e.cloneContainer=t("<arclones/>").appendTo("body"))).empty().append(this.clones)}}}(jQuery),function(t){function e(t){return t.split('"').length-1}t.SheetClip={parse:function(t){var i,n,s,o,a,r,l,c=[],h=0;for(s=t.split("\n"),s.length>1&&""===s[s.length-1]&&s.pop(),i=0,n=s.length;n>i;i+=1){for(s[i]=s[i].split("	"),o=0,a=s[i].length;a>o;o+=1)c[h]||(c[h]=[]),r&&0===o?(l=c[h].length-1,c[h][l]=c[h][l]+"\n"+s[i][0],r&&1&e(s[i][0])&&(r=!1,c[h][l]=c[h][l].substring(0,c[h][l].length-1).replace(/""/g,'"'))):o===a-1&&0===s[i][o].indexOf('"')?(c[h].push(s[i][o].substring(1).replace(/""/g,'"')),r=!0):(c[h].push(s[i][o].replace(/""/g,'"')),r=!1);r||(h+=1)}return c},stringify:function(t){var e,i,n,s,o,a="";for(e=0,i=t.length;i>e;e+=1){for(n=0,s=t[e].length;s>n;n+=1)n>0&&(a+="	"),o=t[e][n],a+="string"==typeof o?o.indexOf("\n")>-1?'"'+o.replace(/"/g,'""')+'"':o:null===o||void 0===o?"":o;a+="\n"}return a}}}(e),f.prototype.selectNodeText=function(t){t.select()},f.prototype.copyable=function(t){if("string"!=typeof t&&void 0===t.toString)throw new Error("copyable requires string parameter");this.elTextarea.value=t},f.prototype.onCopy=function(t){this.copyCallback=t},f.prototype.onCut=function(t){this.cutCallback=t},f.prototype.onPaste=function(t){this.pasteCallback=t},f.prototype.triggerCut=function(t){var e=this;e.cutCallback&&setTimeout(function(){e.cutCallback(t)},0)},f.prototype.triggerPaste=function(t,e){var i=this;i.pasteCallback&&setTimeout(function(){i.pasteCallback((e||i.elTextarea.value).replace(/\n$/,""),t)},0)},f.prototype._bindEvent=function(){return document.addEventListener?function(t,e,i){t.addEventListener(e,i,!1)}:function(t,i,n){t.attachEvent("on"+i,function(){var i=e.event;return i.target=i.srcElement,i.relatedTarget=i.relatedTarget||"mouseover"==i.type?i.fromElement:i.toElement,3===i.target.nodeType&&(i.target=i.target.parentNode),n.call(t,i)})}}(),m.prototype.appear=function(e){var i,n,s,o,a,r,l,c,h,u,d,p;if(!this.disabled){var f=this.instance.getSetting("offsetRow"),m=this.instance.getSetting("offsetColumn"),g=this.instance.getSetting("displayRows"),v=this.instance.wtTable.getLastVisibleColumn(),y=!1,b=!1,_=!1,w=!1;null!==g&&(e[0]>f+g-1||e[2]<f?y=b=_=w=!0:(e[0]<f&&(e[0]=f,y=!0),e[2]>f+g-1&&(e[2]=f+g-1,_=!0))),e[1]>v||e[3]<m?y=b=_=w=!0:(e[1]<m&&(e[1]=m,b=!0),e[3]>v&&(e[3]=v,w=!0)),4>y+b+_+w&&(i=e[0]!==e[2]||e[1]!==e[3],n=t(this.instance.wtTable.getCell([e[0],e[1]])),s=i?t(this.instance.wtTable.getCell([e[2],e[3]])):n,o=this.wtDom.offset(n[0]),a=i?this.wtDom.offset(s[0]):o,r=this.wtDom.offset(this.instance.wtTable.TABLE),c=o.top,d=a.top+s.outerHeight()-c,u=o.left,p=a.left+s.outerWidth()-u,l=c-r.top-1,h=u-r.left-1,parseInt(n.css("border-top-width"),10)>0&&(l+=1,d-=1),parseInt(n.css("border-left-width"),10)>0&&(h+=1,p-=1)),y?this.topStyle.display="none":(this.topStyle.top=l+"px",this.topStyle.left=h+"px",this.topStyle.width=p+"px",this.topStyle.display="block"),b?this.leftStyle.display="none":(this.leftStyle.top=l+"px",this.leftStyle.left=h+"px",this.leftStyle.height=d+"px",this.leftStyle.display="block");var x=Math.floor(this.settings.border.width/2);_?this.bottomStyle.display="none":(this.bottomStyle.top=l+d-x+"px",this.bottomStyle.left=h+"px",this.bottomStyle.width=p+"px",this.bottomStyle.display="block"),w?this.rightStyle.display="none":(this.rightStyle.top=l+"px",this.rightStyle.left=h+p-x+"px",this.rightStyle.height=d+1+"px",this.rightStyle.display="block"),_&&w||!this.hasSetting(this.settings.border.cornerVisible)?this.cornerStyle.display="none":(this.cornerStyle.top=l+d-4+"px",this.cornerStyle.left=h+p-4+"px",this.cornerStyle.display="block")}},m.prototype.disappear=function(){this.topStyle.display="none",this.leftStyle.display="none",this.bottomStyle.display="none",this.rightStyle.display="none",this.cornerStyle.display="none"},m.prototype.hasSetting=function(t){return"function"==typeof t?t():!!t},g.prototype.getContainerSize=function(t){var e="function"==typeof this.containerSizeFn?this.containerSizeFn(t):this.containerSizeFn;return(void 0===e||null===e||1>e)&&(e=1/0),e},g.prototype.getSize=function(t){return this.cache[t]},g.prototype.isSorted=function(t){for(var e=0,i=t.length;i>e;e++)if(e>0&&t[e-1]>t[e])return!1;return!0},v.prototype.draw=function(t){if(this.hasSetting("async")){var e=this;e.drawTimeout=setTimeout(function(){e._doDraw(t)},0)}else this._doDraw(t);return this},v.prototype._doDraw=function(t){t=t&&this.getSetting("offsetRow")===this.lastOffsetRow&&this.getSetting("offsetColumn")===this.lastOffsetColumn,this.drawn&&(this.scrollVertical(0),this.scrollHorizontal(0)),this.lastOffsetRow=this.getSetting("offsetRow"),this.lastOffsetColumn=this.getSetting("offsetColumn"),this.wtTable.draw(t),this.getSetting("onDraw")},v.prototype.update=function(t,e){return this.wtSettings.update(t,e)},v.prototype.scrollVertical=function(t){return this.wtScroll.scrollVertical(t)},v.prototype.scrollHorizontal=function(t){return this.wtScroll.scrollHorizontal(t)},v.prototype.scrollViewport=function(t){if(this.hasSetting("async")){var e=this;clearTimeout(e.scrollTimeout),e.scrollTimeout=setTimeout(function(){e.wtScroll.scrollViewport(t)},0)}else this.wtScroll.scrollViewport(t);return this},v.prototype.getViewport=function(){return[this.getSetting("offsetRow"),this.getSetting("offsetColumn"),null!==this.wtTable.visibilityEdgeRow?this.wtTable.visibilityEdgeRow:this.getSetting("totalRows")-1,null!==this.wtTable.visibilityEdgeColumn?this.wtTable.visibilityEdgeColumn:this.getSetting("totalColumns")-1]},v.prototype.getSetting=function(t,e,i,n){return this.wtSettings.getSetting(t,e,i,n)},v.prototype.hasSetting=function(t){return this.wtSettings.has(t)},v.prototype.destroy=function(){clearTimeout(this.drawTimeout),clearTimeout(this.scrollTimeout),clearTimeout(this.wheelTimeout),clearTimeout(this.dblClickTimeout),clearTimeout(this.selectionsTimeout)},y.prototype.closest=function(t,e){for(;null!=t;){if(1===t.nodeType&&e.indexOf(t.nodeName)>-1)return t;t=t.parentNode}return null},y.prototype.prevSiblings=function(t){for(var e=[];null!=(t=t.previousSibling);)1===t.nodeType&&e.push(t);return e},y.prototype.tdHasClass=function(t,e,i){return!!(this.tdCache[t]&&this.tdCache[t][e]&&this.tdCache[t][e][i])},y.prototype.tdAddClass=function(t,e,i){this.tdHasClass(t,e,i)||(this.tdCache[t]||(this.tdCache[t]=[]),this.tdCache[t][e]||(this.tdCache[t][e]={},this.tdCache[t][e]._node=this.instance.wtTable.getCell([t+this.instance.getSetting("offsetRow"),e+this.instance.getSetting("offsetColumn")])),this.tdCache[t][e]._node.className+=" "+i,this.tdCache[t][e][i]=!0)},y.prototype.tdRemoveClass=function(t,e,i){if(this.tdHasClass(t,e,i)){var n=new RegExp("(\\s|^)"+i+"(\\s|$)");this.tdCache[t][e]._node.className=this.tdCache[t][e]._node.className.replace(n," ").replace(/^\s\s*/,"").replace(/\s\s*$/,""),this.tdCache[t][e][i]=!1}},y.prototype.tdResetCache=function(){for(var t in this.tdCache)if(this.tdCache.hasOwnProperty(t))for(var e in this.tdCache[t])if(this.tdCache[t].hasOwnProperty(e))for(var i in this.tdCache[t][e])this.tdCache[t][e].hasOwnProperty(i)&&"_node"!==i&&(this.tdCache[t][e][i]=!1)},document.documentElement.classList?(y.prototype.hasClass=function(t,e){return t.classList.contains(e)},y.prototype.addClass=function(t,e){t.classList.add(e)},y.prototype.removeClass=function(t,e){t.classList.remove(e)}):(y.prototype.hasClass=function(t,e){return t.className.match(new RegExp("(\\s|^)"+e+"(\\s|$)"))},y.prototype.addClass=function(t,e){this.hasClass(t,e)||(t.className+=" "+e)},y.prototype.removeClass=function(t,e){if(this.hasClass(t,e)){var i=new RegExp("(\\s|^)"+e+"(\\s|$)");t.className=t.className.replace(i," ").replace(/^\s\s*/,"").replace(/\s\s*$/,"")}}),y.prototype.removeTextNodes=function(t,e){if(3===t.nodeType)e.removeChild(t);else if(["TABLE","THEAD","TBODY","TFOOT","TR"].indexOf(t.nodeName)>-1)for(var i=t.childNodes,n=i.length-1;n>=0;n--)this.removeTextNodes(i[n],t)},y.prototype.empty=function(t){for(var e;e=t.lastChild;)t.removeChild(e)},y.prototype.avoidInnerHTML=function(t,e){if(/(<(.*)>|&(.*);)/g.test(e))t.innerHTML=e;else{for(var i;i=t.lastChild;)t.removeChild(i);t.appendChild(document.createTextNode(e))}},y.prototype.offset=function(t){for(var e=t.offsetLeft,i=t.offsetTop;t=t.offsetParent;)e+=t.offsetLeft,i+=t.offsetTop;return{left:e,top:i}},b.prototype.parentCell=function(t){var e={};return e.TD=this.wtDom.closest(t,["TD","TH"]),e.TD?e.coords=this.instance.wtTable.getCoords(e.TD):!e.TD&&this.wtDom.hasClass(t,"wtBorder")&&this.wtDom.hasClass(t,"current")&&!this.wtDom.hasClass(t,"corner")&&(e.coords=this.instance.selections.current.selected[0],e.TD=this.instance.wtTable.getCell(e.coords)),e},Array.prototype.indexOf||(Array.prototype.indexOf=function(t){var e=this.length>>>0,i=Number(arguments[1])||0;for(i=0>i?Math.ceil(i):Math.floor(i),0>i&&(i+=e);e>i;i++)if(i in this&&this[i]===t)return i;return-1}),e.requestAnimFrame=function(){return e.requestAnimationFrame||e.webkitRequestAnimationFrame||e.mozRequestAnimationFrame||e.oRequestAnimationFrame||e.msRequestAnimationFrame||function(t,i){return e.setTimeout(t,1e3/60)}}(),e.cancelRequestAnimFrame=function(){return e.cancelAnimationFrame||e.webkitCancelRequestAnimationFrame||e.mozCancelRequestAnimationFrame||e.oCancelRequestAnimationFrame||e.msCancelRequestAnimationFrame||clearTimeout}(),_.prototype.refreshScrollbars=function(){this.wtScrollbarH.prepare(),this.wtScrollbarV.prepare(),this.instance.wtTable.recalcViewportCells(),this.wtScrollbarH.refresh(),this.wtScrollbarV.refresh()},_.prototype.scrollVertical=function(t){if(!this.instance.drawn)throw new Error("scrollVertical can only be called after table was drawn to DOM");var e=this.instance.getSetting("offsetRow"),i=e+t;if(i>0){var n=this.instance.getSetting("totalRows"),s=(this.instance.getSetting("height")||1/0)-this.instance.getSetting("scrollbarHeight");i>=n&&(i=n-1);var o=this.instance.wtTable.TBODY.firstChild.firstChild;"TH"===o.nodeName&&(o=o.nextSibling);for(var a=this.instance.wtDom.offset(o),r=this.instance.wtTable.tableOffset,l=a.top-r.top,c=i;s>l&&n>c;)l+=this.instance.getSetting("rowHeight",c),c++;if(s>l)for(;i>0&&(l+=this.instance.getSetting("rowHeight",i-1),s>l);)i--}else 0>i&&(i=0);return i!==e&&this.instance.update("offsetRow",i),this.instance},_.prototype.scrollHorizontal=function(t){if(!this.instance.drawn)throw new Error("scrollHorizontal can only be called after table was drawn to DOM");var e=this.instance.getSetting("offsetColumn"),i=e+t;if(i>0){var n=this.instance.getSetting("totalColumns"),s=this.instance.getSetting("width");i>=n&&(i=n-1);var o=this.instance.wtTable.TBODY.firstChild.firstChild;"TH"===o.nodeName&&(o=o.nextSibling);for(var a=this.instance.wtDom.offset(o),r=this.instance.wtTable.tableOffset,l=a.left-r.left,c=i;s>l&&n>c;)l+=this.instance.getSetting("columnWidth",c),c++;if(s>l)for(;i>0&&(l+=this.instance.getSetting("columnWidth",i-1),s>l);)i--}else 0>i&&(i=0);return i!==e&&this.instance.update("offsetColumn",i),this.instance},_.prototype.scrollViewport=function(t){var e=this.instance.getSetting("offsetRow"),i=this.instance.getSetting("offsetColumn"),n=this.instance.getSetting("viewportRows"),s=this.instance.getSetting("viewportColumns"),o=this.instance.getSetting("totalRows"),a=this.instance.getSetting("totalColumns");if(t[0]<0||t[0]>o-1)throw new Error("row "+t[0]+" does not exist");if(t[1]<0||t[1]>a-1)throw new Error("column "+t[1]+" does not exist");return n=n||1,s=s||1,o>n&&(t[0]>e+n-1?this.scrollVertical(t[0]-(e+n-1)):t[0]<e?this.scrollVertical(t[0]-e):this.scrollVertical(0)),s>0&&a>s&&(t[1]>i+s-1?this.scrollHorizontal(t[1]-(i+s-1)):t[1]<i?this.scrollHorizontal(t[1]-i):this.scrollHorizontal(0)),this.instance},w.prototype.onScroll=function(t){if(this.instance.drawn){var e="vertical"===this.type?["offsetRow","totalRows","viewportRows","top","height"]:["offsetColumn","totalColumns","viewportColumns","left","width"],i=this.instance.getSetting(e[1]),n=this.instance.getSetting(e[2]);if(i>n){var s=Math.round(parseInt(this.handleStyle[e[3]],10)*i/parseInt(this.slider.style[e[4]],10));1===t?"vertical"===this.type?this.instance.scrollVertical(1/0).draw():this.instance.scrollHorizontal(1/0).draw():s!==this.instance.getSetting(e[0])?"vertical"===this.type?this.instance.scrollVertical(s-this.instance.getSetting(e[0])).draw():this.instance.scrollHorizontal(s-this.instance.getSetting(e[0])).draw():this.refresh()}}},w.prototype.getHandleSizeRatio=function(t,e){return!e||t>e?1:t/e},w.prototype.prepare=function(){if(!this.skipRefresh){var t,e;"vertical"===this.type?(t=this.getHandleSizeRatio(this.instance.getSetting("viewportRows"),this.instance.getSetting("totalRows")),e=this.instance.getSetting("scrollV")):(t=this.getHandleSizeRatio(this.instance.getSetting("viewportColumns"),this.instance.getSetting("totalColumns")),e=this.instance.getSetting("scrollH")),(1===t||isNaN(t))&&"auto"===e||"none"===e?this.visible=!1:this.visible=!0}},w.prototype.refresh=function(){if(!this.skipRefresh){if(!this.visible)return void(this.sliderStyle.display="none");var t,e,i,n,s,o,a,r=this.$table.outerWidth(),l=this.$table.outerHeight(),c=this.instance.hasSetting("width")?this.instance.getSetting("width"):r,h=this.instance.hasSetting("height")?this.instance.getSetting("height"):l;c&&h&&(this.instance.hasSetting("width")&&this.instance.wtScroll.wtScrollbarV.visible&&(c-=this.instance.getSetting("scrollbarWidth")),c>r+this.instance.getSetting("scrollbarWidth")&&(c=r),this.instance.hasSetting("height")&&this.instance.wtScroll.wtScrollbarH.visible&&(h-=this.instance.getSetting("scrollbarHeight")),h>l+this.instance.getSetting("scrollbarHeight")&&(h=l),"vertical"===this.type?(o=this.instance.getSetting("offsetRow"),a=this.instance.getSetting("totalRows"),t=this.getHandleSizeRatio(this.instance.getSetting("viewportRows"),a),i=h-2,this.sliderStyle.top=this.$table.position().top+"px",this.sliderStyle.left=c-1+"px",this.sliderStyle.height=i+"px"):(o=this.instance.getSetting("offsetColumn"),a=this.instance.getSetting("totalColumns"),t=this.getHandleSizeRatio(this.instance.getSetting("viewportColumns"),a),i=c-2,this.sliderStyle.left=this.$table.position().left+"px",this.sliderStyle.top=h-1+"px",this.sliderStyle.width=i+"px"),n=Math.round(i*t),10>n&&(n=15),s=Math.round(i*(o/a)),(e=c-n)>0&&s>e&&(s=e),"vertical"===this.type?(this.handleStyle.height=n+"px",this.handleStyle.top=s+"px"):(this.handleStyle.width=n+"px",this.handleStyle.left=s+"px"),this.sliderStyle.display="block",this.dragdealer.setWrapperOffset(),this.dragdealer.setBounds())}},x.prototype.add=function(t){this.selected.push(t)},x.prototype.remove=function(t){var e=this.isSelected(t);e>-1&&this.selected.splice(e,1)},x.prototype.clear=function(){this.selected.length=0},x.prototype.isSelected=function(t){for(var e=0,i=this.selected.length;i>e;e++)if(this.selected[e][0]===t[0]&&this.selected[e][1]===t[1])return e;return-1},x.prototype.getSelected=function(){return this.selected},x.prototype.getCorners=function(){var t,e,i,n,s,o=this.selected.length;if(o>0&&(t=i=this.selected[0][0],e=n=this.selected[0][1],o>1))for(s=1;o>s;s++)this.selected[s][0]<t?t=this.selected[s][0]:this.selected[s][0]>i&&(i=this.selected[s][0]),this.selected[s][1]<e?e=this.selected[s][1]:this.selected[s][1]>n&&(n=this.selected[s][1]);return[t,e,i,n]},x.prototype.draw=function(t){var e,i,n,s=this.instance.getSetting("offsetRow"),o=s+this.instance.getSetting("displayRows")-1,a=this.instance.getSetting("offsetColumn"),r=this.instance.wtTable.getLastVisibleColumn();if(this.selected.length){for(e=this.getCorners(),i=s;o>=i;i++)for(n=a;r>=n;n++)i>=e[0]&&i<=e[2]&&n>=e[1]&&n<=e[3]?(this.settings.highlightRowClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightRowClassName),this.settings.highlightColumnClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightColumnClassName),this.settings.className&&this.wtDom.tdAddClass(i-s,n-a,this.settings.className)):i>=e[0]&&i<=e[2]?(this.settings.highlightColumnClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightColumnClassName),this.settings.highlightRowClassName&&this.wtDom.tdAddClass(i-s,n-a,this.settings.highlightRowClassName),this.settings.className&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.className)):n>=e[1]&&n<=e[3]?(this.settings.highlightRowClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightRowClassName),this.settings.highlightColumnClassName&&this.wtDom.tdAddClass(i-s,n-a,this.settings.highlightColumnClassName),this.settings.className&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.className)):(this.settings.highlightRowClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightRowClassName),this.settings.highlightColumnClassName&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.highlightColumnClassName),this.settings.className&&this.wtDom.tdRemoveClass(i-s,n-a,this.settings.className));this.border&&this.border.appear(e)}else{if(t)for(i=0;o-s>=i;i++)for(n=0;r-a>=n;n++)this.settings.highlightRowClassName&&this.wtDom.tdRemoveClass(i,n,this.settings.highlightRowClassName),this.settings.highlightColumnClassName&&this.wtDom.tdRemoveClass(i,n,this.settings.highlightColumnClassName),this.settings.className&&this.wtDom.tdRemoveClass(i,n,this.settings.className);this.border&&this.border.disappear()}},k.prototype.update=function(t,e){if(void 0===e)for(var i in t)t.hasOwnProperty(i)&&(this.settings[i]=t[i]);else this.settings[t]=e;return this.instance},k.prototype.getSetting=function(t,e,i,n){return this[t]?this[t](e,i,n):this._getSetting(t,e,i,n)},k.prototype._getSetting=function(t,e,i,n){return"function"==typeof this.settings[t]?this.settings[t](e,i,n):void 0!==e&&"[object Array]"===Object.prototype.toString.call(this.settings[t])&&void 0!==e?this.settings[t][e]:this.settings[t]},k.prototype.has=function(t){return!!this.settings[t]},k.prototype.rowHeight=function(t){return"undefined"!=typeof this.rowHeightCache[t]?this.rowHeightCache[t]:20},k.prototype.columnWidth=function(t){return Math.min(200,this._getSetting("columnWidth",t))},k.prototype.displayRows=function(){var t,e;if(this.settings.height){if("number"!=typeof this.settings.height)throw new Error("Walkontable height parameter must be a number ("+typeof this.settings.height+" given)");return t=Math.ceil(this.settings.height/20),e=this.getSetting("totalRows")-this.getSetting("offsetRow"),0>e?(this.update("offsetRow",Math.max(0,this.getSetting("totalRows")-t)),t):Math.min(t,e)}return this.getSetting("totalRows")},k.prototype.viewportRows=function(){return null!==this.instance.wtTable.visibilityEdgeRow?this.instance.wtTable.visibilityEdgeRow-this.instance.wtTable.visibilityStartRow:this.getSetting("displayRows")},k.prototype.viewportColumns=function(){return null!==this.instance.wtTable.visibilityEdgeColumn?this.instance.wtTable.visibilityEdgeColumn-this.instance.wtTable.visibilityStartColumn:this.instance.wtTable.getLastVisibleColumn()};var P=1,A=2,N=4,H=8,I=22,R=50;C.prototype.refreshHiderDimensions=function(){var t=this.instance.getSetting("height"),e=this.instance.getSetting("width");(t||e)&&(this.hiderStyle.overflow="hidden"),t&&(this.instance.wtScroll.wtScrollbarH.visible?this.hiderStyle.height=t-this.instance.getSetting("scrollbarHeight")+"px":this.hiderStyle.height=t+"px"),e&&(this.instance.wtScroll.wtScrollbarV.visible?this.hiderStyle.width=e-this.instance.getSetting("scrollbarWidth")+"px":this.hiderStyle.width=e+"px")},C.prototype.refreshStretching=function(){var t=this.instance,e=t.getSetting("stretchH"),i=t.getSetting("scrollH"),n=t.getSetting("scrollbarWidth"),s=t.getSetting("totalColumns"),o=t.getSetting("offsetColumn"),a=t.getSetting("rowHeaders"),r=a&&a.length?50:0,l=this.instance.getSetting("width")-r,c=function(t){return"scroll"===i||"auto"===i&&t>l?l-n:l},h=function(e){return t.getSetting("columnWidth",e)};"hybrid"===e&&(e=o>0?"last":"none"),this.columnStrategy=new g(c,s?[o,s-1]:null,h,e)},C.prototype.adjustAvailableNodes=function(){var t,e,i,n=this.instance,s=n.getSetting("totalRows"),o=n.getSetting("displayRows"),a=n.getSetting("rowHeaders"),r=a?a.length:0;for(o=Math.min(o,s),this.refreshStretching(),t=this.columnStrategy.cacheLength;this.colgroupChildrenLength<t+r;)this.COLGROUP.appendChild(document.createElement("COL")),this.colgroupChildrenLength++;for(;this.colgroupChildrenLength>t+r;)this.COLGROUP.removeChild(this.COLGROUP.lastChild),this.colgroupChildrenLength--;if(this.instance.hasSetting("columnHeaders")){for(;this.theadChildrenLength<t+r;)this.THEAD.firstChild.appendChild(document.createElement("TH")),this.theadChildrenLength++;for(;this.theadChildrenLength>t+r;)this.THEAD.firstChild.removeChild(this.THEAD.firstChild.lastChild),this.theadChildrenLength--}for(;this.tbodyChildrenLength<o;){for(e=document.createElement("TR"),i=0;r>i;i++)e.appendChild(document.createElement("TH"));this.TBODY.appendChild(e),this.tbodyChildrenLength++}for(;this.tbodyChildrenLength>o;)this.TBODY.removeChild(this.TBODY.lastChild),this.tbodyChildrenLength--;for(var l,c=this.TBODY.childNodes,h=0,u=c.length;u>h;h++){for(l=c[h].childNodes.length;t+r>l;){var d=document.createElement("TD");d.setAttribute("tabindex",1e4),c[h].appendChild(d),l++}for(;l>t+r;)c[h].removeChild(c[h].lastChild),l--}},C.prototype.draw=function(t){return t||(this.tableOffset=this.wtDom.offset(this.TABLE),this.adjustAvailableNodes(),this._doDraw()),this.refreshPositions(t),this.instance.drawn=!0,this},C.prototype._doDraw=function(){var t,e,i,n,s,o,a=this.instance.getSetting("offsetRow"),r=this.instance.getSetting("offsetColumn"),l=this.instance.getSetting("totalRows"),c=this.instance.getSetting("displayRows"),h=this.columnStrategy.cacheLength,u=this.instance.getSetting("rowHeaders"),d=u?u.length:0;for(c=Math.min(c,l),e=0;e<this.colgroupChildrenLength;e++)d>e?(this.wtDom.addClass(this.COLGROUP.childNodes[e],"rowHeader"),"function"==typeof u[e]&&u[e](null,this.COLGROUP.childNodes[e])):this.wtDom.removeClass(this.COLGROUP.childNodes[e],"rowHeader");if(d&&this.instance.hasSetting("columnHeaders"))for(e=0;d>e;e++)n=this.THEAD.childNodes[0].childNodes[e],"function"==typeof u[e]?u[e](null,n):this.wtDom.empty(n),this.hasEmptyCellProblem&&""===n.innerHTML&&(n.innerHTML="&nbsp;");var p=this.instance.hasSetting("columnHeaders");for(e=0;h>e;e++)p&&this.instance.getSetting("columnHeaders",r+e,this.THEAD.childNodes[0].childNodes[d+e]),this.COLGROUP.childNodes[e+d].style.width=this.columnStrategy.getSize(r+e)+"px";for(this.visibilityEdgeRow=this.visibilityEdgeColumn=null,this.visibilityStartRow=a,this.visibilityStartColumn=r,t=0;c>t;t++){for(i=this.TBODY.childNodes[t],e=0;d>e;e++)n=i.childNodes[e],o="function"==typeof u[e]?u[e](a+t,n):u[e],void 0!==o&&this.wtDom.avoidInnerHTML(n,o);var f=null,m=null;for(this.wtDom.tdResetCache(),e=0;h>e&&!(null!==this.visibilityEdgeColumn&&r+e>this.visibilityEdgeColumn);e++){s=i.childNodes[e+d],s.className="",s.removeAttribute("style"),this.instance.getSetting("cellRenderer",a+t,r+e,s),this.hasEmptyCellProblem&&""===s.innerHTML&&(s.innerHTML="&nbsp;");var g=this.isCellVisible(a+t,r+e,s);null===this.visibilityEdgeColumn&&g&P?m=r+e:null===this.visibilityEdgeColumn&&g&N&&(this.visibilityEdgeColumn=r+e),null===this.visibilityEdgeRow&&g&A?f=a+t:null===this.visibilityEdgeRow&&g&H&&(this.visibilityEdgeRow=a+t)}}null===this.visibilityEdgeRow&&(this.visibilityEdgeRow=f+1),null===this.visibilityEdgeColumn&&(this.visibilityEdgeColumn=m+1)},C.prototype.refreshPositions=function(t){this.instance.wtScroll.refreshScrollbars(),this.refreshHiderDimensions(),this.refreshSelections(t)},C.prototype.refreshSelections=function(t){
var e;if(this.instance.selections)for(e in this.instance.selections)this.instance.selections.hasOwnProperty(e)&&this.instance.selections[e].draw(t)},C.prototype.recalcViewportCells=function(){this.instance.wtScroll.wtScrollbarV.visible&&this.visibilityEdgeColumnRemainder<=this.instance.getSetting("scrollbarWidth")&&(this.visibilityEdgeColumn--,this.visibilityEdgeColumnRemainder=1/0),this.instance.wtScroll.wtScrollbarH.visible&&this.visibilityEdgeRowRemainder<=this.instance.getSetting("scrollbarHeight")&&(this.visibilityEdgeRow--,this.visibilityEdgeRowRemainder=1/0)},C.prototype.isCellVisible=function(e,i,n){var s=0,o=this.wtDom.offset(n),a=this.tableOffset,r=o.top-a.top,l=o.left-a.left,c=t(n),h=c.outerWidth(),u=c.outerHeight(),d=this.instance.hasSetting("width")?this.instance.getSetting("width"):1/0,p=this.instance.hasSetting("height")?this.instance.getSetting("height"):1/0;return this.instance.wtSettings.rowHeightCache[e]=u,r>p?s|=R:r+u>p?(this.visibilityEdgeRowRemainder=p-r,s|=H):s|=A,l>d?s|=I:l+h>d?(this.visibilityEdgeColumnRemainder=d-l,s|=N):s|=P,s},C.prototype.getCell=function(t){var e=this.instance.getSetting("offsetRow");if(t[0]<e)return-1;if(t[0]>e+this.instance.getSetting("displayRows")-1)return-2;var i=this.instance.getSetting("offsetColumn");if(t[1]<i)return-3;if(t[1]>this.getLastVisibleColumn())return-4;var n=this.instance.getSetting("rowHeaders"),s=n?n.length:0,o=this.TBODY.childNodes[t[0]-e];return"undefined"==typeof o&&(this.adjustAvailableNodes(),o=this.TBODY.childNodes[t[0]-e]),o.childNodes[t[1]-i+s]},C.prototype.getCoords=function(t){var e=this.instance.getSetting("rowHeaders"),i=e?e.length:0;return[this.wtDom.prevSiblings(t.parentNode).length+this.instance.getSetting("offsetRow"),t.cellIndex+this.instance.getSetting("offsetColumn")-i]},C.prototype.getLastVisibleColumn=function(){return this.columnStrategy.visibleCellRanges[this.columnStrategy.visibleCellRanges.length-1]};var O={x:0,y:0,init:function(){this.setEvent("mouse"),this.setEvent("touch")},setEvent:function(t){var e=document["on"+t+"move"]||function(){};document["on"+t+"move"]=function(t){e(t),O.refresh(t)}},refresh:function(t){t||(t=e.event),"mousemove"==t.type?this.set(t):t.touches&&this.set(t.touches[0])},set:function(t){t.pageX||t.pageY?(this.x=t.pageX,this.y=t.pageY):(t.clientX||t.clientY)&&(this.x=t.clientX+document.body.scrollLeft+document.documentElement.scrollLeft,this.y=t.clientY+document.body.scrollTop+document.documentElement.scrollTop)}};O.init();var L={get:function(t){var e=0,i=0;if(t.offsetParent)do i+=t.offsetLeft,e+=t.offsetTop;while(t=t.offsetParent);return[i,e]}},z=function(t,e){if("string"==typeof t&&(t=document.getElementById(t)),t){var i=t.getElementsByTagName("div")[0];i&&-1!=i.className.search(/(^|\s)handle(\s|$)/)&&(this.init(t,i,e||{}),this.setup())}};z.prototype={init:function(t,e,i){this.wrapper=t,this.handle=e,this.options=i,this.disabled=this.getOption("disabled",!1),this.horizontal=this.getOption("horizontal",!0),this.vertical=this.getOption("vertical",!1),this.slide=this.getOption("slide",!0),this.steps=this.getOption("steps",0),this.snap=this.getOption("snap",!1),this.loose=this.getOption("loose",!1),this.speed=this.getOption("speed",10)/100,this.xPrecision=this.getOption("xPrecision",0),this.yPrecision=this.getOption("yPrecision",0),this.callback=i.callback||null,this.animationCallback=i.animationCallback||null,this.bounds={left:i.left||0,right:-(i.right||0),top:i.top||0,bottom:-(i.bottom||0),x0:0,x1:0,xRange:0,y0:0,y1:0,yRange:0},this.value={prev:[-1,-1],current:[i.x||0,i.y||0],target:[i.x||0,i.y||0]},this.offset={wrapper:[0,0],mouse:[0,0],prev:[-999999,-999999],current:[0,0],target:[0,0]},this.change=[0,0],this.activity=!1,this.dragging=!1,this.tapping=!1},getOption:function(t,e){return void 0!==this.options[t]?this.options[t]:e},setup:function(){this.setWrapperOffset(),this.setBoundsPadding(),this.setBounds(),this.setSteps(),this.addListeners()},setWrapperOffset:function(){this.offset.wrapper=L.get(this.wrapper)},setBoundsPadding:function(){this.bounds.left||this.bounds.right||(this.bounds.left=L.get(this.handle)[0]-this.offset.wrapper[0],this.bounds.right=-this.bounds.left),this.bounds.top||this.bounds.bottom||(this.bounds.top=L.get(this.handle)[1]-this.offset.wrapper[1],this.bounds.bottom=-this.bounds.top)},setBounds:function(){this.bounds.x0=this.bounds.left,this.bounds.x1=this.wrapper.offsetWidth+this.bounds.right,this.bounds.xRange=this.bounds.x1-this.bounds.x0-this.handle.offsetWidth,this.bounds.y0=this.bounds.top,this.bounds.y1=this.wrapper.offsetHeight+this.bounds.bottom,this.bounds.yRange=this.bounds.y1-this.bounds.y0-this.handle.offsetHeight,this.bounds.xStep=1/(this.xPrecision||Math.max(this.wrapper.offsetWidth,this.handle.offsetWidth)),this.bounds.yStep=1/(this.yPrecision||Math.max(this.wrapper.offsetHeight,this.handle.offsetHeight))},setSteps:function(){if(this.steps>1){this.stepRatios=[];for(var t=0;t<=this.steps-1;t++)this.stepRatios[t]=t/(this.steps-1)}},addListeners:function(){var t=this;this.wrapper.onselectstart=function(){return!1},this.handle.onmousedown=this.handle.ontouchstart=function(e){t.handleDownHandler(e)},this.wrapper.onmousedown=this.wrapper.ontouchstart=function(e){t.wrapperDownHandler(e)};var i=document.onmouseup||function(){};document.onmouseup=function(e){i(e),t.documentUpHandler(e)};var n=document.ontouchend||function(){};document.ontouchend=function(e){n(e),t.documentUpHandler(e)};var s=e.onresize||function(){};e.onresize=function(e){s(e),t.documentResizeHandler(e)},this.wrapper.onmousemove=function(e){t.activity=!0},this.wrapper.onclick=function(e){return!t.activity},this.interval=setInterval(function(){t.animate()},25),t.animate(!1,!0)},handleDownHandler:function(t){this.activity=!1,O.refresh(t),this.preventDefaults(t,!0),this.startDrag(),this.cancelEvent(t)},wrapperDownHandler:function(t){O.refresh(t),this.preventDefaults(t,!0),this.startTap()},documentUpHandler:function(t){this.stopDrag(),this.stopTap()},documentResizeHandler:function(t){this.setWrapperOffset(),this.setBounds(),this.update()},enable:function(){this.disabled=!1,this.handle.className=this.handle.className.replace(/\s?disabled/g,"")},disable:function(){this.disabled=!0,this.handle.className+=" disabled"},setStep:function(t,e,i){this.setValue(this.steps&&t>1?(t-1)/(this.steps-1):0,this.steps&&e>1?(e-1)/(this.steps-1):0,i)},setValue:function(t,e,i){this.setTargetValue([t,e||0]),i&&this.groupCopy(this.value.current,this.value.target)},startTap:function(t){this.disabled||(this.tapping=!0,void 0===t&&(t=[O.x-this.offset.wrapper[0]-this.handle.offsetWidth/2,O.y-this.offset.wrapper[1]-this.handle.offsetHeight/2]),this.setTargetOffset(t))},stopTap:function(){!this.disabled&&this.tapping&&(this.tapping=!1,this.setTargetValue(this.value.current),this.result())},startDrag:function(){this.disabled||(this.offset.mouse=[O.x-L.get(this.handle)[0],O.y-L.get(this.handle)[1]],this.dragging=!0)},stopDrag:function(){if(!this.disabled&&this.dragging){this.dragging=!1;var t=this.groupClone(this.value.current);if(this.slide){var e=this.change;t[0]+=4*e[0],t[1]+=4*e[1]}this.setTargetValue(t),this.result()}},feedback:function(){var t=this.value.current;this.snap&&this.steps>1&&(t=this.getClosestSteps(t)),this.groupCompare(t,this.value.prev)||("function"==typeof this.animationCallback&&this.animationCallback(t[0],t[1]),this.groupCopy(this.value.prev,t))},result:function(){"function"==typeof this.callback&&this.callback(this.value.target[0],this.value.target[1])},animate:function(t,e){if(!t||this.dragging){if(this.dragging){var i=this.groupClone(this.value.target),n=[O.x-this.offset.wrapper[0]-this.offset.mouse[0],O.y-this.offset.wrapper[1]-this.offset.mouse[1]];this.setTargetOffset(n,this.loose),this.change=[this.value.target[0]-i[0],this.value.target[1]-i[1]]}(this.dragging||e)&&this.groupCopy(this.value.current,this.value.target),(this.dragging||this.glide()||e)&&(this.update(),this.feedback())}},glide:function(){var t=[this.value.target[0]-this.value.current[0],this.value.target[1]-this.value.current[1]];return t[0]||t[1]?(Math.abs(t[0])>this.bounds.xStep||Math.abs(t[1])>this.bounds.yStep?(this.value.current[0]+=t[0]*this.speed,this.value.current[1]+=t[1]*this.speed):this.groupCopy(this.value.current,this.value.target),!0):!1},update:function(){this.snap?this.offset.current=this.getOffsetsByRatios(this.getClosestSteps(this.value.current)):this.offset.current=this.getOffsetsByRatios(this.value.current),this.show()},show:function(){this.groupCompare(this.offset.current,this.offset.prev)||(this.horizontal&&(this.handle.style.left=String(this.offset.current[0])+"px"),this.vertical&&(this.handle.style.top=String(this.offset.current[1])+"px"),this.groupCopy(this.offset.prev,this.offset.current))},setTargetValue:function(t,e){var i=e?this.getLooseValue(t):this.getProperValue(t);this.groupCopy(this.value.target,i),this.offset.target=this.getOffsetsByRatios(i)},setTargetOffset:function(t,e){var i=this.getRatiosByOffsets(t),n=e?this.getLooseValue(i):this.getProperValue(i);this.groupCopy(this.value.target,n),this.offset.target=this.getOffsetsByRatios(n)},getLooseValue:function(t){var e=this.getProperValue(t);return[e[0]+(t[0]-e[0])/4,e[1]+(t[1]-e[1])/4]},getProperValue:function(t){var e=this.groupClone(t);return e[0]=Math.max(e[0],0),e[1]=Math.max(e[1],0),e[0]=Math.min(e[0],1),e[1]=Math.min(e[1],1),(!this.dragging&&!this.tapping||this.snap)&&this.steps>1&&(e=this.getClosestSteps(e)),e},getRatiosByOffsets:function(t){return[this.getRatioByOffset(t[0],this.bounds.xRange,this.bounds.x0),this.getRatioByOffset(t[1],this.bounds.yRange,this.bounds.y0)]},getRatioByOffset:function(t,e,i){return e?(t-i)/e:0},getOffsetsByRatios:function(t){return[this.getOffsetByRatio(t[0],this.bounds.xRange,this.bounds.x0),this.getOffsetByRatio(t[1],this.bounds.yRange,this.bounds.y0)]},getOffsetByRatio:function(t,e,i){return Math.round(t*e)+i},getClosestSteps:function(t){return[this.getClosestStep(t[0]),this.getClosestStep(t[1])]},getClosestStep:function(t){for(var e=0,i=1,n=0;n<=this.steps-1;n++)Math.abs(this.stepRatios[n]-t)<i&&(i=Math.abs(this.stepRatios[n]-t),e=n);return this.stepRatios[e]},groupCompare:function(t,e){return t[0]==e[0]&&t[1]==e[1]},groupCopy:function(t,e){t[0]=e[0],t[1]=e[1]},groupClone:function(t){return[t[0],t[1]]},preventDefaults:function(t,i){t||(t=e.event),t.preventDefault&&t.preventDefault(),t.returnValue=!1,i&&document.selection&&document.selection.empty()},cancelEvent:function(t){t||(t=e.event),t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0}},jQuery.browser||!function(){var t,e;jQuery.uaMatch=function(t){t=t.toLowerCase();var e=/(chrome)[ \/]([\w.]+)/.exec(t)||/(webkit)[ \/]([\w.]+)/.exec(t)||/(opera)(?:.*version|)[ \/]([\w.]+)/.exec(t)||/(msie) ([\w.]+)/.exec(t)||t.indexOf("compatible")<0&&/(mozilla)(?:.*? rv:([\w.]+)|)/.exec(t)||[];return{browser:e[1]||"",version:e[2]||"0"}},t=jQuery.uaMatch(navigator.userAgent),e={},t.browser&&(e[t.browser]=!0,e.version=t.version),e.chrome?e.webkit=!0:e.webkit&&(e.safari=!0),jQuery.browser=e}(),function(t){function i(i){var n=i||e.event,s=[].slice.call(arguments,1),o=0,a=0,r=0;return i=t.event.fix(n),i.type="mousewheel",n.wheelDelta&&(o=n.wheelDelta/120),n.detail&&(o=-n.detail/3),r=o,void 0!==n.axis&&n.axis===n.HORIZONTAL_AXIS&&(r=0,a=-1*o),void 0!==n.wheelDeltaY&&(r=n.wheelDeltaY/120),void 0!==n.wheelDeltaX&&(a=-1*n.wheelDeltaX/120),s.unshift(i,o,a,r),(t.event.dispatch||t.event.handle).apply(this,s)}var n=["DOMMouseScroll","mousewheel"];if(t.event.fixHooks)for(var s=n.length;s;)t.event.fixHooks[n[--s]]=t.event.mouseHooks;t.event.special.mousewheel={setup:function(){if(this.addEventListener)for(var t=n.length;t;)this.addEventListener(n[--t],i,!1);else this.onmousewheel=i},teardown:function(){if(this.removeEventListener)for(var t=n.length;t;)this.removeEventListener(n[--t],i,!1);else this.onmousewheel=null}},t.fn.extend({mousewheel:function(t){return t?this.bind("mousewheel",t):this.trigger("mousewheel")},unmousewheel:function(t){return this.unbind("mousewheel",t)}})}(jQuery)}(jQuery,window,Handsontable),!function(t){"use strict";var e=function(e,i){this.$element=t(e),this.options=t.extend({},t.fn.typeahead.defaults,i),this.matcher=this.options.matcher||this.matcher,this.sorter=this.options.sorter||this.sorter,this.highlighter=this.options.highlighter||this.highlighter,this.updater=this.options.updater||this.updater,this.source=this.options.source,this.$menu=t(this.options.menu),this.shown=!1,this.listen()};e.prototype={constructor:e,select:function(){var t=this.$menu.find(".active").attr("data-value");return this.$element.val(this.updater(t)).change(),this.hide()},updater:function(t){return t},show:function(){var e=t.extend({},this.$element.position(),{height:this.$element[0].offsetHeight});return this.$menu.insertAfter(this.$element).css({top:e.top+e.height,left:e.left}).show(),this.shown=!0,this},hide:function(){return this.$menu.hide(),this.shown=!1,this},lookup:function(e){var i;return this.query=this.$element.val(),!this.query||this.query.length<this.options.minLength?this.shown?this.hide():this:(i=t.isFunction(this.source)?this.source(this.query,t.proxy(this.process,this)):this.source,i?this.process(i):this)},process:function(e){var i=this;return e=t.grep(e,function(t){return i.matcher(t)}),e=this.sorter(e),e.length?this.render(e.slice(0,this.options.items)).show():this.shown?this.hide():this},matcher:function(t){return~t.toLowerCase().indexOf(this.query.toLowerCase())},sorter:function(t){for(var e,i=[],n=[],s=[];e=t.shift();)e.toLowerCase().indexOf(this.query.toLowerCase())?~e.indexOf(this.query)?n.push(e):s.push(e):i.push(e);return i.concat(n,s)},highlighter:function(t){var e=this.query.replace(/[\-\[\]{}()*+?.,\\\^$|#\s]/g,"\\$&");return t.replace(new RegExp("("+e+")","ig"),function(t,e){return"<strong>"+e+"</strong>"})},render:function(e){var i=this;return e=t(e).map(function(e,n){return e=t(i.options.item).attr("data-value",n),e.find("a").html(i.highlighter(n)),e[0]}),e.first().addClass("active"),this.$menu.html(e),this},next:function(e){var i=this.$menu.find(".active").removeClass("active"),n=i.next();n.length||(n=t(this.$menu.find("li")[0])),n.addClass("active")},prev:function(t){var e=this.$menu.find(".active").removeClass("active"),i=e.prev();i.length||(i=this.$menu.find("li").last()),i.addClass("active")},listen:function(){this.$element.on("focus",t.proxy(this.focus,this)).on("blur",t.proxy(this.blur,this)).on("keypress",t.proxy(this.keypress,this)).on("keyup",t.proxy(this.keyup,this)),this.eventSupported("keydown")&&this.$element.on("keydown",t.proxy(this.keydown,this)),this.$menu.on("click",t.proxy(this.click,this)).on("mouseenter","li",t.proxy(this.mouseenter,this)).on("mouseleave","li",t.proxy(this.mouseleave,this))},eventSupported:function(t){var e=t in this.$element;return e||(this.$element.setAttribute(t,"return;"),e="function"==typeof this.$element[t]),e},move:function(t){if(this.shown){switch(t.keyCode){case 9:case 13:case 27:t.preventDefault();break;case 38:t.preventDefault(),this.prev();break;case 40:t.preventDefault(),this.next()}t.stopPropagation()}},keydown:function(e){this.suppressKeyPressRepeat=~t.inArray(e.keyCode,[40,38,9,13,27]),this.move(e)},keypress:function(t){this.suppressKeyPressRepeat||this.move(t)},keyup:function(t){switch(t.keyCode){case 40:case 38:case 16:case 17:case 18:break;case 9:case 13:if(!this.shown)return;this.select();break;case 27:if(!this.shown)return;this.hide();break;default:this.lookup()}t.stopPropagation(),t.preventDefault()},focus:function(t){this.focused=!0},blur:function(t){this.focused=!1,!this.mousedover&&this.shown&&this.hide()},click:function(t){t.stopPropagation(),t.preventDefault(),this.select(),this.$element.focus()},mouseenter:function(e){this.mousedover=!0,this.$menu.find(".active").removeClass("active"),t(e.currentTarget).addClass("active")},mouseleave:function(t){this.mousedover=!1,!this.focused&&this.shown&&this.hide()}};var i=t.fn.typeahead;t.fn.typeahead=function(i){return this.each(function(){var n=t(this),s=n.data("typeahead"),o="object"==typeof i&&i;s||n.data("typeahead",s=new e(this,o)),"string"==typeof i&&s[i]()})},t.fn.typeahead.defaults={source:[],items:8,menu:'<ul class="typeahead dropdown-menu"></ul>',item:'<li><a href="#"></a></li>',minLength:1},t.fn.typeahead.Constructor=e,t.fn.typeahead.noConflict=function(){return t.fn.typeahead=i,this},t(document).on("focus.typeahead.data-api",'[data-provide="typeahead"]',function(e){var i=t(this);i.data("typeahead")||i.typeahead(i.data())})}(window.jQuery),function(){function t(t){this._n=t}function e(t,e,i){var n,s=Math.pow(10,e);if(n=(Math.round(t*s)/s).toFixed(e),i){var o=new RegExp("0{1,"+i+"}$");n=n.replace(o,"")}return n}function i(t,e){var i;return i=e.indexOf("$")>-1?s(t,e):e.indexOf("%")>-1?o(t,e):e.indexOf(":")>-1?a(t,e):l(t,e)}function n(t,e){if(e.indexOf(":")>-1)t._n=r(e);else if(e===f)t._n=0;else{var i=e;"."!==d[p].delimiters.decimal&&(e=e.replace(/\./g,"").replace(d[p].delimiters.decimal,"."));for(var n=new RegExp(d[p].abbreviations.thousand+"(?:\\)|(\\"+d[p].currency.symbol+")?(?:\\))?)?$"),s=new RegExp(d[p].abbreviations.million+"(?:\\)|(\\"+d[p].currency.symbol+")?(?:\\))?)?$"),o=new RegExp(d[p].abbreviations.billion+"(?:\\)|(\\"+d[p].currency.symbol+")?(?:\\))?)?$"),a=new RegExp(d[p].abbreviations.trillion+"(?:\\)|(\\"+d[p].currency.symbol+")?(?:\\))?)?$"),l=["KB","MB","GB","TB","PB","EB","ZB","YB"],c=!1,h=0;h<=l.length&&!(c=e.indexOf(l[h])>-1?Math.pow(1024,h+1):!1);h++);t._n=(c?c:1)*(i.match(n)?Math.pow(10,3):1)*(i.match(s)?Math.pow(10,6):1)*(i.match(o)?Math.pow(10,9):1)*(i.match(a)?Math.pow(10,12):1)*(e.indexOf("%")>-1?.01:1)*Number((e.indexOf("(")>-1?"-":"")+e.replace(/[^0-9\.-]+/g,"")),t._n=c?Math.ceil(t._n):t._n}return t._n}function s(t,e){var n=e.indexOf("$")<=1,s="";e.indexOf(" $")>-1?(s=" ",e=e.replace(" $","")):e.indexOf("$ ")>-1?(s=" ",e=e.replace("$ ","")):e=e.replace("$","");var o=i(t,e);return n?o.indexOf("(")>-1||o.indexOf("-")>-1?(o=o.split(""),o.splice(1,0,d[p].currency.symbol+s),o=o.join("")):o=d[p].currency.symbol+s+o:o.indexOf(")")>-1?(o=o.split(""),o.splice(-1,0,s+d[p].currency.symbol),o=o.join("")):o=o+s+d[p].currency.symbol,o}function o(t,e){var n="";e.indexOf(" %")>-1?(n=" ",e=e.replace(" %","")):e=e.replace("%",""),t._n=100*t._n;var s=i(t,e);return s.indexOf(")")>-1?(s=s.split(""),s.splice(-1,0,n+"%"),s=s.join("")):s=s+n+"%",s}function a(t,e){var i=Math.floor(t._n/60/60),n=Math.floor((t._n-60*i*60)/60),s=Math.round(t._n-60*i*60-60*n);return i+":"+(10>n?"0"+n:n)+":"+(10>s?"0"+s:s)}function r(t){var e=t.split(":"),i=0;return 3===e.length?(i+=60*Number(e[0])*60,i+=60*Number(e[1]),i+=Number(e[2])):2===e.length&&(i+=60*Number(e[0]),i+=Number(e[1])),Number(i)}function l(t,i){var n=!1,s=!1,o="",a="",r="",l=Math.abs(t._n);if(0===t._n&&null!==f)return f;if(i.indexOf("(")>-1&&(n=!0,i=i.slice(1,-1)),i.indexOf("a")>-1&&(i.indexOf(" a")>-1?(o=" ",i=i.replace(" a","")):i=i.replace("a",""),l>=Math.pow(10,12)?(o+=d[p].abbreviations.trillion,t._n=t._n/Math.pow(10,12)):l<Math.pow(10,12)&&l>=Math.pow(10,9)?(o+=d[p].abbreviations.billion,t._n=t._n/Math.pow(10,9)):l<Math.pow(10,9)&&l>=Math.pow(10,6)?(o+=d[p].abbreviations.million,t._n=t._n/Math.pow(10,6)):l<Math.pow(10,6)&&l>=Math.pow(10,3)&&(o+=d[p].abbreviations.thousand,t._n=t._n/Math.pow(10,3))),i.indexOf("b")>-1){i.indexOf(" b")>-1?(a=" ",i=i.replace(" b","")):i=i.replace("b","");for(var c,h,u=["B","KB","MB","GB","TB","PB","EB","ZB","YB"],m=0;m<=u.length;m++)if(c=Math.pow(1024,m),h=Math.pow(1024,m+1),t._n>=c&&t._n<h){a+=u[m],c>0&&(t._n=t._n/c);break}}i.indexOf("o")>-1&&(i.indexOf(" o")>-1?(r=" ",i=i.replace(" o","")):i=i.replace("o",""),r+=d[p].ordinal(t._n)),i.indexOf("[.]")>-1&&(s=!0,i=i.replace("[.]","."));var g=t._n.toString().split(".")[0],v=i.split(".")[1],y=i.indexOf(","),b="",_=!1;return v?(v.indexOf("[")>-1?(v=v.replace("]",""),v=v.split("["),b=e(t._n,v[0].length+v[1].length,v[1].length)):b=e(t._n,v.length),g=b.split(".")[0],b=b.split(".")[1].length?d[p].delimiters.decimal+b.split(".")[1]:"",s&&0===Number(b)&&(b="")):g=e(t._n,null),g.indexOf("-")>-1&&(g=g.slice(1),_=!0),y>-1&&(g=g.toString().replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1"+d[p].delimiters.thousands)),0===i.indexOf(".")&&(g=""),(n&&_?"(":"")+(!n&&_?"-":"")+g+b+(r?r:"")+(o?o:"")+(a?a:"")+(n&&_?")":"")}function c(t,e){d[t]=e}var h,u="1.4.7",d={},p="en",f=null,m="undefined"!=typeof module&&module.exports;h=function(e){return h.isNumeral(e)?e=e.value():Number(e)||(e=0),new t(Number(e))},h.version=u,h.isNumeral=function(e){return e instanceof t},h.language=function(t,e){return t?(t&&!e&&(p=t),!e&&d[t]||c(t,e),h):p},h.language("en",{delimiters:{thousands:",",decimal:"."},abbreviations:{thousand:"k",million:"m",billion:"b",trillion:"t"},ordinal:function(t){var e=t%10;return 1===~~(t%100/10)?"th":1===e?"st":2===e?"nd":3===e?"rd":"th"},currency:{symbol:"$"}}),h.zeroFormat=function(t){f="string"==typeof t?t:null},h.fn=t.prototype={clone:function(){return h(this)},format:function(t){return i(this,t?t:h.defaultFormat)},unformat:function(t){return n(this,t?t:h.defaultFormat)},value:function(){return this._n},valueOf:function(){return this._n},set:function(t){return this._n=Number(t),this},add:function(t){return this._n=this._n+Number(t),this},subtract:function(t){return this._n=this._n-Number(t),this},multiply:function(t){return this._n=this._n*Number(t),this},divide:function(t){return this._n=this._n/Number(t),this},difference:function(t){var e=this._n-Number(t);return 0>e&&(e=-e),e}},m&&(module.exports=h),"undefined"==typeof ender&&(this.numeral=h),"function"==typeof define&&define.amd&&define([],function(){return h})}.call(this),function(t,e){function i(t){for(var e,i=t.split(/\s+/),n=[],s=0;e=i[s];s++)e=e[0].toUpperCase(),n.push(e);return n}function n(e){return e.id&&t('label[for="'+e.id+'"]').val()||e.name}function s(i,o,a){return a||(a=0),o.each(function(){var o,r,l=t(this),c=this,h=this.nodeName.toLowerCase();switch("label"==h&&l.find("input, textarea, select").length&&(o=l.text(),l=l.children().first(),c=l.get(0),h=c.nodeName.toLowerCase()),h){case"menu":r={name:l.attr("label"),items:{}},a=s(r.items,l.children(),a);break;case"a":case"button":r={name:l.text(),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"menuitem":case"command":switch(l.attr("type")){case e:case"command":case"menuitem":r={name:l.attr("label"),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"checkbox":r={type:"checkbox",disabled:!!l.attr("disabled"),name:l.attr("label"),selected:!!l.attr("checked")};break;case"radio":r={type:"radio",disabled:!!l.attr("disabled"),name:l.attr("label"),radio:l.attr("radiogroup"),value:l.attr("id"),selected:!!l.attr("checked")};break;default:r=e}break;case"hr":r="-------";break;case"input":switch(l.attr("type")){case"text":r={type:"text",name:o||n(c),disabled:!!l.attr("disabled"),value:l.val()};break;case"checkbox":r={type:"checkbox",name:o||n(c),disabled:!!l.attr("disabled"),selected:!!l.attr("checked")};break;case"radio":r={type:"radio",name:o||n(c),disabled:!!l.attr("disabled"),radio:!!l.attr("name"),value:l.val(),selected:!!l.attr("checked")};break;default:r=e}break;case"select":r={type:"select",name:o||n(c),disabled:!!l.attr("disabled"),selected:l.val(),options:{}},l.children().each(function(){r.options[this.value]=t(this).text()});break;case"textarea":r={type:"textarea",name:o||n(c),disabled:!!l.attr("disabled"),value:l.val()};break;case"label":break;default:r={type:"html",html:l.clone(!0)}}r&&(a++,i["key"+a]=r)}),a}t.support.htmlMenuitem="HTMLMenuItemElement"in window,t.support.htmlCommand="HTMLCommandElement"in window,t.support.eventSelectstart="onselectstart"in document.documentElement;var o=null,a=!1,r=t(window),l=0,c={},h={},u={},d={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,determinePosition:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(i)}},position:function(e,i,n){var s;if(!i&&!n)return void e.determinePosition.call(this,e.$menu);if("maintain"===i&&"maintain"===n)s=e.$menu.position();else{var o=e.$trigger.parents().andSelf().filter(function(){return"fixed"==t(this).css("position")}).length;o&&(n-=r.scrollTop(),i-=r.scrollLeft()),s={top:n,left:i}}var a=r.scrollTop()+r.height(),l=r.scrollLeft()+r.width(),c=e.$menu.height(),h=e.$menu.width();s.top+c>a&&(s.top-=c),s.left+h>l&&(s.left-=h),e.$menu.css(s)},positionSubmenu:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"left top",at:"right top",of:this,collision:"fit"}).css("display","");else{var i={top:0,left:this.outerWidth()};e.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:t.noop,hide:t.noop},callback:null,items:{}},p={timer:null,pageX:null,pageY:null},f=function(t){for(var e=0,i=t;;)if(e=Math.max(e,parseInt(i.css("z-index"),10)||0),i=i.parent(),!i||!i.length||"html body".indexOf(i.prop("nodeName").toLowerCase())>-1)break;return e},m={abortevent:function(t){t.preventDefault(),t.stopImmediatePropagation()},contextmenu:function(e){var i=t(this);if(e.preventDefault(),e.stopImmediatePropagation(),!("right"!=e.data.trigger&&e.originalEvent||i.hasClass("context-menu-disabled"))){if(o=i,e.data.build){var n=e.data.build(o,e);if(n===!1)return;if(e.data=t.extend(!0,{},d,e.data,n||{}),!e.data.items||t.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log)("No items specified to show in contextMenu"),new Error("No Items sepcified");e.data.$trigger=o,g.create(e.data)}g.show.call(i,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),t(this).trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var i=t(this);o&&o.length&&!o.is(i)&&o.data("contextMenu").$menu.trigger("contextmenu:hide"),2==e.button&&(o=i.data("contextMenuActive",!0))},mouseup:function(e){var i=t(this);i.data("contextMenuActive")&&o&&o.length&&o.is(i)&&!i.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),o=i,i.trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(e){var i=t(this),n=t(e.relatedTarget),s=t(document);n.is(".context-menu-list")||n.closest(".context-menu-list").length||o&&o.length||(p.pageX=e.pageX,p.pageY=e.pageY,p.data=e.data,s.on("mousemove.contextMenuShow",m.mousemove),p.timer=setTimeout(function(){p.timer=null,s.off("mousemove.contextMenuShow"),o=i,i.trigger(t.Event("contextmenu",{data:p.data,pageX:p.pageX,pageY:p.pageY}))},e.data.delay))},mousemove:function(t){p.pageX=t.pageX,p.pageY=t.pageY},mouseleave:function(e){var i=t(e.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(p.timer)}catch(e){}p.timer=null}},layerClick:function(e){var i,n,s,o=t(this),a=o.data("contextMenuRoot"),l=!1,h=e.button,u=e.pageX,d=e.pageY;e.preventDefault(),e.stopImmediatePropagation(),o.on("mouseup",function(){l=!0}),setTimeout(function(){var p,f;if("left"==a.trigger&&0==h||"right"==a.trigger&&2==h)if(document.elementFromPoint){a.$layer.hide(),i=document.elementFromPoint(u-r.scrollLeft(),d-r.scrollTop()),a.$layer.show(),s=[];for(var m in c)s.push(m);if(i=t(i).closest(s.join(", ")),i.length&&i.is(a.$trigger[0]))return void a.position.call(a.$trigger,a,u,d)}else if(n=a.$trigger.offset(),p=t(window),n.top+=p.scrollTop(),n.top<=e.pageY&&(n.left+=p.scrollLeft(),n.left<=e.pageX&&(n.bottom=n.top+a.$trigger.outerHeight(),n.bottom>=e.pageY&&(n.right=n.left+a.$trigger.outerWidth(),n.right>=e.pageX))))return void a.position.call(a.$trigger,a,u,d);f=function(t){t&&(t.preventDefault(),t.stopImmediatePropagation()),a.$menu.trigger("contextmenu:hide"),i&&i.length&&setTimeout(function(){i.contextMenu({x:u,y:d})},50)},l?f():o.on("mouseup",f)},50)},keyStop:function(t,e){e.isInput||t.preventDefault(),t.stopPropagation()},key:function(t){var e=o.data("contextMenu")||{};e.$menu.children();switch(t.keyCode){case 9:case 38:if(m.keyStop(t,e),e.isInput){if(9==t.keyCode&&t.shiftKey)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void e.$menu.trigger("prevcommand");if(38==t.keyCode&&"checkbox"==e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault()}else if(9!=t.keyCode||t.shiftKey)return void e.$menu.trigger("prevcommand");case 40:if(m.keyStop(t,e),!e.isInput)return void e.$menu.trigger("nextcommand");if(9==t.keyCode)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void e.$menu.trigger("nextcommand");if(40==t.keyCode&&"checkbox"==e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault();break;case 37:if(m.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;if(!e.$selected.parent().hasClass("context-menu-root")){var i=e.$selected.parent().parent();return e.$selected.trigger("contextmenu:blur"),void(e.$selected=i)}break;case 39:if(m.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;var n=e.$selected.data("contextMenu")||{};if(n.$menu&&e.$selected.hasClass("context-menu-submenu"))return e.$selected=null,n.$selected=null,void n.$menu.trigger("nextcommand");break;case 35:case 36:return e.$selected&&e.$selected.find("input, textarea, select").length?void 0:((e.$selected&&e.$selected.parent()||e.$menu).children(":not(.disabled, .not-selectable)")[36==t.keyCode?"first":"last"]().trigger("contextmenu:focus"),void t.preventDefault());case 13:if(m.keyStop(t,e),e.isInput){if(e.$selected&&!e.$selected.is("textarea, select"))return void t.preventDefault();break}return void(e.$selected&&e.$selected.trigger("mouseup"));case 32:case 33:case 34:return void m.keyStop(t,e);case 27:return m.keyStop(t,e),void e.$menu.trigger("contextmenu:hide");default:var s=String.fromCharCode(t.keyCode).toUpperCase();if(e.accesskeys[s])return void e.accesskeys[s].$node.trigger(e.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}t.stopPropagation(),e.$selected&&e.$selected.trigger(t)},prevItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=n}for(var s=i.$menu.children(),o=i.$selected&&i.$selected.prev().length?i.$selected.prev():s.last(),a=o;o.hasClass("disabled")||o.hasClass("not-selectable");)if(o=o.prev().length?o.prev():s.last(),o.is(a))return;i.$selected&&m.itemMouseleave.call(i.$selected.get(0),e),m.itemMouseenter.call(o.get(0),e);var r=o.find("input, textarea, select");r.length&&r.focus()},nextItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=n}for(var s=i.$menu.children(),o=i.$selected&&i.$selected.next().length?i.$selected.next():s.first(),a=o;o.hasClass("disabled")||o.hasClass("not-selectable");)if(o=o.next().length?o.next():s.first(),o.is(a))return;i.$selected&&m.itemMouseleave.call(i.$selected.get(0),e),m.itemMouseenter.call(o.get(0),e);var r=o.find("input, textarea, select");r.length&&r.focus()},focusInput:function(e){var i=t(this).closest(".context-menu-item"),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;o.$selected=s.$selected=i,o.isInput=s.isInput=!0},blurInput:function(e){var i=t(this).closest(".context-menu-item"),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;o.isInput=s.isInput=!1},menuMouseenter:function(e){var i=t(this).data().contextMenuRoot;i.hovering=!0},menuMouseleave:function(e){var i=t(this).data().contextMenuRoot;i.$layer&&i.$layer.is(e.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(e){var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;return o.hovering=!0,e&&o.$layer&&o.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),
(s.$menu?s:o).$menu.children(".hover").trigger("contextmenu:blur"),i.hasClass("disabled")||i.hasClass("not-selectable")?void(s.$selected=null):void i.trigger("contextmenu:focus")},itemMouseleave:function(e){var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;return o!==s&&o.$layer&&o.$layer.is(e.relatedTarget)?(o.$selected&&o.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(o.$selected=s.$selected=s.$node)):void i.trigger("contextmenu:blur")},itemClick:function(e){var i,n=t(this),s=n.data(),o=s.contextMenu,a=s.contextMenuRoot,r=s.contextMenuKey;if(o.items[r]&&!n.hasClass("disabled")&&!n.hasClass("context-menu-submenu")){if(e.preventDefault(),e.stopImmediatePropagation(),t.isFunction(a.callbacks[r]))i=a.callbacks[r];else{if(!t.isFunction(a.callback))return;i=a.callback}i.call(a.$trigger,r,a)!==!1?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&g.update.call(a.$trigger,a)}},inputClick:function(t){t.stopImmediatePropagation()},hideMenu:function(e,i){var n=t(this).data("contextMenuRoot");g.hide.call(n.$trigger,n,i&&i.force)},focusItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;i.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),s.$selected=o.$selected=i,s.$node&&o.positionSubmenu.call(s.$node,s.$menu)},blurItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),s=n.contextMenu;n.contextMenuRoot;i.removeClass("hover"),s.$selected=null}},g={show:function(e,i,n){var s=t(this),a={};if(t("#context-menu-layer").trigger("mousedown"),e.$trigger=s,e.events.show.call(s,e)===!1)return void(o=null);if(g.update.call(s,e),e.position.call(s,e,i,n),e.zIndex&&(a.zIndex=f(s)+e.zIndex),g.layer.call(e.$menu,e,a.zIndex),e.$menu.find("ul").css("zIndex",a.zIndex+1),e.$menu.css(a)[e.animation.show](e.animation.duration),s.data("contextMenu",e),t(document).off("keydown.contextMenu").on("keydown.contextMenu",m.key),e.autoHide){var r=s.position();r.right=r.left+s.outerWidth(),r.bottom=r.top+this.outerHeight(),t(document).on("mousemove.contextMenuAutoHide",function(t){!e.$layer||e.hovering||t.pageX>=r.left&&t.pageX<=r.right&&t.pageY>=r.top&&t.pageY<=r.bottom||e.$menu.trigger("contextmenu:hide")})}},hide:function(i,n){var s=t(this);if(i||(i=s.data("contextMenu")||{}),n||!i.events||i.events.hide.call(s,i)!==!1){if(i.$layer){setTimeout(function(t){return function(){t.remove()}}(i.$layer),10);try{delete i.$layer}catch(a){i.$layer=null}}o=null,i.$menu.find(".hover").trigger("contextmenu:blur"),i.$selected=null,t(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),i.$menu&&i.$menu[i.animation.hide](i.animation.duration,function(){i.build&&(i.$menu.remove(),t.each(i,function(t,n){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:i[t]=e;try{delete i[t]}catch(s){}return!0}}))})}},create:function(n,s){s===e&&(s=n),n.$menu=t('<ul class="context-menu-list '+(n.className||"")+'"></ul>').data({contextMenu:n,contextMenuRoot:s}),t.each(["callbacks","commands","inputs"],function(t,e){n[e]={},s[e]||(s[e]={})}),s.accesskeys||(s.accesskeys={}),t.each(n.items,function(e,o){var a=t('<li class="context-menu-item '+(o.className||"")+'"></li>'),r=null,l=null;if(o.$node=a.data({contextMenu:n,contextMenuRoot:s,contextMenuKey:e}),o.accesskey)for(var c,h=i(o.accesskey),d=0;c=h[d];d++)if(!s.accesskeys[c]){s.accesskeys[c]=o,o._name=o.name.replace(new RegExp("("+c+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof o)a.addClass("context-menu-separator not-selectable");else if(o.type&&u[o.type])u[o.type].call(a,o,n,s),t.each([n,s],function(i,n){n.commands[e]=o,t.isFunction(o.callback)&&(n.callbacks[e]=o.callback)});else{switch("html"==o.type?a.addClass("context-menu-html not-selectable"):o.type?(r=t("<label></label>").appendTo(a),t("<span></span>").html(o._name||o.name).appendTo(r),a.addClass("context-menu-input"),n.hasTypes=!0,t.each([n,s],function(t,i){i.commands[e]=o,i.inputs[e]=o})):o.items&&(o.type="sub"),o.type){case"text":l=t('<input type="text" value="1" name="context-menu-input-'+e+'" value="">').val(o.value||"").appendTo(r);break;case"textarea":l=t('<textarea name="context-menu-input-'+e+'"></textarea>').val(o.value||"").appendTo(r),o.height&&l.height(o.height);break;case"checkbox":l=t('<input type="checkbox" value="1" name="context-menu-input-'+e+'" value="">').val(o.value||"").prop("checked",!!o.selected).prependTo(r);break;case"radio":l=t('<input type="radio" value="1" name="context-menu-input-'+o.radio+'" value="">').val(o.value||"").prop("checked",!!o.selected).prependTo(r);break;case"select":l=t('<select name="context-menu-input-'+e+'">').appendTo(r),o.options&&(t.each(o.options,function(e,i){t("<option></option>").val(e).text(i).appendTo(l)}),l.val(o.selected));break;case"sub":t("<span></span>").html(o._name||o.name).appendTo(a),o.appendTo=o.$node,g.create(o,s),a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null;break;case"html":t(o.html).appendTo(a);break;default:t.each([n,s],function(i,n){n.commands[e]=o,t.isFunction(o.callback)&&(n.callbacks[e]=o.callback)}),t("<span></span>").html(o._name||o.name||"").appendTo(a)}o.type&&"sub"!=o.type&&"html"!=o.type&&(l.on("focus",m.focusInput).on("blur",m.blurInput),o.events&&l.on(o.events,n)),o.icon&&a.addClass("icon icon-"+o.icon)}o.$input=l,o.$label=r,a.appendTo(n.$menu),!n.hasTypes&&t.support.eventSelectstart&&a.on("selectstart.disableTextSelect",m.abortevent)}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},update:function(i,n){var s=this;n===e&&(n=i,i.$menu.find("ul").andSelf().css({position:"static",display:"block"}).each(function(){var e=t(this);e.width(e.css("position","absolute").width()).css("position","static")}).css({position:"",display:""})),i.$menu.children().each(function(){var e=t(this),o=e.data("contextMenuKey"),a=i.items[o],r=t.isFunction(a.disabled)&&a.disabled.call(s,o,n)||a.disabled===!0;if(e[r?"addClass":"removeClass"]("disabled"),a.type)switch(e.find("input, select, textarea").prop("disabled",r),a.type){case"text":case"textarea":a.$input.val(a.value||"");break;case"checkbox":case"radio":a.$input.val(a.value||"").prop("checked",!!a.selected);break;case"select":a.$input.val(a.selected||"")}a.$menu&&g.update.call(s,a,n)})},layer:function(e,i){var n=e.$layer=t('<div id="context-menu-layer" style="position:fixed; z-index:'+i+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:r.height(),width:r.width(),display:"block"}).data("contextMenuRoot",e).insertBefore(this).on("contextmenu",m.abortevent).on("mousedown",m.layerClick);return t.support.fixedPosition||n.css({position:"absolute",height:t(document).height()}),n}};t.fn.contextMenu=function(i){if(i===e)this.first().trigger("contextmenu");else if(i.x&&i.y)this.first().trigger(t.Event("contextmenu",{pageX:i.x,pageY:i.y}));else if("hide"===i){var n=this.data("contextMenu").$menu;n&&n.trigger("contextmenu:hide")}else i?this.removeClass("context-menu-disabled"):i||this.addClass("context-menu-disabled");return this},t.contextMenu=function(i,n){"string"!=typeof i&&(n=i,i="create"),"string"==typeof n?n={selector:n}:n===e&&(n={});var s=t.extend(!0,{},d,n||{}),o=t(document);switch(i){case"create":if(!s.selector)throw new Error("No selector specified");if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||t.isEmptyObject(s.items)))throw new Error("No Items sepcified");switch(l++,s.ns=".contextMenu"+l,c[s.selector]=s.ns,h[s.ns]=s,s.trigger||(s.trigger="right"),a||(o.on({"contextmenu:hide.contextMenu":m.hideMenu,"prevcommand.contextMenu":m.prevItem,"nextcommand.contextMenu":m.nextItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.menuMouseenter,"mouseleave.contextMenu":m.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",m.inputClick).on({"mouseup.contextMenu":m.itemClick,"contextmenu:focus.contextMenu":m.focusItem,"contextmenu:blur.contextMenu":m.blurItem,"contextmenu.contextMenu":m.abortevent,"mouseenter.contextMenu":m.itemMouseenter,"mouseleave.contextMenu":m.itemMouseleave},".context-menu-item"),a=!0),o.on("contextmenu"+s.ns,s.selector,s,m.contextmenu),s.trigger){case"hover":o.on("mouseenter"+s.ns,s.selector,s,m.mouseenter).on("mouseleave"+s.ns,s.selector,s,m.mouseleave);break;case"left":o.on("click"+s.ns,s.selector,s,m.click)}s.build||g.create(s);break;case"destroy":if(s.selector){if(c[s.selector]){var r=t(".context-menu-list").filter(":visible");r.length&&r.data().contextMenuRoot.$trigger.is(s.selector)&&r.trigger("contextmenu:hide",{force:!0});try{h[c[s.selector]].$menu&&h[c[s.selector]].$menu.remove(),delete h[c[s.selector]]}catch(u){h[c[s.selector]]=null}o.off(c[s.selector])}}else o.off(".contextMenu .contextMenuAutoHide"),t.each(c,function(t,e){o.off(e)}),c={},h={},l=0,a=!1,t("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!t.support.htmlCommand&&!t.support.htmlMenuitem||"boolean"==typeof n&&n)&&t('menu[type="context"]').each(function(){this.id&&t.contextMenu({selector:"[contextmenu="+this.id+"]",items:t.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+i+'"')}return this},t.contextMenu.setInputValues=function(i,n){n===e&&(n={}),t.each(i.inputs,function(t,e){switch(e.type){case"text":case"textarea":e.value=n[t]||"";break;case"checkbox":e.selected=!!n[t];break;case"radio":e.selected=(n[e.radio]||"")==e.value;break;case"select":e.selected=n[t]||""}})},t.contextMenu.getInputValues=function(i,n){return n===e&&(n={}),t.each(i.inputs,function(t,e){switch(e.type){case"text":case"textarea":case"select":n[t]=e.$input.val();break;case"checkbox":n[t]=e.$input.prop("checked");break;case"radio":e.$input.prop("checked")&&(n[e.radio]=e.value)}}),n},t.contextMenu.fromMenu=function(e){var i=t(e),n={};return s(n,i.children()),n},t.contextMenu.defaults=d,t.contextMenu.types=u}(jQuery),function(t,e){function i(t,e,i){return[parseInt(t[0],10)*(p.test(t[0])?e/100:1),parseInt(t[1],10)*(p.test(t[1])?i/100:1)]}function n(e,i){return parseInt(t.css(e,i),10)||0}function s(e){var i=e[0];return 9===i.nodeType?{width:e.width(),height:e.height(),offset:{top:0,left:0}}:t.isWindow(i)?{width:e.width(),height:e.height(),offset:{top:e.scrollTop(),left:e.scrollLeft()}}:i.preventDefault?{width:0,height:0,offset:{top:i.pageY,left:i.pageX}}:{width:e.outerWidth(),height:e.outerHeight(),offset:e.offset()}}t.ui=t.ui||{};var o,a=Math.max,r=Math.abs,l=Math.round,c=/left|center|right/,h=/top|center|bottom/,u=/[\+\-]\d+%?/,d=/^\w+/,p=/%$/,f=t.fn.position;t.position={scrollbarWidth:function(){if(o!==e)return o;var i,n,s=t("<div style='display:block;width:50px;height:50px;overflow:hidden;'><div style='height:100px;width:auto;'></div></div>"),a=s.children()[0];return t("body").append(s),i=a.offsetWidth,s.css("overflow","scroll"),n=a.offsetWidth,i===n&&(n=s[0].clientWidth),s.remove(),o=i-n},getScrollInfo:function(e){var i=e.isWindow?"":e.element.css("overflow-x"),n=e.isWindow?"":e.element.css("overflow-y"),s="scroll"===i||"auto"===i&&e.width<e.element[0].scrollWidth,o="scroll"===n||"auto"===n&&e.height<e.element[0].scrollHeight;return{width:s?t.position.scrollbarWidth():0,height:o?t.position.scrollbarWidth():0}},getWithinInfo:function(e){var i=t(e||window),n=t.isWindow(i[0]);return{element:i,isWindow:n,offset:i.offset()||{left:0,top:0},scrollLeft:i.scrollLeft(),scrollTop:i.scrollTop(),width:n?i.width():i.outerWidth(),height:n?i.height():i.outerHeight()}}},t.fn.position=function(e){if(!e||!e.of)return f.apply(this,arguments);e=t.extend({},e);var o,p,m,g,v,y,b=t(e.of),_=t.position.getWithinInfo(e.within),w=t.position.getScrollInfo(_),x=(e.collision||"flip").split(" "),k={};return y=s(b),b[0].preventDefault&&(e.at="left top"),p=y.width,m=y.height,g=y.offset,v=t.extend({},g),t.each(["my","at"],function(){var t,i,n=(e[this]||"").split(" ");1===n.length&&(n=c.test(n[0])?n.concat(["center"]):h.test(n[0])?["center"].concat(n):["center","center"]),n[0]=c.test(n[0])?n[0]:"center",n[1]=h.test(n[1])?n[1]:"center",t=u.exec(n[0]),i=u.exec(n[1]),k[this]=[t?t[0]:0,i?i[0]:0],e[this]=[d.exec(n[0])[0],d.exec(n[1])[0]]}),1===x.length&&(x[1]=x[0]),"right"===e.at[0]?v.left+=p:"center"===e.at[0]&&(v.left+=p/2),"bottom"===e.at[1]?v.top+=m:"center"===e.at[1]&&(v.top+=m/2),o=i(k.at,p,m),v.left+=o[0],v.top+=o[1],this.each(function(){var s,c,h=t(this),u=h.outerWidth(),d=h.outerHeight(),f=n(this,"marginLeft"),y=n(this,"marginTop"),C=u+f+n(this,"marginRight")+w.width,T=d+y+n(this,"marginBottom")+w.height,S=t.extend({},v),D=i(k.my,h.outerWidth(),h.outerHeight());"right"===e.my[0]?S.left-=u:"center"===e.my[0]&&(S.left-=u/2),"bottom"===e.my[1]?S.top-=d:"center"===e.my[1]&&(S.top-=d/2),S.left+=D[0],S.top+=D[1],t.support.offsetFractions||(S.left=l(S.left),S.top=l(S.top)),s={marginLeft:f,marginTop:y},t.each(["left","top"],function(i,n){t.ui.position[x[i]]&&t.ui.position[x[i]][n](S,{targetWidth:p,targetHeight:m,elemWidth:u,elemHeight:d,collisionPosition:s,collisionWidth:C,collisionHeight:T,offset:[o[0]+D[0],o[1]+D[1]],my:e.my,at:e.at,within:_,elem:h})}),e.using&&(c=function(t){var i=g.left-S.left,n=i+p-u,s=g.top-S.top,o=s+m-d,l={target:{element:b,left:g.left,top:g.top,width:p,height:m},element:{element:h,left:S.left,top:S.top,width:u,height:d},horizontal:0>n?"left":i>0?"right":"center",vertical:0>o?"top":s>0?"bottom":"middle"};u>p&&r(i+n)<p&&(l.horizontal="center"),d>m&&r(s+o)<m&&(l.vertical="middle"),a(r(i),r(n))>a(r(s),r(o))?l.important="horizontal":l.important="vertical",e.using.call(this,t,l)}),h.offset(t.extend(S,{using:c}))})},t.ui.position={fit:{left:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollLeft:n.offset.left,o=n.width,r=t.left-e.collisionPosition.marginLeft,l=s-r,c=r+e.collisionWidth-o-s;e.collisionWidth>o?l>0&&0>=c?(i=t.left+l+e.collisionWidth-o-s,t.left+=l-i):c>0&&0>=l?t.left=s:l>c?t.left=s+o-e.collisionWidth:t.left=s:l>0?t.left+=l:c>0?t.left-=c:t.left=a(t.left-r,t.left)},top:function(t,e){var i,n=e.within,s=n.isWindow?n.scrollTop:n.offset.top,o=e.within.height,r=t.top-e.collisionPosition.marginTop,l=s-r,c=r+e.collisionHeight-o-s;e.collisionHeight>o?l>0&&0>=c?(i=t.top+l+e.collisionHeight-o-s,t.top+=l-i):c>0&&0>=l?t.top=s:l>c?t.top=s+o-e.collisionHeight:t.top=s:l>0?t.top+=l:c>0?t.top-=c:t.top=a(t.top-r,t.top)}},flip:{left:function(t,e){var i,n,s=e.within,o=s.offset.left+s.scrollLeft,a=s.width,l=s.isWindow?s.scrollLeft:s.offset.left,c=t.left-e.collisionPosition.marginLeft,h=c-l,u=c+e.collisionWidth-a-l,d="left"===e.my[0]?-e.elemWidth:"right"===e.my[0]?e.elemWidth:0,p="left"===e.at[0]?e.targetWidth:"right"===e.at[0]?-e.targetWidth:0,f=-2*e.offset[0];0>h?(i=t.left+d+p+f+e.collisionWidth-a-o,(0>i||i<r(h))&&(t.left+=d+p+f)):u>0&&(n=t.left-e.collisionPosition.marginLeft+d+p+f-l,(n>0||r(n)<u)&&(t.left+=d+p+f))},top:function(t,e){var i,n,s=e.within,o=s.offset.top+s.scrollTop,a=s.height,l=s.isWindow?s.scrollTop:s.offset.top,c=t.top-e.collisionPosition.marginTop,h=c-l,u=c+e.collisionHeight-a-l,d="top"===e.my[1],p=d?-e.elemHeight:"bottom"===e.my[1]?e.elemHeight:0,f="top"===e.at[1]?e.targetHeight:"bottom"===e.at[1]?-e.targetHeight:0,m=-2*e.offset[1];0>h?(n=t.top+p+f+m+e.collisionHeight-a-o,t.top+p+f+m>h&&(0>n||n<r(h))&&(t.top+=p+f+m)):u>0&&(i=t.top-e.collisionPosition.marginTop+p+f+m-l,t.top+p+f+m>u&&(i>0||r(i)<u)&&(t.top+=p+f+m))}},flipfit:{left:function(){t.ui.position.flip.left.apply(this,arguments),t.ui.position.fit.left.apply(this,arguments)},top:function(){t.ui.position.flip.top.apply(this,arguments),t.ui.position.fit.top.apply(this,arguments)}}},function(){var e,i,n,s,o,a=document.getElementsByTagName("body")[0],r=document.createElement("div");e=document.createElement(a?"div":"body"),n={visibility:"hidden",width:0,height:0,border:0,margin:0,background:"none"},a&&t.extend(n,{position:"absolute",left:"-1000px",top:"-1000px"});for(o in n)e.style[o]=n[o];e.appendChild(r),i=a||document.documentElement,i.insertBefore(e,i.firstChild),r.style.cssText="position: absolute; left: 10.7432222px;",s=t(r).offset().left,t.support.offsetFractions=s>10&&11>s,e.innerHTML="",i.removeChild(e)}()}(jQuery);var q=null;window.PR_SHOULD_USE_CONTINUATION=!0,function(){function t(t){function e(t){var e=t.charCodeAt(0);if(92!==e)return e;var i=t.charAt(1);return(e=u[i])?e:i>="0"&&"7">=i?parseInt(t.substring(1),8):"u"===i||"x"===i?parseInt(t.substring(2),16):t.charCodeAt(1)}function i(t){return 32>t?(16>t?"\\x0":"\\x")+t.toString(16):(t=String.fromCharCode(t),"\\"!==t&&"-"!==t&&"["!==t&&"]"!==t||(t="\\"+t),t)}function n(t){for(var n=t.substring(1,t.length-1).match(/\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\[0-3][0-7]{0,2}|\\[0-7]{1,2}|\\[\S\s]|[^\\]/g),t=[],s=[],o="^"===n[0],a=o?1:0,r=n.length;r>a;++a){var l=n[a];if(/\\[bdsw]/i.test(l))t.push(l);else{var c,l=e(l);r>a+2&&"-"===n[a+1]?(c=e(n[a+2]),a+=2):c=l,s.push([l,c]),65>c||l>122||(65>c||l>90||s.push([32|Math.max(65,l),32|Math.min(c,90)]),97>c||l>122||s.push([-33&Math.max(97,l),-33&Math.min(c,122)]))}}for(s.sort(function(t,e){return t[0]-e[0]||e[1]-t[1]}),n=[],l=[NaN,NaN],a=0;a<s.length;++a)r=s[a],r[0]<=l[1]+1?l[1]=Math.max(l[1],r[1]):n.push(l=r);for(s=["["],o&&s.push("^"),s.push.apply(s,t),a=0;a<n.length;++a)r=n[a],s.push(i(r[0])),r[1]>r[0]&&(r[1]+1>r[0]&&s.push("-"),s.push(i(r[1])));return s.push("]"),s.join("")}function s(t){for(var e=t.source.match(/\[(?:[^\\\]]|\\[\S\s])*]|\\u[\dA-Fa-f]{4}|\\x[\dA-Fa-f]{2}|\\\d+|\\[^\dux]|\(\?[!:=]|[()^]|[^()[\\^]+/g),i=e.length,s=[],r=0,l=0;i>r;++r){var c=e[r];"("===c?++l:"\\"===c.charAt(0)&&(c=+c.substring(1))&&l>=c&&(s[c]=-1)}for(r=1;r<s.length;++r)-1===s[r]&&(s[r]=++o);for(l=r=0;i>r;++r)c=e[r],"("===c?(++l,void 0===s[l]&&(e[r]="(?:")):"\\"===c.charAt(0)&&(c=+c.substring(1))&&l>=c&&(e[r]="\\"+s[l]);for(l=r=0;i>r;++r)"^"===e[r]&&"^"!==e[r+1]&&(e[r]="");if(t.ignoreCase&&a)for(r=0;i>r;++r)c=e[r],t=c.charAt(0),c.length>=2&&"["===t?e[r]=n(c):"\\"!==t&&(e[r]=c.replace(/[A-Za-z]/g,function(t){return t=t.charCodeAt(0),"["+String.fromCharCode(-33&t,32|t)+"]"}));return e.join("")}for(var o=0,a=!1,r=!1,l=0,c=t.length;c>l;++l){var h=t[l];if(h.ignoreCase)r=!0;else if(/[a-z]/i.test(h.source.replace(/\\u[\da-f]{4}|\\x[\da-f]{2}|\\[^UXux]/gi,""))){a=!0,r=!1;break}}for(var u={b:8,t:9,n:10,v:11,f:12,r:13},d=[],l=0,c=t.length;c>l;++l){if(h=t[l],h.global||h.multiline)throw Error(""+h);d.push("(?:"+s(h)+")")}return RegExp(d.join("|"),r?"gi":"g")}function e(t){function e(t){switch(t.nodeType){case 1:if(n.test(t.className))break;for(var i=t.firstChild;i;i=i.nextSibling)e(i);i=t.nodeName,"BR"!==i&&"LI"!==i||(s[r]="\n",a[r<<1]=o++,a[r++<<1|1]=t);break;case 3:case 4:i=t.nodeValue,i.length&&(i=l?i.replace(/\r\n?/g,"\n"):i.replace(/[\t\n\r ]+/g," "),s[r]=i,a[r<<1]=o,o+=i.length,a[r++<<1|1]=t)}}var i,n=/(?:^|\s)nocode(?:\s|$)/,s=[],o=0,a=[],r=0;t.currentStyle?i=t.currentStyle.whiteSpace:window.getComputedStyle&&(i=document.defaultView.getComputedStyle(t,q).getPropertyValue("white-space"));var l=i&&"pre"===i.substring(0,3);return e(t),{a:s.join("").replace(/\n$/,""),c:a}}function i(t,e,i,n){e&&(t={a:e,d:t},i(t),n.push.apply(n,t.e))}function n(e,n){function s(t){for(var e=t.d,c=[e,"pln"],h=0,u=t.a.match(o)||[],d={},p=0,f=u.length;f>p;++p){var m,g=u[p],v=d[g],y=void 0;if("string"==typeof v)m=!1;else{var b=a[g.charAt(0)];if(b)y=g.match(b[1]),v=b[0];else{for(m=0;l>m;++m)if(b=n[m],y=g.match(b[1])){v=b[0];break}y||(v="pln")}!(m=v.length>=5&&"lang-"===v.substring(0,5))||y&&"string"==typeof y[1]||(m=!1,v="src"),m||(d[g]=v)}if(b=h,h+=g.length,m){m=y[1];var _=g.indexOf(m),w=_+m.length;y[2]&&(w=g.length-y[2].length,_=w-m.length),v=v.substring(5),i(e+b,g.substring(0,_),s,c),i(e+b+_,m,r(v,m),c),i(e+b+w,g.substring(w),s,c)}else c.push(e+b,v)}t.e=c}var o,a={};!function(){for(var i=e.concat(n),s=[],r={},l=0,c=i.length;c>l;++l){var h=i[l],u=h[3];if(u)for(var d=u.length;--d>=0;)a[u.charAt(d)]=h;h=h[1],u=""+h,r.hasOwnProperty(u)||(s.push(h),r[u]=q)}s.push(/[\S\s]/),o=t(s)}();var l=n.length;return s}function s(t){var e=[],i=[];t.tripleQuotedStrings?e.push(["str",/^(?:'''(?:[^'\\]|\\[\S\s]|''?(?=[^']))*(?:'''|$)|"""(?:[^"\\]|\\[\S\s]|""?(?=[^"]))*(?:"""|$)|'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$))/,q,"'\""]):t.multiLineStrings?e.push(["str",/^(?:'(?:[^'\\]|\\[\S\s])*(?:'|$)|"(?:[^"\\]|\\[\S\s])*(?:"|$)|`(?:[^\\`]|\\[\S\s])*(?:`|$))/,q,"'\"`"]):e.push(["str",/^(?:'(?:[^\n\r'\\]|\\.)*(?:'|$)|"(?:[^\n\r"\\]|\\.)*(?:"|$))/,q,"\"'"]),t.verbatimStrings&&i.push(["str",/^@"(?:[^"]|"")*(?:"|$)/,q]);var s=t.hashComments;return s&&(t.cStyleComments?(s>1?e.push(["com",/^#(?:##(?:[^#]|#(?!##))*(?:###|$)|.*)/,q,"#"]):e.push(["com",/^#(?:(?:define|elif|else|endif|error|ifdef|include|ifndef|line|pragma|undef|warning)\b|[^\n\r]*)/,q,"#"]),i.push(["str",/^<(?:(?:(?:\.\.\/)*|\/?)(?:[\w-]+(?:\/[\w-]+)+)?[\w-]+\.h|[a-z]\w*)>/,q])):e.push(["com",/^#[^\n\r]*/,q,"#"])),t.cStyleComments&&(i.push(["com",/^\/\/[^\n\r]*/,q]),i.push(["com",/^\/\*[\S\s]*?(?:\*\/|$)/,q])),t.regexLiterals&&i.push(["lang-regex",/^(?:^^\.?|[!+-]|!=|!==|#|%|%=|&|&&|&&=|&=|\(|\*|\*=|\+=|,|-=|->|\/|\/=|:|::|;|<|<<|<<=|<=|=|==|===|>|>=|>>|>>=|>>>|>>>=|[?@[^]|\^=|\^\^|\^\^=|{|\||\|=|\|\||\|\|=|~|break|case|continue|delete|do|else|finally|instanceof|return|throw|try|typeof)\s*(\/(?=[^*/])(?:[^/[\\]|\\[\S\s]|\[(?:[^\\\]]|\\[\S\s])*(?:]|$))+\/)/]),(s=t.types)&&i.push(["typ",s]),t=(""+t.keywords).replace(/^ | $/g,""),t.length&&i.push(["kwd",RegExp("^(?:"+t.replace(/[\s,]+/g,"|")+")\\b"),q]),e.push(["pln",/^\s+/,q," \r\n	 "]),i.push(["lit",/^@[$_a-z][\w$@]*/i,q],["typ",/^(?:[@_]?[A-Z]+[a-z][\w$@]*|\w+_t\b)/,q],["pln",/^[$_a-z][\w$@]*/i,q],["lit",/^(?:0x[\da-f]+|(?:\d(?:_\d+)*\d*(?:\.\d*)?|\.\d\+)(?:e[+-]?\d+)?)[a-z]*/i,q,"0123456789"],["pln",/^\\[\S\s]?/,q],["pun",/^.[^\s\w"-$'./@\\`]*/,q]),n(e,i)}function o(t,e){function i(t){switch(t.nodeType){case 1:if(o.test(t.className))break;if("BR"===t.nodeName)n(t),t.parentNode&&t.parentNode.removeChild(t);else for(t=t.firstChild;t;t=t.nextSibling)i(t);break;case 3:case 4:if(l){var e=t.nodeValue,s=e.match(a);if(s){var c=e.substring(0,s.index);t.nodeValue=c,(e=e.substring(s.index+s[0].length))&&t.parentNode.insertBefore(r.createTextNode(e),t.nextSibling),n(t),c||t.parentNode.removeChild(t)}}}}function n(t){function e(t,i){var n=i?t.cloneNode(!1):t,s=t.parentNode;if(s){var s=e(s,1),o=t.nextSibling;s.appendChild(n);for(var a=o;a;a=o)o=a.nextSibling,s.appendChild(a)}return n}for(;!t.nextSibling;)if(t=t.parentNode,!t)return;for(var i,t=e(t.nextSibling,0);(i=t.parentNode)&&1===i.nodeType;)t=i;c.push(t)}var s,o=/(?:^|\s)nocode(?:\s|$)/,a=/\r\n?|\n/,r=t.ownerDocument;t.currentStyle?s=t.currentStyle.whiteSpace:window.getComputedStyle&&(s=r.defaultView.getComputedStyle(t,q).getPropertyValue("white-space"));var l=s&&"pre"===s.substring(0,3);for(s=r.createElement("LI");t.firstChild;)s.appendChild(t.firstChild);for(var c=[s],h=0;h<c.length;++h)i(c[h]);e===(0|e)&&c[0].setAttribute("value",e);var u=r.createElement("OL");u.className="linenums";for(var d=Math.max(0,e-1|0)||0,h=0,p=c.length;p>h;++h)s=c[h],s.className="L"+(h+d)%10,s.firstChild||s.appendChild(r.createTextNode(" ")),u.appendChild(s);t.appendChild(u)}function a(t,e){for(var i=e.length;--i>=0;){var n=e[i];b.hasOwnProperty(n)?window.console&&console.warn("cannot override language handler %s",n):b[n]=t}}function r(t,e){return t&&b.hasOwnProperty(t)||(t=/^\s*</.test(e)?"default-markup":"default-code"),b[t]}function l(t){var i=t.g;try{var n=e(t.h),s=n.a;t.a=s,t.c=n.c,t.d=0,r(i,s)(t);var o=/\bMSIE\b/.test(navigator.userAgent),i=/\n/g,a=t.a,l=a.length,n=0,c=t.c,h=c.length,s=0,u=t.e,d=u.length,t=0;u[d]=l;var p,f;for(f=p=0;d>f;)u[f]!==u[f+2]?(u[p++]=u[f++],u[p++]=u[f++]):f+=2;for(d=p,f=p=0;d>f;){for(var m=u[f],g=u[f+1],v=f+2;d>=v+2&&u[v+1]===g;)v+=2;u[p++]=m,u[p++]=g,f=v}for(u.length=p;h>s;){var y,b=c[s+2]||l,_=u[t+2]||l,v=Math.min(b,_),w=c[s+1];if(1!==w.nodeType&&(y=a.substring(n,v))){o&&(y=y.replace(i,"\r")),w.nodeValue=y;var x=w.ownerDocument,k=x.createElement("SPAN");k.className=u[t+1];var C=w.parentNode;C.replaceChild(k,w),k.appendChild(w),b>n&&(c[s+1]=w=x.createTextNode(a.substring(v,b)),C.insertBefore(w,k.nextSibling))}n=v,n>=b&&(s+=2),n>=_&&(t+=2)}}catch(T){"console"in window&&console.log(T&&T.stack?T.stack:T)}}var c=["break,continue,do,else,for,if,return,while"],h=[[c,"auto,case,char,const,default,double,enum,extern,float,goto,int,long,register,short,signed,sizeof,static,struct,switch,typedef,union,unsigned,void,volatile"],"catch,class,delete,false,import,new,operator,private,protected,public,this,throw,true,try,typeof"],u=[h,"alignof,align_union,asm,axiom,bool,concept,concept_map,const_cast,constexpr,decltype,dynamic_cast,explicit,export,friend,inline,late_check,mutable,namespace,nullptr,reinterpret_cast,static_assert,static_cast,template,typeid,typename,using,virtual,where"],d=[h,"abstract,boolean,byte,extends,final,finally,implements,import,instanceof,null,native,package,strictfp,super,synchronized,throws,transient"],p=[d,"as,base,by,checked,decimal,delegate,descending,dynamic,event,fixed,foreach,from,group,implicit,in,interface,internal,into,is,lock,object,out,override,orderby,params,partial,readonly,ref,sbyte,sealed,stackalloc,string,select,uint,ulong,unchecked,unsafe,ushort,var"],h=[h,"debugger,eval,export,function,get,null,set,undefined,var,with,Infinity,NaN"],f=[c,"and,as,assert,class,def,del,elif,except,exec,finally,from,global,import,in,is,lambda,nonlocal,not,or,pass,print,raise,try,with,yield,False,True,None"],m=[c,"alias,and,begin,case,class,def,defined,elsif,end,ensure,false,in,module,next,nil,not,or,redo,rescue,retry,self,super,then,true,undef,unless,until,when,yield,BEGIN,END"],c=[c,"case,done,elif,esac,eval,fi,function,in,local,set,then,until"],g=/^(DIR|FILE|vector|(de|priority_)?queue|list|stack|(const_)?iterator|(multi)?(set|map)|bitset|u?(int|float)\d*)/,v=/\S/,y=s({keywords:[u,p,h,"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END"+f,m,c],hashComments:!0,cStyleComments:!0,multiLineStrings:!0,regexLiterals:!0}),b={};a(y,["default-code"]),a(n([],[["pln",/^[^<?]+/],["dec",/^<!\w[^>]*(?:>|$)/],["com",/^<\!--[\S\s]*?(?:--\>|$)/],["lang-",/^<\?([\S\s]+?)(?:\?>|$)/],["lang-",/^<%([\S\s]+?)(?:%>|$)/],["pun",/^(?:<[%?]|[%?]>)/],["lang-",/^<xmp\b[^>]*>([\S\s]+?)<\/xmp\b[^>]*>/i],["lang-js",/^<script\b[^>]*>([\S\s]*?)(<\/script\b[^>]*>)/i],["lang-css",/^<style\b[^>]*>([\S\s]*?)(<\/style\b[^>]*>)/i],["lang-in.tag",/^(<\/?[a-z][^<>]*>)/i]]),["default-markup","htm","html","mxml","xhtml","xml","xsl"]),a(n([["pln",/^\s+/,q," 	\r\n"],["atv",/^(?:"[^"]*"?|'[^']*'?)/,q,"\"'"]],[["tag",/^^<\/?[a-z](?:[\w-.:]*\w)?|\/?>$/i],["atn",/^(?!style[\s=]|on)[a-z](?:[\w:-]*\w)?/i],["lang-uq.val",/^=\s*([^\s"'>]*(?:[^\s"'/>]|\/(?=\s)))/],["pun",/^[/<->]+/],["lang-js",/^on\w+\s*=\s*"([^"]+)"/i],["lang-js",/^on\w+\s*=\s*'([^']+)'/i],["lang-js",/^on\w+\s*=\s*([^\s"'>]+)/i],["lang-css",/^style\s*=\s*"([^"]+)"/i],["lang-css",/^style\s*=\s*'([^']+)'/i],["lang-css",/^style\s*=\s*([^\s"'>]+)/i]]),["in.tag"]),a(n([],[["atv",/^[\S\s]+/]]),["uq.val"]),a(s({keywords:u,hashComments:!0,cStyleComments:!0,types:g}),["c","cc","cpp","cxx","cyc","m"]),a(s({keywords:"null,true,false"}),["json"]),a(s({keywords:p,hashComments:!0,cStyleComments:!0,verbatimStrings:!0,types:g}),["cs"]),a(s({keywords:d,cStyleComments:!0}),["java"]),a(s({keywords:c,hashComments:!0,multiLineStrings:!0}),["bsh","csh","sh"]),a(s({keywords:f,hashComments:!0,multiLineStrings:!0,tripleQuotedStrings:!0}),["cv","py"]),a(s({keywords:"caller,delete,die,do,dump,elsif,eval,exit,foreach,for,goto,if,import,last,local,my,next,no,our,print,package,redo,require,sub,undef,unless,until,use,wantarray,while,BEGIN,END",hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["perl","pl","pm"]),a(s({keywords:m,hashComments:!0,multiLineStrings:!0,regexLiterals:!0}),["rb"]),a(s({keywords:h,cStyleComments:!0,regexLiterals:!0}),["js"]),a(s({keywords:"all,and,by,catch,class,else,extends,false,finally,for,if,in,is,isnt,loop,new,no,not,null,of,off,on,or,return,super,then,true,try,unless,until,when,while,yes",hashComments:3,cStyleComments:!0,multilineStrings:!0,tripleQuotedStrings:!0,regexLiterals:!0}),["coffee"]),a(n([],[["str",/^[\S\s]+/]]),["regex"]),window.prettyPrintOne=function(t,e,i){var n=document.createElement("PRE");return n.innerHTML=t,i&&o(n,i),l({g:e,i:i,h:n}),n.innerHTML},window.prettyPrint=function(t){function e(){for(var i=window.PR_SHOULD_USE_CONTINUATION?c.now()+250:1/0;u<n.length&&c.now()<i;u++){var s=n[u],a=s.className;if(a.indexOf("prettyprint")>=0){var r,p,a=a.match(d);if(p=!a){p=s;for(var f=void 0,m=p.firstChild;m;m=m.nextSibling)var g=m.nodeType,f=1===g?f?p:m:3===g&&v.test(m.nodeValue)?p:f;p=(r=f===p?void 0:f)&&"CODE"===r.tagName}for(p&&(a=r.className.match(d)),a&&(a=a[1]),p=!1,f=s.parentNode;f;f=f.parentNode)if(("pre"===f.tagName||"code"===f.tagName||"xmp"===f.tagName)&&f.className&&f.className.indexOf("prettyprint")>=0){p=!0;break}p||((p=(p=s.className.match(/\blinenums\b(?::(\d+))?/))?p[1]&&p[1].length?+p[1]:!0:!1)&&o(s,p),h={g:a,h:s,i:p},l(h))}}u<n.length?setTimeout(e,250):t&&t()}for(var i=[document.getElementsByTagName("pre"),document.getElementsByTagName("code"),document.getElementsByTagName("xmp")],n=[],s=0;s<i.length;++s)for(var a=0,r=i[s].length;r>a;++a)n.push(i[s][a]);var i=q,c=Date;c.now||(c={now:function(){return+new Date}});var h,u=0,d=/\blang(?:uage)?-([\w.]+)(?!\S)/;e()},window.PR={createSimpleLexer:n,registerLangHandler:a,sourceDecorator:s,PR_ATTRIB_NAME:"atn",PR_ATTRIB_VALUE:"atv",PR_COMMENT:"com",PR_DECLARATION:"dec",PR_KEYWORD:"kwd",PR_LITERAL:"lit",PR_NOCODE:"nocode",PR_PLAIN:"pln",PR_PUNCTUATION:"pun",PR_SOURCE:"src",PR_STRING:"str",PR_TAG:"tag",PR_TYPE:"typ"}}(),function(t,e){t(function(){window.prettyPrint&&(t(".showcase").each(function(){var e,i,n,s,o=t(s||this);o.data("showcaseImport")&&(o=t(o.data("showcaseImport")),s=o.get(0)),i=(s||this).nodeName.toLowerCase(),n="script"==i?"js":"style"==i?"css":"html",e="html"==n?t("<div></div>").append(o.clone()).html():o.text(),t('<pre class="prettyprint lang-'+n+'"></pre>').text(e).insertBefore(this),s&&t(this).remove()}),prettyPrint())})}(jQuery),function(t,e){function i(t){for(var e,i=t.split(/\s+/),n=[],s=0;e=i[s];s++)e=e[0].toUpperCase(),n.push(e);return n}function n(e){return e.id&&t('label[for="'+e.id+'"]').val()||e.name}function s(i,o,a){return a||(a=0),o.each(function(){var o,r,l=t(this),c=this,h=this.nodeName.toLowerCase();switch("label"==h&&l.find("input, textarea, select").length&&(o=l.text(),l=l.children().first(),c=l.get(0),h=c.nodeName.toLowerCase()),h){case"menu":r={name:l.attr("label"),items:{}},a=s(r.items,l.children(),a);break;case"a":case"button":r={name:l.text(),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"menuitem":case"command":switch(l.attr("type")){case e:case"command":case"menuitem":r={name:l.attr("label"),disabled:!!l.attr("disabled"),callback:function(){return function(){l.click()}}()};break;case"checkbox":r={type:"checkbox",disabled:!!l.attr("disabled"),name:l.attr("label"),selected:!!l.attr("checked")};break;case"radio":r={type:"radio",disabled:!!l.attr("disabled"),name:l.attr("label"),radio:l.attr("radiogroup"),value:l.attr("id"),selected:!!l.attr("checked")};break;default:r=e}break;case"hr":r="-------";break;case"input":switch(l.attr("type")){case"text":r={type:"text",name:o||n(c),disabled:!!l.attr("disabled"),value:l.val()};break;case"checkbox":r={type:"checkbox",name:o||n(c),disabled:!!l.attr("disabled"),selected:!!l.attr("checked")};break;case"radio":r={type:"radio",name:o||n(c),disabled:!!l.attr("disabled"),radio:!!l.attr("name"),value:l.val(),selected:!!l.attr("checked")};break;default:r=e}break;case"select":r={type:"select",name:o||n(c),disabled:!!l.attr("disabled"),selected:l.val(),options:{}},l.children().each(function(){r.options[this.value]=t(this).text();
});break;case"textarea":r={type:"textarea",name:o||n(c),disabled:!!l.attr("disabled"),value:l.val()};break;case"label":break;default:r={type:"html",html:l.clone(!0)}}r&&(a++,i["key"+a]=r)}),a}if(t.support.htmlMenuitem="HTMLMenuItemElement"in window,t.support.htmlCommand="HTMLCommandElement"in window,t.support.eventSelectstart="onselectstart"in document.documentElement,!t.ui||!t.ui.widget){var o=t.cleanData;t.cleanData=function(e){for(var i,n=0;null!=(i=e[n]);n++)try{t(i).triggerHandler("remove")}catch(s){}o(e)}}var a=null,r=!1,l=t(window),c=0,h={},u={},d={},p={selector:null,appendTo:null,trigger:"right",autoHide:!1,delay:200,reposition:!0,determinePosition:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"center top",at:"center bottom",of:this,offset:"0 5",collision:"fit"}).css("display","none");else{var i=this.offset();i.top+=this.outerHeight(),i.left+=this.outerWidth()/2-e.outerWidth()/2,e.css(i)}},position:function(t,e,i){var n;if(!e&&!i)return void t.determinePosition.call(this,t.$menu);n="maintain"===e&&"maintain"===i?t.$menu.position():{top:i,left:e};var s=l.scrollTop()+l.height(),o=l.scrollLeft()+l.width(),a=t.$menu.height(),r=t.$menu.width();n.top+a>s&&(n.top-=a),n.left+r>o&&(n.left-=r),t.$menu.css(n)},positionSubmenu:function(e){if(t.ui&&t.ui.position)e.css("display","block").position({my:"left top",at:"right top",of:this,collision:"flipfit fit"}).css("display","");else{var i={top:0,left:this.outerWidth()};e.css(i)}},zIndex:1,animation:{duration:50,show:"slideDown",hide:"slideUp"},events:{show:t.noop,hide:t.noop},callback:null,items:{}},f={timer:null,pageX:null,pageY:null},m=function(t){for(var e=0,i=t;;)if(e=Math.max(e,parseInt(i.css("z-index"),10)||0),i=i.parent(),!i||!i.length||"html body".indexOf(i.prop("nodeName").toLowerCase())>-1)break;return e},g={abortevent:function(t){t.preventDefault(),t.stopImmediatePropagation()},contextmenu:function(e){var i=t(this);if(e.preventDefault(),e.stopImmediatePropagation(),!("right"!=e.data.trigger&&e.originalEvent||i.hasClass("context-menu-active")||i.hasClass("context-menu-disabled"))){if(a=i,e.data.build){var n=e.data.build(a,e);if(n===!1)return;if(e.data=t.extend(!0,{},p,e.data,n||{}),!e.data.items||t.isEmptyObject(e.data.items))throw window.console&&(console.error||console.log)("No items specified to show in contextMenu"),new Error("No Items sepcified");e.data.$trigger=a,v.create(e.data)}v.show.call(i,e.data,e.pageX,e.pageY)}},click:function(e){e.preventDefault(),e.stopImmediatePropagation(),t(this).trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))},mousedown:function(e){var i=t(this);a&&a.length&&!a.is(i)&&a.data("contextMenu").$menu.trigger("contextmenu:hide"),2==e.button&&(a=i.data("contextMenuActive",!0))},mouseup:function(e){var i=t(this);i.data("contextMenuActive")&&a&&a.length&&a.is(i)&&!i.hasClass("context-menu-disabled")&&(e.preventDefault(),e.stopImmediatePropagation(),a=i,i.trigger(t.Event("contextmenu",{data:e.data,pageX:e.pageX,pageY:e.pageY}))),i.removeData("contextMenuActive")},mouseenter:function(e){var i=t(this),n=t(e.relatedTarget),s=t(document);n.is(".context-menu-list")||n.closest(".context-menu-list").length||a&&a.length||(f.pageX=e.pageX,f.pageY=e.pageY,f.data=e.data,s.on("mousemove.contextMenuShow",g.mousemove),f.timer=setTimeout(function(){f.timer=null,s.off("mousemove.contextMenuShow"),a=i,i.trigger(t.Event("contextmenu",{data:f.data,pageX:f.pageX,pageY:f.pageY}))},e.data.delay))},mousemove:function(t){f.pageX=t.pageX,f.pageY=t.pageY},mouseleave:function(e){var i=t(e.relatedTarget);if(!i.is(".context-menu-list")&&!i.closest(".context-menu-list").length){try{clearTimeout(f.timer)}catch(e){}f.timer=null}},layerClick:function(e){var i,n,s=t(this),o=s.data("contextMenuRoot"),a=e.button,r=e.pageX,c=e.pageY;e.preventDefault(),e.stopImmediatePropagation(),setTimeout(function(){var s,h="left"==o.trigger&&0===a||"right"==o.trigger&&2===a;if(document.elementFromPoint&&(o.$layer.hide(),i=document.elementFromPoint(r-l.scrollLeft(),c-l.scrollTop()),o.$layer.show()),o.reposition&&h)if(document.elementFromPoint){if(o.$trigger.is(i)||o.$trigger.has(i).length)return void o.position.call(o.$trigger,o,r,c)}else if(n=o.$trigger.offset(),s=t(window),n.top+=s.scrollTop(),n.top<=e.pageY&&(n.left+=s.scrollLeft(),n.left<=e.pageX&&(n.bottom=n.top+o.$trigger.outerHeight(),n.bottom>=e.pageY&&(n.right=n.left+o.$trigger.outerWidth(),n.right>=e.pageX))))return void o.position.call(o.$trigger,o,r,c);i&&h&&o.$trigger.one("contextmenu:hidden",function(){t(i).contextMenu({x:r,y:c})}),o.$menu.trigger("contextmenu:hide")},50)},keyStop:function(t,e){e.isInput||t.preventDefault(),t.stopPropagation()},key:function(t){var e=a.data("contextMenu")||{};switch(t.keyCode){case 9:case 38:if(g.keyStop(t,e),e.isInput){if(9==t.keyCode&&t.shiftKey)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void e.$menu.trigger("prevcommand");if(38==t.keyCode&&"checkbox"==e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault()}else if(9!=t.keyCode||t.shiftKey)return void e.$menu.trigger("prevcommand");case 40:if(g.keyStop(t,e),!e.isInput)return void e.$menu.trigger("nextcommand");if(9==t.keyCode)return t.preventDefault(),e.$selected&&e.$selected.find("input, textarea, select").blur(),void e.$menu.trigger("nextcommand");if(40==t.keyCode&&"checkbox"==e.$selected.find("input, textarea, select").prop("type"))return void t.preventDefault();break;case 37:if(g.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;if(!e.$selected.parent().hasClass("context-menu-root")){var i=e.$selected.parent().parent();return e.$selected.trigger("contextmenu:blur"),void(e.$selected=i)}break;case 39:if(g.keyStop(t,e),e.isInput||!e.$selected||!e.$selected.length)break;var n=e.$selected.data("contextMenu")||{};if(n.$menu&&e.$selected.hasClass("context-menu-submenu"))return e.$selected=null,n.$selected=null,void n.$menu.trigger("nextcommand");break;case 35:case 36:return e.$selected&&e.$selected.find("input, textarea, select").length?void 0:((e.$selected&&e.$selected.parent()||e.$menu).children(":not(.disabled, .not-selectable)")[36==t.keyCode?"first":"last"]().trigger("contextmenu:focus"),void t.preventDefault());case 13:if(g.keyStop(t,e),e.isInput){if(e.$selected&&!e.$selected.is("textarea, select"))return void t.preventDefault();break}return void(e.$selected&&e.$selected.trigger("mouseup"));case 32:case 33:case 34:return void g.keyStop(t,e);case 27:return g.keyStop(t,e),void e.$menu.trigger("contextmenu:hide");default:var s=String.fromCharCode(t.keyCode).toUpperCase();if(e.accesskeys[s])return void e.accesskeys[s].$node.trigger(e.accesskeys[s].$menu?"contextmenu:focus":"mouseup")}t.stopPropagation(),e.$selected&&e.$selected.trigger(t)},prevItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=n}for(var s=i.$menu.children(),o=i.$selected&&i.$selected.prev().length?i.$selected.prev():s.last(),a=o;o.hasClass("disabled")||o.hasClass("not-selectable");)if(o=o.prev().length?o.prev():s.last(),o.is(a))return;i.$selected&&g.itemMouseleave.call(i.$selected.get(0),e),g.itemMouseenter.call(o.get(0),e);var r=o.find("input, textarea, select");r.length&&r.focus()},nextItem:function(e){e.stopPropagation();var i=t(this).data("contextMenu")||{};if(i.$selected){var n=i.$selected;i=i.$selected.parent().data("contextMenu")||{},i.$selected=n}for(var s=i.$menu.children(),o=i.$selected&&i.$selected.next().length?i.$selected.next():s.first(),a=o;o.hasClass("disabled")||o.hasClass("not-selectable");)if(o=o.next().length?o.next():s.first(),o.is(a))return;i.$selected&&g.itemMouseleave.call(i.$selected.get(0),e),g.itemMouseenter.call(o.get(0),e);var r=o.find("input, textarea, select");r.length&&r.focus()},focusInput:function(e){var i=t(this).closest(".context-menu-item"),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;o.$selected=s.$selected=i,o.isInput=s.isInput=!0},blurInput:function(e){var i=t(this).closest(".context-menu-item"),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;o.isInput=s.isInput=!1},menuMouseenter:function(e){var i=t(this).data().contextMenuRoot;i.hovering=!0},menuMouseleave:function(e){var i=t(this).data().contextMenuRoot;i.$layer&&i.$layer.is(e.relatedTarget)&&(i.hovering=!1)},itemMouseenter:function(e){var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;return o.hovering=!0,e&&o.$layer&&o.$layer.is(e.relatedTarget)&&(e.preventDefault(),e.stopImmediatePropagation()),(s.$menu?s:o).$menu.children(".hover").trigger("contextmenu:blur"),i.hasClass("disabled")||i.hasClass("not-selectable")?void(s.$selected=null):void i.trigger("contextmenu:focus")},itemMouseleave:function(e){var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;return o!==s&&o.$layer&&o.$layer.is(e.relatedTarget)?(o.$selected&&o.$selected.trigger("contextmenu:blur"),e.preventDefault(),e.stopImmediatePropagation(),void(o.$selected=s.$selected=s.$node)):void i.trigger("contextmenu:blur")},itemClick:function(e){var i,n=t(this),s=n.data(),o=s.contextMenu,a=s.contextMenuRoot,r=s.contextMenuKey;if(o.items[r]&&!n.is(".disabled, .context-menu-submenu, .context-menu-separator, .not-selectable")){if(e.preventDefault(),e.stopImmediatePropagation(),t.isFunction(a.callbacks[r])&&Object.prototype.hasOwnProperty.call(a.callbacks,r))i=a.callbacks[r];else{if(!t.isFunction(a.callback))return;i=a.callback}i.call(a.$trigger,r,a)!==!1?a.$menu.trigger("contextmenu:hide"):a.$menu.parent().length&&v.update.call(a.$trigger,a)}},inputClick:function(t){t.stopImmediatePropagation()},hideMenu:function(e,i){var n=t(this).data("contextMenuRoot");v.hide.call(n.$trigger,n,i&&i.force)},focusItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),s=n.contextMenu,o=n.contextMenuRoot;i.addClass("hover").siblings(".hover").trigger("contextmenu:blur"),s.$selected=o.$selected=i,s.$node&&o.positionSubmenu.call(s.$node,s.$menu)},blurItem:function(e){e.stopPropagation();var i=t(this),n=i.data(),s=n.contextMenu;n.contextMenuRoot;i.removeClass("hover"),s.$selected=null}},v={show:function(e,i,n){var s=t(this),o={};return t("#context-menu-layer").trigger("mousedown"),e.$trigger=s,e.events.show.call(s,e)===!1?void(a=null):(v.update.call(s,e),e.position.call(s,e,i,n),e.zIndex&&(o.zIndex=m(s)+e.zIndex),v.layer.call(e.$menu,e,o.zIndex),e.$menu.find("ul").css("zIndex",o.zIndex+1),e.$menu.css(o)[e.animation.show](e.animation.duration,function(){s.trigger("contextmenu:visible")}),s.data("contextMenu",e).addClass("context-menu-active"),t(document).off("keydown.contextMenu").on("keydown.contextMenu",g.key),void(e.autoHide&&t(document).on("mousemove.contextMenuAutoHide",function(t){var i=s.offset();i.right=i.left+s.outerWidth(),i.bottom=i.top+s.outerHeight(),!e.$layer||e.hovering||t.pageX>=i.left&&t.pageX<=i.right&&t.pageY>=i.top&&t.pageY<=i.bottom||e.$menu.trigger("contextmenu:hide")})))},hide:function(i,n){var s=t(this);if(i||(i=s.data("contextMenu")||{}),n||!i.events||i.events.hide.call(s,i)!==!1){if(s.removeData("contextMenu").removeClass("context-menu-active"),i.$layer){setTimeout(function(t){return function(){t.remove()}}(i.$layer),10);try{delete i.$layer}catch(o){i.$layer=null}}a=null,i.$menu.find(".hover").trigger("contextmenu:blur"),i.$selected=null,t(document).off(".contextMenuAutoHide").off("keydown.contextMenu"),i.$menu&&i.$menu[i.animation.hide](i.animation.duration,function(){i.build&&(i.$menu.remove(),t.each(i,function(t,n){switch(t){case"ns":case"selector":case"build":case"trigger":return!0;default:i[t]=e;try{delete i[t]}catch(s){}return!0}})),setTimeout(function(){s.trigger("contextmenu:hidden")},10)})}},create:function(n,s){s===e&&(s=n),n.$menu=t('<ul class="context-menu-list"></ul>').addClass(n.className||"").data({contextMenu:n,contextMenuRoot:s}),t.each(["callbacks","commands","inputs"],function(t,e){n[e]={},s[e]||(s[e]={})}),s.accesskeys||(s.accesskeys={}),t.each(n.items,function(e,o){var a=t('<li class="context-menu-item"></li>').addClass(o.className||""),r=null,l=null;if(a.on("click",t.noop),o.$node=a.data({contextMenu:n,contextMenuRoot:s,contextMenuKey:e}),o.accesskey)for(var c,h=i(o.accesskey),u=0;c=h[u];u++)if(!s.accesskeys[c]){s.accesskeys[c]=o,o._name=o.name.replace(new RegExp("("+c+")","i"),'<span class="context-menu-accesskey">$1</span>');break}if("string"==typeof o)a.addClass("context-menu-separator not-selectable");else if(o.type&&d[o.type])d[o.type].call(a,o,n,s),t.each([n,s],function(i,n){n.commands[e]=o,t.isFunction(o.callback)&&(n.callbacks[e]=o.callback)});else{switch("html"==o.type?a.addClass("context-menu-html not-selectable"):o.type?(r=t("<label></label>").appendTo(a),t("<span></span>").html(o._name||o.name).appendTo(r),a.addClass("context-menu-input"),n.hasTypes=!0,t.each([n,s],function(t,i){i.commands[e]=o,i.inputs[e]=o})):o.items&&(o.type="sub"),o.type){case"text":l=t('<input type="text" value="1" name="" value="">').attr("name","context-menu-input-"+e).val(o.value||"").appendTo(r);break;case"textarea":l=t('<textarea name=""></textarea>').attr("name","context-menu-input-"+e).val(o.value||"").appendTo(r),o.height&&l.height(o.height);break;case"checkbox":l=t('<input type="checkbox" value="1" name="" value="">').attr("name","context-menu-input-"+e).val(o.value||"").prop("checked",!!o.selected).prependTo(r);break;case"radio":l=t('<input type="radio" value="1" name="" value="">').attr("name","context-menu-input-"+o.radio).val(o.value||"").prop("checked",!!o.selected).prependTo(r);break;case"select":l=t('<select name="">').attr("name","context-menu-input-"+e).appendTo(r),o.options&&(t.each(o.options,function(e,i){t("<option></option>").val(e).text(i).appendTo(l)}),l.val(o.selected));break;case"sub":t("<span></span>").html(o._name||o.name).appendTo(a),o.appendTo=o.$node,v.create(o,s),a.data("contextMenu",o).addClass("context-menu-submenu"),o.callback=null;break;case"html":t(o.html).appendTo(a);break;default:t.each([n,s],function(i,n){n.commands[e]=o,t.isFunction(o.callback)&&(n.callbacks[e]=o.callback)}),t("<span></span>").html(o._name||o.name||"").appendTo(a)}o.type&&"sub"!=o.type&&"html"!=o.type&&(l.on("focus",g.focusInput).on("blur",g.blurInput),o.events&&l.on(o.events,n)),o.icon&&a.addClass("icon icon-"+o.icon)}o.$input=l,o.$label=r,a.appendTo(n.$menu),!n.hasTypes&&t.support.eventSelectstart&&a.on("selectstart.disableTextSelect",g.abortevent)}),n.$node||n.$menu.css("display","none").addClass("context-menu-root"),n.$menu.appendTo(n.appendTo||document.body)},resize:function(e,i){e.css({position:"absolute",display:"block"}),e.data("width",Math.ceil(e.width())+1),e.css({position:"static",minWidth:"0px",maxWidth:"100000px"}),e.find("> li > ul").each(function(){v.resize(t(this),!0)}),i||e.find("ul").andSelf().css({position:"",display:"",minWidth:"",maxWidth:""}).width(function(){return t(this).data("width")})},update:function(i,n){var s=this;n===e&&(n=i,v.resize(i.$menu)),i.$menu.children().each(function(){var e=t(this),o=e.data("contextMenuKey"),a=i.items[o],r=t.isFunction(a.disabled)&&a.disabled.call(s,o,n)||a.disabled===!0;if(e[r?"addClass":"removeClass"]("disabled"),a.type)switch(e.find("input, select, textarea").prop("disabled",r),a.type){case"text":case"textarea":a.$input.val(a.value||"");break;case"checkbox":case"radio":a.$input.val(a.value||"").prop("checked",!!a.selected);break;case"select":a.$input.val(a.selected||"")}a.$menu&&v.update.call(s,a,n)})},layer:function(e,i){var n=e.$layer=t('<div id="context-menu-layer" style="position:fixed; z-index:'+i+'; top:0; left:0; opacity: 0; filter: alpha(opacity=0); background-color: #000;"></div>').css({height:l.height(),width:l.width(),display:"block"}).data("contextMenuRoot",e).insertBefore(this).on("contextmenu",g.abortevent).on("mousedown",g.layerClick);return t.support.fixedPosition||n.css({position:"absolute",height:t(document).height()}),n}};t.fn.contextMenu=function(i){if(i===e)this.first().trigger("contextmenu");else if(i.x&&i.y)this.first().trigger(t.Event("contextmenu",{pageX:i.x,pageY:i.y}));else if("hide"===i){var n=this.data("contextMenu").$menu;n&&n.trigger("contextmenu:hide")}else"destroy"===i?t.contextMenu("destroy",{context:this}):t.isPlainObject(i)?(i.context=this,t.contextMenu("create",i)):i?this.removeClass("context-menu-disabled"):i||this.addClass("context-menu-disabled");return this},t.contextMenu=function(i,n){"string"!=typeof i&&(n=i,i="create"),"string"==typeof n?n={selector:n}:n===e&&(n={});var s=t.extend(!0,{},p,n||{}),o=t(document),a=o,l=!1;switch(s.context&&s.context.length?(a=t(s.context).first(),s.context=a.get(0),l=s.context!==document):s.context=document,i){case"create":if(!s.selector)throw new Error("No selector specified");if(s.selector.match(/.context-menu-(list|item|input)($|\s)/))throw new Error('Cannot bind to selector "'+s.selector+'" as it contains a reserved className');if(!s.build&&(!s.items||t.isEmptyObject(s.items)))throw new Error("No Items sepcified");switch(c++,s.ns=".contextMenu"+c,l||(h[s.selector]=s.ns),u[s.ns]=s,s.trigger||(s.trigger="right"),r||(o.on({"contextmenu:hide.contextMenu":g.hideMenu,"prevcommand.contextMenu":g.prevItem,"nextcommand.contextMenu":g.nextItem,"contextmenu.contextMenu":g.abortevent,"mouseenter.contextMenu":g.menuMouseenter,"mouseleave.contextMenu":g.menuMouseleave},".context-menu-list").on("mouseup.contextMenu",".context-menu-input",g.inputClick).on({"mouseup.contextMenu":g.itemClick,"contextmenu:focus.contextMenu":g.focusItem,"contextmenu:blur.contextMenu":g.blurItem,"contextmenu.contextMenu":g.abortevent,"mouseenter.contextMenu":g.itemMouseenter,"mouseleave.contextMenu":g.itemMouseleave},".context-menu-item"),r=!0),a.on("contextmenu"+s.ns,s.selector,s,g.contextmenu),l&&a.on("remove"+s.ns,function(){t(this).contextMenu("destroy")}),s.trigger){case"hover":a.on("mouseenter"+s.ns,s.selector,s,g.mouseenter).on("mouseleave"+s.ns,s.selector,s,g.mouseleave);break;case"left":a.on("click"+s.ns,s.selector,s,g.click)}s.build||v.create(s);break;case"destroy":var d;if(l){var f=s.context;t.each(u,function(e,i){if(i.context!==f)return!0;d=t(".context-menu-list").filter(":visible"),d.length&&d.data().contextMenuRoot.$trigger.is(t(i.context).find(i.selector))&&d.trigger("contextmenu:hide",{force:!0});try{u[i.ns].$menu&&u[i.ns].$menu.remove(),delete u[i.ns]}catch(n){u[i.ns]=null}return t(i.context).off(i.ns),!0})}else if(s.selector){if(h[s.selector]){d=t(".context-menu-list").filter(":visible"),d.length&&d.data().contextMenuRoot.$trigger.is(s.selector)&&d.trigger("contextmenu:hide",{force:!0});try{u[h[s.selector]].$menu&&u[h[s.selector]].$menu.remove(),delete u[h[s.selector]]}catch(m){u[h[s.selector]]=null}o.off(h[s.selector])}}else o.off(".contextMenu .contextMenuAutoHide"),t.each(u,function(e,i){t(i.context).off(i.ns)}),h={},u={},c=0,r=!1,t("#context-menu-layer, .context-menu-list").remove();break;case"html5":(!t.support.htmlCommand&&!t.support.htmlMenuitem||"boolean"==typeof n&&n)&&t('menu[type="context"]').each(function(){this.id&&t.contextMenu({selector:"[contextmenu="+this.id+"]",items:t.contextMenu.fromMenu(this)})}).css("display","none");break;default:throw new Error('Unknown operation "'+i+'"')}return this},t.contextMenu.setInputValues=function(i,n){n===e&&(n={}),t.each(i.inputs,function(t,e){switch(e.type){case"text":case"textarea":e.value=n[t]||"";break;case"checkbox":e.selected=!!n[t];break;case"radio":e.selected=(n[e.radio]||"")==e.value;break;case"select":e.selected=n[t]||""}})},t.contextMenu.getInputValues=function(i,n){return n===e&&(n={}),t.each(i.inputs,function(t,e){switch(e.type){case"text":case"textarea":case"select":n[t]=e.$input.val();break;case"checkbox":n[t]=e.$input.prop("checked");break;case"radio":e.$input.prop("checked")&&(n[e.radio]=e.value)}}),n},t.contextMenu.fromMenu=function(e){var i=t(e),n={};return s(n,i.children()),n},t.contextMenu.defaults=p,t.contextMenu.types=d,t.contextMenu.handle=g,t.contextMenu.op=v,t.contextMenu.menus=u}(jQuery),!function(){"use strict";function t(t,e,i){"addEventListener"in window?t.addEventListener(e,i,!1):"attachEvent"in window&&t.attachEvent("on"+e,i)}function e(){var t,e=["moz","webkit","o","ms"];for(t=0;t<e.length&&!x;t+=1)x=window[e[t]+"RequestAnimationFrame"];x||i(" RequestAnimationFrame not supported")}function i(t){C.log&&"object"==typeof console&&console.log(y+"[Host page"+_+"]"+t)}function n(t){function e(){function t(){r(x),o(),C.resizedCallback(x)}l(t,x,"resetPage")}function n(t){var e=t.id;i(" Removing iFrame: "+e),t.parentNode.removeChild(t),C.closedCallback(e),i(" --")}function s(){var t=w.substr(b).split(":");return{iframe:document.getElementById(t[0]),id:t[0],height:t[1],width:t[2],type:t[3]}}function c(t){var e=Number(C["max"+t]),n=Number(C["min"+t]),s=t.toLowerCase(),o=Number(x[s]);if(n>e)throw new Error("Value for min"+t+" can not be greater than max"+t);i(" Checking "+s+" is in range "+n+"-"+e),n>o&&(o=n,i(" Set "+s+" to min value")),o>e&&(o=e,i(" Set "+s+" to max value")),x[s]=""+o}function h(){var e=t.origin,n=x.iframe.src.split("/").slice(0,3).join("/");if(C.checkOrigin&&(i(" Checking connection is from: "+n),""+e!="null"&&e!==n))throw new Error("Unexpected message received from: "+e+" for "+x.iframe.id+". Message was: "+t.data+". This error can be disabled by adding the checkOrigin: false option.");return!0}function u(){return y===(""+w).substr(0,b)}function d(){var t=x.type in{"true":1,"false":1};return t&&i(" Ignoring init message from meta parent page"),t}function p(){var t=w.substr(w.indexOf(":")+v+6);i(" MessageCallback passed: {iframe: "+x.iframe.id+", message: "+t+"}"),C.messageCallback({iframe:x.iframe,message:t}),i(" --")}function f(){if(null===x.iframe)throw new Error("iFrame ("+x.id+") does not exist on "+_);return!0}function g(){switch(x.type){case"close":n(x.iframe),C.resizedCallback(x);break;case"message":p();break;case"reset":a(x);break;case"init":e(),C.initCallback(x.iframe);break;default:e()}}var w=t.data,x={};u()&&(i(" Received: "+w),x=s(),c("Height"),c("Width"),!d()&&f()&&h()&&(g(),m=!1))}function s(){null===w&&(w={x:void 0!==window.pageXOffset?window.pageXOffset:document.documentElement.scrollLeft,y:void 0!==window.pageYOffset?window.pageYOffset:document.documentElement.scrollTop},i(" Get position: "+w.x+","+w.y))}function o(){null!==w&&(window.scrollTo(w.x,w.y),i(" Set position: "+w.x+","+w.y),w=null)}function a(t){function e(){r(t),c("reset","reset",t.iframe)}i(" Size reset requested by "+("init"===t.type?"host page":"iFrame")),s(),l(e,t,"init")}function r(t){function e(e){t.iframe.style[e]=t[e]+"px",i(" IFrame ("+t.iframe.id+") "+e+" set to "+t[e]+"px")}C.sizeHeight&&e("height"),C.sizeWidth&&e("width")}function l(t,e,n){n!==e.type&&x?(i(" Requesting animation frame"),x(t)):t()}function c(t,e,n){i("["+t+"] Sending msg to iframe ("+e+")"),n.contentWindow.postMessage(y+e,"*")}function h(){function e(){function t(t){1/0!==C[t]&&0!==C[t]&&(h.style[t]=C[t]+"px",i(" Set "+t+" = "+C[t]+"px"))}t("maxHeight"),t("minHeight"),t("maxWidth"),t("minWidth")}function n(t){return""===t&&(h.id=t="iFrameResizer"+f++,i(" Added missing iframe ID: "+t)),t}function s(){i(" IFrame scrolling "+(C.scrolling?"enabled":"disabled")+" for "+u),h.style.overflow=!1===C.scrolling?"hidden":"auto",h.scrolling=!1===C.scrolling?"no":"yes"}function o(){("number"==typeof C.bodyMargin||"0"===C.bodyMargin)&&(C.bodyMarginV1=C.bodyMargin,C.bodyMargin=""+C.bodyMargin+"px")}function r(){return u+":"+C.bodyMarginV1+":"+C.sizeWidth+":"+C.log+":"+C.interval+":"+C.enablePublicMethods+":"+C.autoResize+":"+C.bodyMargin+":"+C.heightCalculationMethod+":"+C.bodyBackground+":"+C.bodyPadding+":"+C.tolerance}function l(e){t(h,"load",function(){var t=m;c("iFrame.onload",e,h),!t&&C.heightCalculationMethod in k&&a({iframe:h,height:0,width:0,type:"init"})}),c("init",e,h)}var h=this,u=n(h.id);s(),e(),o(),l(r())}function u(t){if("object"!=typeof t)throw new TypeError("Options is not an object.")}function d(){function t(t){if("IFRAME"!==t.tagName)throw new TypeError("Expected <IFRAME> tag, found <"+t.tagName+">.");h.call(t)}function e(t){t=t||{},u(t);for(var e in T)T.hasOwnProperty(e)&&(C[e]=t.hasOwnProperty(e)?t[e]:T[e])}return function(i,n){e(i),Array.prototype.forEach.call(document.querySelectorAll(n||"iframe"),t)}}function p(t){t.fn.iFrameResize=function(e){return u(e),C=t.extend({},T,e),this.filter("iframe").each(h).end()}}var f=0,m=!0,g="message",v=g.length,y="[iFrameSizer]",b=y.length,_="",w=null,x=window.requestAnimationFrame,k={max:1,scroll:1,bodyScroll:1,documentElementScroll:1},C={},T={autoResize:!0,bodyBackground:null,bodyMargin:null,bodyMarginV1:8,bodyPadding:null,checkOrigin:!0,enablePublicMethods:!1,heightCalculationMethod:"offset",interval:32,log:!1,maxHeight:1/0,maxWidth:1/0,minHeight:0,minWidth:0,scrolling:!1,sizeHeight:!0,sizeWidth:!1,tolerance:0,closedCallback:function(){},initCallback:function(){},messageCallback:function(){},resizedCallback:function(){}};e(),t(window,"message",n),"jQuery"in window&&p(jQuery),"function"==typeof define&&define.amd?define(function(){return d()}):window.iFrameResize=d()}();var errors_list=[];$(document).ready(function(){$("#files_modal").on("shown",function(){$("#files_modal_input").focus()}),$("#input_modal").on("shown",function(){$("#input_modal_input").focus()}),$("#confirm_modal").on("shown",function(){$("#confirm_no").focus()})});var parts=document.URL.split("/"),server_dns=parts[2],client_id=""+Date.now()+Math.random();console.log("CLIENT_ID",client_id);var server_url="//"+server_dns,webserver=document.referrer.split("/compute")[0],user,subdomain=document.domain.split(".")[0];document.title=subdomain;var main_domain_part=document.domain.split(".").slice(1).join("."),main_domain="www."+main_domain_part;$(document).ready(function(){function t(){var t=$(window).height()-$("#top_bar").outerHeight(),e=Math.max(0,t-30);$("#terminals_dropdown .dropdown-menu").css("max-height",e)}function e(t,e){var i=$(t),n=$("body").hasClass("theme_dark"),s=!1;i.closest(".dropdown").on("show.bs.dropdown",function(){var o=$("body").hasClass("theme_dark");s&&o===n||(s=!0,n=o,i.attr("src",e+(o?"?dark=true":"")),iFrameResize({checkOrigin:!1},t))})}$("#nav_link_resize").click(function(){var t=$(this).parent().find("iframe");t.is(":visible")||t.attr("src",function(t,e){return e})}),$("body").click(function(){"IFRAME"===document.activeElement.tagName&&document.activeElement.blur()}),$(".loading_backdrop").empty().hide(),bind_dropdown_submenus(),compute_settings.hide_top_bar||$("#top_bar").show(),$("#top_bar_right_list > .dropdown").hover(function(){for(var t=$("#top_bar_right_list > .dropdown"),e=0;e<t.length;e++){var i=$(t[e]);if(i.hasClass("open"))return t.removeClass("open"),$(this).addClass("open"),void $(this).trigger("show.bs.dropdown")}}),$("#reconnect_modal").modal({backdrop:"static",keyboard:!1,show:!1}),$("#tos_modal").modal({backdrop:"static",keyboard:!1,show:!1}),$("#agree_tos").click(function(){$("#tos_modal").modal("hide"),$.cookie("tos_agreed","true",{domain:"."+main_domain_part,path:"/"})});var i=window.location.host.replace(main_domain_part,"").replace(".","");$("#nav_terminal_name").text(i),$(window).resize(_.throttle(t)),$("#nav_link_main").attr("href","//"+main_domain),$("#nav_logo").attr("src","//"+main_domain+"/img/logo.png"),$("#nav_link_tos").attr("href","//"+main_domain+"/terms"),$("#nav_link_privacy").attr("href","//"+main_domain+"/privacy"),$.ajax({type:"GET",url:"//"+main_domain+"/is_logged_in",success:function(t){t.user?(user=t.user,$("#nav_link_snapshots").attr("href","//"+main_domain+"/snapshots").parent().show(),$("#nav_link_terminals").attr("href","//"+main_domain+"/terminals").parent().show(),$("#nav_link_logout").attr("href","//"+main_domain+"/logout").parent().show(),$("#terminals_dropdown").show(),e("#terminals_dropdown iframe","//"+main_domain+"/containers/terminalsPopover")):("true"!==$.cookie("tos_agreed")&&$("#tos_modal").modal("show"),$("#nav_link_login").attr("href","//"+main_domain+"/login").parent().show(),$("#nav_link_signup").attr("href","//"+main_domain+"/signup").parent().show(),$("#terminals_dropdown").parent().removeClass("dropdown").find(".dropdown-menu").remove(),$("#terminals_dropdown").find(".caret").remove(),$("#terminals_dropdown").show())},xhrFields:{withCredentials:!0}}),$.ajax({type:"GET",url:"//"+main_domain+"/container_info",xhrFields:{withCredentials:!0},success:function(t){return t.error?console.log("container info error",t.error):(document.title=t.name,$("#resize_dropdown").show(),$("#nav_link_edit").attr("href","//"+main_domain+"/containers/edit/"+t.container_key),$("#snapshot_dropdown").show(),$("#nav_link_snapshot").attr("data","//"+main_domain+"/snapshot/new/"+t.container_key),$("#sharing_dropdown").show(),$("#nav_link_share").attr("href","//"+main_domain+"/snapshot/new/"+t.container_key),e("#resize_dropdown iframe","//"+main_domain+"/containers/resizePopover/"+t.container_key),e("#sharing_dropdown iframe","//"+main_domain+"/containers/sharingPopover/"+t.container_key),void e("#snapshot_dropdown iframe","//"+main_domain+"/containers/snapshotsPopover/"+t.container_key))}}),$("#nav_link_faq").attr("href","//"+main_domain+"/faq")});var compute_settings={};"true"==getParameterByName("hide_top_bar")&&(compute_settings.hide_top_bar=!0),getParameterByName("maximize")&&(compute_settings.maximize=getParameterByName("maximize").toLowerCase());var video_types={avi:!0,mov:!0,mpeg:!0,mpg:!0,mp4:!0},image_types={png:!0,jpg:!0,jpeg:!0,gif:!0},pdf_types={pdf:!0},cfig_types={cfig:!0},compress_types={zip:!0,tar:!0,tgz:!0,"tar.gz":!0,tbz:!0,"tar.bz2":!0},text_types={cc:!0,txt:!0,m:!0,py:!0,sh:!0,html:!0,js:!0,css:!0,clog:!0,cmacro:!0,md:!0,markdown:!0,"":!0},tabular_types={csv:!0},FileViewer=function(t,e,i,n){this.crumbs_placeholder=e,this.files_placeholder=t,this.files_placeholder.empty(),this.crumbs_placeholder.empty(),this.update_crumbs(i),this.cd_callback=n.cd_callback||function(){},this.select_callback=n.select_callback||function(){},this.open_callback=n.open_callback||function(){},null===i?this.crumbs=["."]:this.crumbs=i,this.selected=null};FileViewer.prototype.cdUpTo=function(t){this.crumbs.splice(t+1,this.crumbs.length-t-1),this.cd_callback(this.crumbs)},FileViewer.prototype.cdUp=function(){this.crumbs.length>1&&(this.crumbs.pop(),this.cd_callback(this.crumbs))},FileViewer.prototype.cdIn=function(t){this.crumbs.push(t),this.cd_callback(this.crumbs)},FileViewer.prototype.update_crumbs=function(t){t&&(this.crumbs=t),this.crumbs_placeholder.empty();for(var e in this.crumbs){var i,n=0!==e?this.crumbs[e]:'<i class="fa fa-home"></i>&nbsp;';if(e<this.crumbs.length-1){i=$("<li>");var s=$("<a>").html(n).css("cursor","pointer");s.click($.proxy(this.cdUpTo,this,parseInt(e))),i.append(s),i.append($("<span>").addClass("divider").text(">"))}else i=$("<li>").addClass("active").html(n);this.crumbs_placeholder.append(i)}},FileViewer.prototype.add_file=function(t,e){var i=t.name,n=get_extension(i),s=t.is_directory&&"cfig"!=n,o=s?"fa fa-fw fa-folder-o":"fa fa-fw fa-file-o",a=this,r=this.files_placeholder.parents(".modal-dialog").size()>0,l=$("<tr>").append($("<td>").addClass("file_name").append($("<a>").append($("<i>").addClass(o),$("<span>").text(i))),r?$("<td>").addClass("file_size").text(s?"-":formatBytes(t.size)):null,r?$("<td>").addClass("file_mtime").text(moment(t.mtime).format("MMM D HH:mm")):null).addClass("files_list file_tab_link").data("name",i).data("is_dir",s).data("crumbs",this.crumbs).click(function(){return a.select_file($(this)),!1}).dblclick(function(){return a.open_file($(this)),!1});this.files_placeholder.append(l)},FileViewer.prototype.update_files=function(t,e){t.sort(function(t,e){var i=t.is_directory&&"cfig"!=get_extension(t.name),n=e.is_directory&&"cfig"!=get_extension(e.name);return i&&!n?-1:!i&&n?1:t.name<e.name?-1:1}),this.files_placeholder.empty();var i=$("<tr>").addClass("files_list"),n=this.files_placeholder.parents(".modal-dialog").size()>0,s=this;this.crumbs.length>1&&(i.addClass("navigate_up"),i.append($("<td>").append($("<a>").append($("<i>").addClass("fa fa-arrow-left"))),n?$("<td>"):null,n?$("<td>"):null).contextmenu(function(){
return!1}).click(function(){return $(this).hasClass("active")?$(this).removeClass("active"):($(this).siblings().removeClass("active"),$(this).addClass("active")),!1}).dblclick(function(){return $.proxy(s.cdUp,s)(),!1})),this.files_placeholder.append(i);for(var o in t)this.add_file(t[o],e)},FileViewer.prototype.open_file=function(t){var e=t.data("name"),i=t.data("is_dir");t.closest("#modal_files").size()>0;i?this.cdIn(e):this.open_callback(t,this)},FileViewer.prototype.select_file=function(t){t.hasClass("active")?t.removeClass("active"):(t.siblings().removeClass("active"),t.addClass("active")),this.select_callback(t,this)};var terminal_log={listeners:[],events:[]},utils={};!function(t,e){e&&(t.is_mac=navigator.userAgent.indexOf("Mac OS X")>=0,t.cmd_key=t.is_mac?"Cmd":"Ctrl"),t.exec_sparsely=function(t,e){e=e||100;var i=null,n=Date.now();return function(){var s=arguments;Date.now()-n>e?(t.apply(t,s),n=Date.now(),clearTimeout(i),i=null):(clearTimeout(i),i=setTimeout(function(){t.apply(t,s),i=null,n=Date.now()},e))}},t.compare_versions=function(t,e){function i(t){return t.replace("v","").split(".").map(function(t){return parseInt(t)})}e=i(e),t=i(t);for(var n=0;n<e.length;n++){if(t[n]>e[n])return!0;if(t[n]<e[n])return!1}return!1}}("undefined"==typeof exports?utils:exports,"undefined"==typeof exports);var _SERVE_FILES_PATH="/files",versionSyncTimeout=3e4;getVersions().done(function(t,e){"dev"!==t&&(t!==e?updateVersion(e,function(t){t?setTimeout(checkVersion,versionSyncTimeout):setInterval(getGlobalVersion,versionSyncTimeout)}):setTimeout(checkVersion,versionSyncTimeout))}).fail(function(){var t=["Server not running.","Please try restarting this Terminal.","If that doesn't work, contact support@cloudlabs.io"].join(" ");return show_main_modal(text_box(t),!0)});var sockets={},actual_socket,socket_members={},message_queue=new Queue,message_queueing=!1,socket_message_handlers={},socket_cb_table={};initialize_actual_socket(),HotkeyManager.prototype.eventHash=function(t){var e="";return t.altKey&&(e+="alt+"),t.metaKey&&utils.is_mac&&(e+="cmd+"),t.ctrlKey&&(e+="ctrl+"),t.shiftKey&&(e+="shift+"),e+=this.specialKeys[t.which]||String.fromCharCode(t.which)},HotkeyManager.prototype.registerHotkeys=function(t,e,i){i||(i=this),"undefined"==typeof t&&(t=[]),"string"==typeof t&&(t=[t]);for(var n=0;n<t.length;n++){for(var s=t[n],o=s.split("+"),a={alt:"alt",control:"ctrl",ctrl:"ctrl",cmd:"cmd",command:"cmd",shift:"shift"},r={},l=0;l<o.length-1;l++){var c=o[l].trim().toLowerCase();a[c]&&(r[a[c]]=!0)}s="",r.alt&&(s+="alt+"),r.cmd&&(s+="cmd+"),r.ctrl&&(s+="ctrl+"),r.shift&&(s+="shift+");var h=o[o.length-1].trim();1===h.length&&(h=h.toUpperCase()),s+=h,this.registerHotkey(s,e,i)}},HotkeyManager.prototype.registerHotkey=function(t,e,i){i||(i=this),this.hotkeys[t]=$.proxy(e,i)},HotkeyManager.prototype.registerHotkeyByEvent=function(t,e,i){i||(i=this),this.registerHotkey(this.eventHash(t),e,i)},HotkeyManager.prototype.unregisterAll=function(){this.hotkeys={}},HotkeyManager.prototype.handleEvent=function(t){var e=this.hotkeys[this.eventHash(t)];return e?(e(),this.cancel(t),!0):!1},HotkeyManager.prototype.cancel=function(t){return t.preventDefault&&t.preventDefault(),t.returnValue=!1,t.stopPropagation&&t.stopPropagation(),t.cancelBubble=!0,!1};var Managers={};PanelManager.prototype.toggle=function(){this.showing&&(this.opened?this.close():this.open())},PanelManager.prototype.open=function(){for(var t in Managers)Managers[t].minimize(!0);this.opened=!0,this.panel.show(),this.dock.addClass("active"),Layout.open_pane(this.panel_id)},PanelManager.prototype.close=function(t){if(!t)for(var e in Managers)Managers[e].minimize(!0);this.opened=!1,this.panel.hide(),this.dock.removeClass("active"),Layout.close_pane(this.panel_id)},PanelManager.prototype.show=function(){this.showing=!0,this.dock.show()},PanelManager.prototype.hide=function(){this.showing=!1,this.dock.hide(),this.close(!0)},PanelManager.prototype.maximize=function(){if(!this.maximized){for(var t in Managers)Managers[t].minimize(),Managers[t].panel.hide(),Managers[t].dock.addClass("suppressed");this.panel.show(),this.dock.removeClass("suppressed"),this.dock.addClass("active"),this.maximized=!0,this.maximize_icon.removeClass("fa-expand").addClass("fa-compress"),Layout.maximize(this.panel_id),Layout.render_configs(),this.focus()}},PanelManager.prototype.minimize=function(t){if(this.maximized){if(this.panel.hide(),t)for(var e in Managers)Managers[e].opened?Managers[e].panel.show():Managers[e].dock.removeClass("active"),Managers[e].dock.removeClass("suppressed");else this.dock.removeClass("active");this.maximized=!1,this.maximize_icon.removeClass("fa-compress").addClass("fa-expand"),Layout.minimize(),Layout.render_configs()}},PanelManager.prototype.toggle_maximize=function(){this.maximized?this.minimize(!0):this.maximize()},PanelManager.prototype.focused=function(){return this.panel.hasClass("active")},PanelManager.prototype.focus=function(){if(this.showing){Layout.maximized&&this.maximize();for(var t in Managers)t!==this.name&&Managers[t].blur();this.panel.addClass("active"),this.focusContent&&this.focusContent()}},PanelManager.prototype.blur=function(){this.panel.removeClass("active"),this.blurContent&&this.blurContent()},PanelManager.prototype.visible=function(){return this.panel.is(":visible")},PanelManager.prototype.registerHotkey=function(t,e,i){i||(i=this),this.hotkeys.registerHotkey(t,e,i)},PanelManager.prototype.registerHotkeys=function(t,e,i){i||(i=this),this.hotkeys.registerHotkeys(t,e,i)},PanelManager.prototype.unregisterAll=function(){this.hotkeys.unregisterAll()},PanelManager.prototype.handleEvent=function(t){return this.focused()?this.hotkeys.handleEvent(t):this.log(this.name+" was not focused")},PanelManager.prototype.log=function(){console.log.apply(console,arguments)};var PanelNames={Files:"Files",Editor:"Editor",Graph:"Graph",Terminal:"Terminal",Html:"Browser",Chat:"Chat"},GlobalHotkeyManager=new HotkeyManager,FilesManager=new PanelManager(PanelNames.Files,$("#files_container"),{}),EditorManager=new PanelManager(PanelNames.Editor,$("#editor_container"),{}),GraphManager=new PanelManager(PanelNames.Graph,$("#plot_window"),{}),TerminalManager=new PanelManager(PanelNames.Terminal,$("#shell_container"),{}),HtmlManager=new PanelManager(PanelNames.Html,$("#html_container"),{}),ChatManager=new PanelManager(PanelNames.Chat,$("#chat_container"),{});LayoutMGR=function(t){function e(t,e){a[t]||(a[t]=[]),a[t].push(e)}function i(e,i,n){function s(e,i){t(".panel").css("pointer-events","none"),r(e,i)}function o(e,i){r(e,i,!0),t(".panel").css("pointer-events","auto")}function r(e,i,s){if(a.drag)for(var o=0;v<a.drag.length;o++)a.drag[o]();s=!0;var r;r="x"==d.axis?i.position.left/h.width():i.position.top/h.height(),r*=100,p[c]=r+"%";var v;for(v=0;v<f.length;++v){var y=u[f[v]],b=t("#"+f[v]);b.css(g[l],y[l]=100-r+"%"),s&&b.trigger("resize")}for(v=0;v<m.length;++v){var _=u[m[v]],w=t("#"+m[v]);w.css(g[c],_[c]=r+"%"),s&&w.trigger("resize")}n.css(g[c],r+"%")}var l,c,h=t(e.parentSel||"body"),u=e.divs,d=e.splits[i],p=u[i],f=[],m=[];"x"==d.axis?(f=d.left,l="r",m=d.right,c="l"):(f=d.top,l="b",m=d.bottom,c="t");var g={l:"left",r:"right",t:"top",b:"bottom"};n.draggable({axis:d.axis,start:s,stop:o,drag:r,iframeFix:!1,containment:"window"})}function n(e){s(e);var n=e.divs;t(".resize").remove();var o,a;for(var r in n)o=n[r],a=t("#"+r),e.splits[r]||(a.addClass("panel"),a.css({left:o.l,right:o.r,top:o.t,bottom:o.b}));setTimeout(function(){for(var e in n)a=t("#"+e),a.trigger("resize")},500);for(var l in e.splits)o=n[l],a=t("<div/>",{id:l}).appendTo(t(e.parentSel||"body")),a.addClass("resize").addClass("resize_"+e.splits[l].axis),i(e,l,a),a.css({left:o.l,right:o.r,top:o.t,bottom:o.b})}function s(t){var e=t.splits;for(var i in e)o(t.divs,e[i],i)}function o(t,e,i){var n,s,o=[],a=[];"x"==e.axis?(o=e.left,n="r",a=e.right,s="l"):(o=e.top,n="b",a=e.bottom,s="t");var r;for(r=0;r<o.length;++r){var l=t[o[r]];l[n]=100-parseFloat(t[i][s])+"%"}for(r=0;r<a.length;++r){var c=t[a[r]];c[s]=parseFloat(t[i][s])+"%"}}var a={};return t(window).resize(function(){}),{Render:n,EnforceSplitters:s,on:e}}(jQuery);var cur_layout_version=1.1;try{var version=JSON.parse(localStorage.layout_version),cur_conf=JSON.parse(localStorage.cur_conf),cur_layout=localStorage.cur_layout,layouts=JSON.parse(localStorage.layouts),is_hidden=JSON.parse(localStorage.layout_is_hidden),maximized=localStorage.layout_maximized;if(version==cur_layout_version)var Layout={version:version,is_hidden:is_hidden,maximized:maximized,cur_layout:cur_layout,layouts:layouts}}catch(e){console.log("FAILED to get from localstorage",e,e.stack)}if("undefined"==typeof Layout||Layout.version!==cur_layout_version)var Layout={version:cur_layout_version,is_hidden:{},maximized:"",cur_layout:"Default",layouts:{Default:{type:"horizontal",parts:[{weight:1,name:"files_container"},{weight:3,name:"editor_container"},{weight:3,type:"vertical",parts:[{name:"shell_container"},{type:"horizontal",parts:[{name:"plot_window"},{name:"html_container"},{name:"chat_container"}]}]}]},Inverted:{type:"horizontal",parts:[{weight:2,type:"vertical",parts:[{type:"horizontal",parts:[{name:"files_container"},{weight:2,name:"editor_container"}]},{name:"shell_container"}]},{type:"vertical",parts:[{name:"plot_window"},{name:"html_container"},{name:"chat_container"}]}]}}};!function(t){"use strict";function e(i){if("panel"!=i.type&&i.type){for(var n=0;n<i.parts.length;n++){var s=e(i.parts[n]);if(!s)return!1}return!0}return t.is_hidden[i.name]}function i(){var t=compute_settings.hide_top_bar?0:$("#top_bar").height();return t+"px"}function n(t){function n(t,a,r,l,c,h,u,d,p,f){var m;if("horizontal"==t.type||"vertical"==t.type){var g=[];for(m=0;m<t.parts.length;m++){var v=t.parts[m];e(v)||g.push(v)}var y=g.length,b="horizontal"==t.type?"x":"y",_=0;for(m=0;y>m;m++)g[m].weight||(g[m].weight=1),g[m].weight<0&&(console.log("wtf negative weight?",f,g[m].weight),g[m].weight=0),_+=g[m].weight;for(m=0;y>m;m++)g[m].weight=g[m].weight/_;var w="x"==b?c-l:r-a,x=[],k="x"==b?l:a;for(x.push(k),m=0;y>m;m++)k+=g[m].weight*w,x.push(k);x[x.length-1]="x"==b?c:r;var C=[];for(C.push("x"==b?d:h),m=0;y-1>m;m++){var T="split"+f+"_"+b+m,S={name:T,axis:b},D={};"x"==b?(S.left=[],S.right=[],h&&h.bottom.push(T),u&&u.top.push(T),D.t=100*a+"%",D.b=100*(1-r)+"%",D.l=100*x[m+1]+"%",D.r="auto",1==a&&(D.t=i())):(S.top=[],S.bottom=[],d&&d.right.push(T),p&&p.left.push(T),D.t=100*x[m+1]+"%",D.b="auto",D.l=100*l+"%",D.r=100*(1-c)+"%"),o[T]=S,s[T]=D,C.push(S)}for(C.push("x"==b?p:u),m=0;y>m;m++)"x"==b?n(g[m],a,r,x[m],x[m+1],h,u,C[m],C[m+1],f+"_"+b+m):n(g[m],x[m],x[m+1],l,c,C[m],C[m+1],d,p,f+"_"+b+m)}else s[t.name]={t:100*a+"%",b:100*(1-r)+"%",l:100*l+"%",r:100*(1-c)+"%"},0===a&&(s[t.name].t=i()),p&&p.left.push(t.name),d&&d.right.push(t.name),h&&h.bottom.push(t.name),u&&u.top.push(t.name)}var s={},o={};n(t,0,1,0,1,null,null,null,null,"");var a={divs:s,splits:o};return a}function s(t,i){function n(t,s,o,a,r,l){if("horizontal"==t.type||"vertical"==t.type){for(var c,h=[],u=0,d=0;d<t.parts.length;d++)c=t.parts[d],e(c)?u+=c.weight:h.push(c);var p,f,m="horizontal"==t.type?"x":"y";"x"==m?(p=a,f=r):(p=s,f=o);var g,v=p,y=h.length;for(d=0;y>d;d++){if(c=h[d],g=v,y-1>d){var b=i.divs["split"+l+"_"+m+d];v="x"==m?parseFloat(b.l)/100:parseFloat(b.t)/100}else v=f;var _=(1-u)*(v-g)/(f-p);c.weight=_,"x"==m?n(c,s,o,g,v,l+"_"+m+d):n(c,g,v,a,r,l+"_"+m+d)}}}n(t,0,1,0,1,"")}function o(e){u[e]?($(".layout_dropdown").css("font-weight","normal"),u[e].css("font-weight","bold"),t.cur_layout=e):console.error("Unknown layout",e)}function a(t){l(),o(t),h()}function r(t){var e=$("<a>").addClass("layout_dropdown").text(t).attr({role:"button","data-toggle":"modal"}).hover(function(){a(t)}).click(function(){a(t)});$("#layouts_dropdown").append($("<li>").append(e)),u[t]=e}function l(){t.cur_conf&&!t.maximized&&s(t.layouts[t.cur_layout],t.cur_conf)}function c(){localStorage.layout_is_hidden=JSON.stringify(t.is_hidden),localStorage.layouts=JSON.stringify(t.layouts),localStorage.cur_layout=t.cur_layout,t.cur_conf&&(localStorage.cur_conf=JSON.stringify(t.cur_conf)),localStorage.layout_maximized=t.maximized,localStorage.layout_version=t.version,t.save()}function h(){var e;t.maximized?e=n({type:"panel",name:t.maximized}):(t.cur_conf=n(t.layouts[t.cur_layout]),e=t.cur_conf),LayoutMGR.Render(e),$("#plot_window").resize(),c()}var u={};t.update_layout=o,t.switch_layout=a;var d=[];for(var p in t.layouts)d.push(p);$("#toggle_layout").click(function(){var e=d.indexOf(t.cur_layout),i=d[(e+1)%d.length];return a(i),!1});for(var f in t.layouts)r(f);t.save=function(){get_socket("meta").emit("message",{from:"term",to:"computer",type:"save_layout",layout:{is_hidden:t.is_hidden,layouts:t.layouts,cur_layout:t.cur_layout,cur_conf:t.cur_conf,maximized:t.maximized,version:t.version}})},LayoutMGR.on("drag",function(){l(),c()}),t.maximize=function(e){t.maximized=e,c()},t.minimize=function(){t.maximized="",c()},o(t.cur_layout),h();var m=i();setInterval(function(){i()!==m&&(m=i(),console.log("rendering bc top bar height changed"),h())},100),t.toggle_pane=function(e){l(),t.is_hidden[e]=!t.is_hidden[e],h()},t.close_pane=function(e){l(),t.is_hidden[e]=!0,h()},t.open_pane=function(e){l(),t.is_hidden[e]=!1,h()},t.render_configs=h}(Layout),jQuery(function(){var t;for(t in Managers)Layout.is_hidden[Managers[t].panel_id]?Managers[t].close():Managers[t].open();var e=getParameterByName("layout");e&&Layout.update_layout(e);for(t in Managers){var i=getParameterByName(t.toLowerCase());i&&"hidden"==i&&Managers[t].close()}for(t in Managers)Layout.maximized==Managers[t].panel_id&&Managers[t].maximize();for(t in Managers)compute_settings.maximize&&compute_settings.maximize==t.toLowerCase()&&Managers[t].maximize();Layout.render_configs()}),Upload.prototype.begin=function(){this.is_paused=!1,this.is_started=!0,this.request=new XMLHttpRequest,this.request.upload.uid=this.uid,this.request.upload.addEventListener("progress",clientProgress,!1),this.request.addEventListener("load",chunkComplete,!1),this.request.addEventListener("error",uploadFailed,!1),this.request.addEventListener("abort",uploadCanceled,!1),this._upload(this.currentChunk)},Upload.prototype.getChunk=function(t){return this.range_start=this.chunkRange[t-1],this.range_end=this.chunkRange[t],this.file.slice(this.range_start,this.range_end)},Upload.prototype._upload=function(t){var e=(new FileReader,this.getChunk(t));this.request.open("POST",this.url,!0),this.setHeaders(e.size,t),this.send(e)},Upload.prototype.setHeaders=function(t,e){this.file.type&&this.request.setRequestHeader("Content-Type",this.file.type),this.request.setRequestHeader("Content-Range","bytes "+this.range_start+"-"+this.range_end+"/"+this.size),this.request.setRequestHeader("Chunk-Total",this.chunkRange.length-1<1?1:this.chunkRange.length-1),this.request.setRequestHeader("Chunk-Size",t),this.request.setRequestHeader("Chunk-Number",e),this.request.setRequestHeader("File-Path",this.name)},Upload.prototype.send=function(t){var e=this,i=new FileReader;(new Date).getTime();i.readAsArrayBuffer(t),i.onloadend=function(t){if(t.target.readyState==FileReader.DONE)try{var i=new Uint8Array(t.target.result),n=CryptoJS.lib.WordArray.create(i),s=CryptoJS.SHA1(n).toString();e.checksum.update(n),e.currentChunk==e.chunkRange.length-1&&(e.checksum=e.checksum.finalize().toString(),e.request.setRequestHeader("File-Hash",e.checksum)),e.request.setRequestHeader("Chunk-Hash",s),~window.navigator.userAgent.indexOf("Chrome")?e.request.send(i):e.request.send(t.target.result)}catch(o){e.cancel("danger","experienced "+o)}}},Upload.prototype.pause=function(){var t=document.getElementById(this.uid+"-pbar");t.className="progress-bar progress-bar-warning",t.parentNode.className="progress",document.getElementById(this.uid+"-resume").style.display="",document.getElementById(this.uid+"-pause").style.display="none",this.is_paused=!0},Upload.prototype.resume=function(){var t=document.getElementById(this.uid+"-pbar");return t.className="progress-bar",t.parentNode.className="progress progress-striped active",document.getElementById(this.uid+"-pause").style.display="",document.getElementById(this.uid+"-resume").style.display="none",this.is_paused=!1,this.currentChunk<this.chunkRange.length?this._upload(this.currentChunk):void 0},Upload.prototype.cancel=function(t,e){var i=document.getElementById(this.file.uid+"-row");document.getElementById("upload_alerts");return delete uploads[this.uid],this.is_cancelled=!0,i.parentNode.removeChild(i),this.callback()},Upload.prototype["continue"]=function(t){return this.currentChunk++,this.currentChunk<this.chunkRange.length&&!this.is_paused&&!this.is_cancelled&&this._upload(this.currentChunk),this.currentChunk==this.chunkRange.length?(t!==this.checksum&&this.cancel("danger","experienced an error on the server. Please retry uploading."),this.callback(),delete uploads[this.uid]):void 0},Upload.prototype.updateStats=function(){var t=document.getElementById(this.uid+"-row"),e=(document.getElementById("upload_alerts"),Math.round(100*this.chunkRange[this.currentChunk-1]/this.chunkRange[this.chunkRange.length-1]));if(0==this.size&&(e=100),t&&1==this.currentChunk)t.innerHTML=initialTemplate(this.uid,this.name,formatBytes(this.size),e);else try{$("#"+this.uid+"-pbar").css("width",e+"%").attr("aria-valuenow",e),document.getElementById(this.uid+"-%").innerHTML=e}catch(i){}this.is_paused&&this.pause(),100==e&&t&&t.parentNode.removeChild(t)},$("#upload_files, #upload_folder").bootstrapFileInput();var uploadList=document.getElementById("upload_list"),uploads={},q=async.queue(function(t,e){uploads[t.uid]=new Upload(t,e)},8);document.getElementById("upload_files").addEventListener("change",function(t){return handleSelectedFiles(t.target.files)},!1),document.getElementById("upload_folder").addEventListener("change",function(t){return handleSelectedFiles(t.target.files)},!1),document.getElementById("drag_and_drop").addEventListener("dragenter",dragenter,!1),document.getElementById("drag_and_drop").addEventListener("dragleave",dragleave,!1),document.getElementById("drag_and_drop").addEventListener("dragover",dragenter,!1),document.getElementById("drag_and_drop").addEventListener("drop",drop,!1),String.prototype.supplant=function(t){return this.replace(/{([^{}]*)}/g,function(e,i){var n=t[i];return"string"==typeof n||"number"==typeof n?n:e})},function(){~window.navigator.userAgent.indexOf("Chrome")||(document.getElementById("upload_folder").style.display="none")}();var hotkeysHandler=function(t,e,i,n,s){function o(t,e,i,n){n.find("input").length&&n.append($("<hr>").addClass("hotkey-field-hr"));var s;if(t){s=$("<input>").addClass("binding-input").attr("data-manager",e).attr("data-command",i).val(t),s.click(l),n.append(s);var o=$("<div>").addClass("hotkey-delete fa fa-fw fa-trash-o");return o.click(function(){i=$(this).prev().attr("data-command"),e=$(this).prev().attr("data-manager"),$('*[data-command="'+i+'"]*[data-manager="'+e+'"]').length>1?($(this).prev().remove(),$(this).remove()):$(this).prev().val("")}),n.append(o),s}return null}function a(){p=$(this).attr("data-command"),u=$(this).attr("data-manager");var t=$(this).parent().parent().find(".bindings-div").eq(0),e=o(" ",u,p,t);e&&(e.trigger("click"),e.focus(),e.off("blur"),e.blur(function(){$(this).next().remove(),$(this).remove()}))}var r={},l=function(){var e=$(this),i=e.val();e.val("Press desired hotkey");var n={};e.keydown(function(s){s.preventDefault(),delete r[i];var o=[];if(s.altKey&&o.push("alt"),s.ctrlKey&&o.push("ctrl"),s.shiftKey&&o.push("shift"),s.metaKey&&utils.is_mac&&o.push("cmd"),s.keyCode>47&&s.keyCode<58||s.keyCode>64&&s.keyCode<91){var a=String.fromCharCode(s.keyCode);n[a]=!0}(binding=GlobalHotkeyManager.specialKeys[s.keyCode])&&(n[binding]=!0),s.keyCode>111&&s.keyCode<124&&(n["f"+(s.keyCode-111)]=!0),e.val(o.concat(Object.keys(n)).join("+")),e.off("keyup"),e.keyup(function(e){e.preventDefault(),e.stopPropagation();var n=$(this);n.off("keydown"),n.off("keyup");var s=n.attr("data-manager"),o=n.attr("data-command");r[n.val()]?(n.off("blur"),n.blur(),n.val("That hotkey has already been assigned"),n.css("color","red"),setTimeout(function(){n.val(t[s][o]),n.css("color","black")},1e3)):(delete r[i],r[n.val()]=!0,n.off("blur"),n.blur())})}),e.blur(function(){var t=$(this);t.off("keydown"),t.val(i)})},c=$("<div>").addClass("hotkeys-div"),h=$("<div>").addClass("hotkeys-config");for(var u in t){var d=$("<div>").addClass("manager-div").text(u);h.append(d);for(var p in t[u]){r[t[u][p]]=!0;var f=$("<div>").addClass("hotkey-div"),m=$("<div>").addClass("command-container"),g=$("<div>").addClass("command-div").text(p),v=$("<div>").addClass("add-div").attr("data-command",p).attr("data-manager",u).addClass("fa fa-fw fa-plus-square-o");v.click(a),m.append(g),m.append(v);var y=$("<div>").addClass("bindings-div");Array.isArray(t[u][p])||(t[u][p]=[t[u][p]]);for(var b=0;b<t[u][p].length;b++)o(t[u][p][b],u,p,y);f.append(m),f.append(y),h.append(f)}}if(c.append(h),c.append($("<div>").addClass("hotkeys-message")),e&&c.append($("<div>").append($("<a>").addClass("add-defaults").text("Load defaults").click(function(){$(".binding-input").each(function(){var t=$(this).attr("data-manager"),i=$(this).attr("data-command");$(this).val(e[t][i])})})).add("add-defaults-container")),c.append($("<br/>")),i)if(utils.is_mac){var _=$("<input>").attr("type","checkbox");i.altBehavior&&_.prop("checked",!0),c.append($("<div>").append(_).append("&nbsp; Alt acts as +Esc"))}else{var w=$("<div>").addClass("paste-mode-check").text("When in a terminal application (e.g. emacs):").append($("<br>")).append($("<input>").attr("name","pasteMode").attr("type","radio").attr("value",0)).append("&nbsp; Ctrl+V pastes normally").append($("<br>")).append($("<input>").attr("name","pasteMode").attr("type","radio").attr("value",1)).append("&nbsp; Ctrl+Shift+V pastes").append($("<br>")).append($("<input>").attr("name","pasteMode").attr("type","radio").attr("value",2)).append("&nbsp; Neither Ctrl+V nor Ctrl+Shift+V paste");i.pasteMode||(i.pasteMode=n.pasteMode),w.find('input[value="'+i.pasteMode+'"]').prop("checked",!0),c.append($("<div>").append(w))}c.append($("<br/>")),c.append($("<button>").addClass("btn btn-default").text("Cancel").click(function(){hide_main_modal()})),c.append("&nbsp; "),c.append($("<button>").addClass("btn btn-primary").text("Submit").click(function(){var t={};$(".binding-input").each(function(){var e=$(this).attr("data-manager"),i=$(this).attr("data-command");t[e]||(t[e]={}),t[e][i]?t[e][i].push($(this).val()):t[e][i]=[$(this).val()]}),utils.is_mac?_.prop("checked")?i.altBehavior="escape":i.altBehavior="":i.pasteMode=$(".paste-mode-check").find("input:checked").val(),s(t,i)})),show_main_modal(c)};!function(){function t(){var t=utils.is_mac?"cmd":"ctrl",e={};return e.global={prevpane:["alt+"+t+"+J"],nextpane:["alt+"+t+"+K"],newtab:["alt+T"],prevtab:["alt+J"],nexttab:["alt+K"],closetab:["alt+W"],toggle_maximize:["alt+M"],focus_files:["alt+1"],focus_editor:["alt+2"],focus_terminal:["alt+3"],focus_html:["alt+4"],focus_chat:["alt+5"],focus_graph:["alt+6"],toggle_files:["alt+shift+1"],toggle_editor:["alt+shift+2"],toggle_terminal:["alt+shift+3"],toggle_html:["alt+shift+4"],toggle_chat:["alt+shift+5"],toggle_graph:["alt+shift+6"]},e[PanelNames.Terminal]={reset_tab:["alt+R"]},e[PanelNames.Graph]={save:[t+"+S"],share:[t+"+H"],reset:[t+"+R"]},e[PanelNames.Files]={newfile:[t+"+F"],newfolder:[t+"+shift+F"]},e[PanelNames.Editor]={save:[t+"+S"],run:[t+"+R"],reload:[t+"+E"],newfile:[t+"+F"]},e[PanelNames.Html]={reload:[t+"+R"],popout:[t+"+P"]},e}function e(){function t(t){return function(){var e=[],i=null;for(var n in Managers){var s=Managers[n];s.opened&&(s.focused()&&(i=e.length),e.push(s))}if(e.length){var o=0;null!==i&&(o=(i+t+e.length)%e.length),e[o].focus()}}}function e(t){t.registerHotkeys(i[t.name].prevtab||i.global.prevtab,function(){this.PrevTab&&this.PrevTab()}),t.registerHotkeys(i[t.name].nexttab||i.global.nexttab,function(){this.NextTab&&this.NextTab()})}function n(t){t.registerHotkeys(i[t.name].closetab||i.global.closetab,function(){this.CloseCurTab&&this.CloseCurTab()})}function s(t){t.registerHotkeys(i[t.name].newtab||i.global.newtab,function(){this.newTab&&this.newTab()})}localStorage&&(localStorage.hotkeys=JSON.stringify(i)),GlobalHotkeyManager.unregisterAll();for(var o in Managers)Managers[o].unregisterAll(),Managers[o].hotkey_mapping=i[o];GlobalHotkeyManager.registerHotkeys(i.global.prevpane,t(-1)),GlobalHotkeyManager.registerHotkeys(i.global.nextpane,t(1)),GlobalHotkeyManager.registerHotkeys(i.global.toggle_maximize,function(){for(var t in Managers)Managers[t].focused()&&Managers[t].toggle_maximize()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_terminal,function(){TerminalManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_editor,function(){EditorManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_files,function(){FilesManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_html,function(){HtmlManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_graph,function(){GraphManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.focus_chat,function(){ChatManager.focus()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_terminal,function(){TerminalManager.toggle()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_editor,function(){EditorManager.toggle()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_files,function(){FilesManager.toggle()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_html,function(){HtmlManager.toggle()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_graph,function(){GraphManager.toggle()}),GlobalHotkeyManager.registerHotkeys(i.global.toggle_chat,function(){ChatManager.toggle()}),e(EditorManager),e(GraphManager),e(TerminalManager),e(HtmlManager),n(EditorManager),n(TerminalManager),n(HtmlManager),s(TerminalManager),s(HtmlManager),FilesManager.registerHotkeys(i[PanelNames.Files].newfile,function(){this.newFile()}),FilesManager.registerHotkeys(i[PanelNames.Files].newfolder,function(){this.newFolder()}),EditorManager.registerHotkeys(i[PanelNames.Editor].save,function(){this.saveCurrent()}),EditorManager.registerHotkeys(i[PanelNames.Editor].run,function(){this.runCurrent()}),EditorManager.registerHotkeys(i[PanelNames.Editor].reload,function(){this.reloadCurrent()}),EditorManager.registerHotkeys(i[PanelNames.Editor].newfile,function(){this.newFile()}),TerminalManager.registerHotkeys(i[PanelNames.Terminal].reset_tab,function(){this.resetTab()}),HtmlManager.registerHotkeys(i[PanelNames.Html].reload,function(){this.reload_cur_iframe()}),HtmlManager.registerHotkeys(i[PanelNames.Html].popout,function(){this.popout_cur_iframe()}),GraphManager.registerHotkeys(i[PanelNames.Graph].save,function(){this.save_current_fig()}),GraphManager.registerHotkeys(i[PanelNames.Graph].share,function(){this.share_current_fig()}),GraphManager.registerHotkeys(i[PanelNames.Graph].reset,function(){this.reset_current_fig()})}var i,n,s={altBehavior:"escape",pasteMode:0};if(localStorage&&localStorage.keySettings)try{n=JSON.parse(localStorage.keySettings)}catch(o){n=s}else n=s;if(GlobalHotkeyManager.keySettings=n,localStorage&&localStorage.hotkeys)try{i=t();var a=JSON.parse(localStorage.hotkeys);_.each(i,function(t,e,i){_.extend(i[e],a[e])})}catch(o){i=t()}else i=t();try{e()}catch(o){i=t(),e()}$(document).keydown(function(t){if(GlobalHotkeyManager.handleEvent(t))return t.preventDefault(),!1;for(var e in Managers){var i=Managers[e];if(i.focused()&&i.handleEvent(t))return t.preventDefault(),!1}}),$("#edit_hotkeys").click(function(){hotkeysHandler(i,t(),n,s,function(t,n){try{i=t,e(),hide_main_modal();for(var s in Managers){var o=Managers[s].update_toolbar_buttons;o&&o()}}catch(a){console.err(a),$(".hotkeys_message").text("Couldn't finish parsing hotkeys config: "+a)}n&&(GlobalHotkeyManager.keySettings=n,localStorage&&(localStorage.keySettings=JSON.stringify(n)),window.Terminal&&(Terminal.pasteMode=+n.pasteMode))})})}(),CanvasRenderingContext2D.prototype.drawMarker=function(t,e,i,n){function s(t,e){void 0===e&&(e=1),a.moveTo(0,-o);for(var i=0;t>i;i++)a.rotate(2*Math.PI*e/t),a.lineTo(0,-o)}this.beginPath(),this.save(),this.translate(e,i);var o=n/2,a=this;if("+"==t)this.moveTo(-o,0),this.lineTo(o,0),this.moveTo(0,-o),this.lineTo(0,o);else if("o"==t)this.arc(0,0,o,0,2*Math.PI);else if("*"==t)for(var r=1/8,l=0;4>l;l++)this.rotate(Math.PI/4),this.rect(-o*r,-o,n*r,n);else if("."==t)this.arc(0,0,o,0,2*Math.PI);else if("x"==t){var r=1/8;this.rotate(Math.PI/4),this.rect(-o*r,-o,n*r,n),this.rotate(Math.PI/2),this.rect(-o*r,-o,n*r,n)}else"s"==t||"square"==t?this.rect(-o,-o,n,n):"d"==t||"diamond"==t?(this.rotate(Math.PI/4),this.rect(-o,-o,n,n)):"p"==t||"pentagram"==t?s(5,2):"h"==t||"hexagram"==t?(s(3),this.rotate(Math.PI/3),s(3)):"^"==t?s(3):"v"==t?(this.rotate(Math.PI),s(3)):">"==t?(this.rotate(Math.PI/2),s(3)):"<"==t?(this.rotate(3*Math.PI/2),s(3)):console.log("Marker type of",t,"not supported");this.restore(),this.closePath()},CanvasRenderingContext2D.prototype.styledLine=function(t,e,i){function n(t,e,i,n){return Math.sqrt((t-i)*(t-i)+(e-n)*(e-n))}var s=t.length;if(s>0&&s==e.length){if(this.moveTo(t[0],e[0]),"--"==i)var o=[[10,"lineTo"],[10,"moveTo"]];else if(":"==i)var o=[[2,"lineTo"],[5,"moveTo"]];else if("-."==i)var o=[[10,"lineTo"],[4,"moveTo"],[2,"lineTo"],[4,"moveTo"]];else if("-"==i)var o=[[1/0,"lineTo"]];else if("none"==i){return;var o}else{console.log("Unknown lineStyle:  "+i);var o=[[10,"lineTo"]]}for(var a=0,r=[o[a][0],o[a][1]],l=1,c=t[l],h=e[l],u=t[0],d=e[0];s>l;){var p=n(u,d,c,h);if(null===c||null===h||null===u||null===d||p==1/0){if(l+=1,l==s)return;u=t[l-1],d=e[l-1],this.moveTo(u,d),c=t[l],h=e[l]}else if(p<r[0])r[0]=r[0]-p,u=c,d=h,l+=1,c=t[l],h=e[l],this[r[1]](u,d);else{var f=(c-u)*(r[0]/p),m=(h-d)*(r[0]/p);u+=f,d+=m,this[r[1]](u,d),a=(a+1)%o.length,r=[o[a][0],o[a][1]]}}}},function t(e,i,n){function s(a,r){if(!i[a]){if(!e[a]){var l="function"==typeof require&&require;if(!r&&l)return l(a,!0);if(o)return o(a,!0);throw new Error("Cannot find module '"+a+"'")}var c=i[a]={exports:{}};e[a][0].call(c.exports,function(t){var i=e[a][1][t];return s(i?i:t)},c,c.exports,t,e,i,n)}return i[a].exports}for(var o="function"==typeof require&&require,a=0;a<n.length;a++)s(n[a]);return s}({1:[function(t,e,i){t("./plugin")},{"./plugin":7}],2:[function(t,e,i){!function(t,e){var i=get_socket("chat"),n=!0;try{n=JSON.parse(localStorage.layout_is_hidden).chat_container}catch(s){}t.hide(),$(document).ready(function(){function s(){i.emit("message",{from:"chat",to:"computer",type:"load",timestamp:M&&M.toISOString()},h)}function o(){i.emit("message",{from:"chat",to:"computer",type:"purge"},u)}function a(){var t=_.chain(e.frames).map(function(t){return t.url}).filter(function(t){return t&&t.match(/https:\/\/apprtc\.appspot\.com\/r\/\w+/)}).value().length;if(t)e.open();else{var i="https://apprtc.appspot.com/r/"+uuid().replace(/-/g,"");e.new_frame({url:i})}}function r(t){t.stopPropagation(),t.preventDefault();var e=D.val();D.val(""),e&&p(uuid(),e)}function l(e){"publish"===e.type?m(e.message,!0):"purge"===e.type?d():y||"show"!==e.type||(y=!0,t.show(),n||t.open())}function c(t){13!==t.which||t.shiftKey||r(t)}function h(t){if(t.length){var e=new Date(t[t.length-1].time);(M>e||!M)&&(M=e)}t.forEach(function(t){m(t)})}function u(){w.find("li").remove(),b={},x.hide(),M=null,s()}function d(){w.find("li").each(function(){var t=$(this).attr("data-id");t&&t.length<24&&$(this).attr("data-id","purged")})}function p(t,e,n){var s={id:t,originator:user&&user.username||"Anonymous",message:e};n=n||m(s,!0,!0),n.addClass("pending");var o=setTimeout(n.addClass.bind(n,"stale"),3e3);i.emit("message",{from:"chat",to:"computer",type:"publish",originator:s.originator,message:s.message},f.bind(n,o))}function f(t,e){clearTimeout(t),$(this).removeClass("pending stale"),$(this).find(".stale, .pending").remove(),$(this).attr("data-id",e)}function m(t,e,i){function n(t){
return t.length?t.position().top<t.offsetParent().height():!0}function s(){w.scrollTop(w.prop("scrollHeight"))}function o(t){return t.split("\n").map(function(t){return $("<p>").text(t)})}function a(t){for(var e=w.find("li.message[timestamp]"),i=e.length-1;i>=0;i--){var n=+e[i].getAttribute("timestamp");if(t>n)break}return i>=0?e[i]:null}function r(t){for(var e=w.find("li.message[timestamp]"),i=0;i<e.length;i++){var n=+e[i].getAttribute("timestamp");if(n>t)break}return i>0&&i<e.length?e[i-1]:null}var l=t.rowid||t.id,c=t.originator,h=t.message,u=t.time,d=!1,p=n(w.find(".message:last")),f=u&&Date.parse(u),m=w.find("li[data-id="+l+"]:first");m.length?d=!0:m=v(i),m.attr("data-id",l),m.find(".name").text(c);var y=m.find(".content");if(y.empty().append.apply(y,o(h)),f){var k=new Date(f),C=k.toLocaleTimeString(),T=k.toLocaleDateString();m.find(".timestamp time").text(C),m.attr("timestamp",f);var S=null;S=e?a(f):r(f);var D=b[T];D||(D=g(T),b[T]=D,S&&($(S).after(D),S=D)),S||(w.prepend(D),S=D),S!==m[0]&&$(S).after(m)}else w.append(m);return i?s():e&&!d&&(p?s():x.is(":hidden")&&(x.show(),w.scroll(_.throttle(function(){n(w.find(".message:last"))&&(x.hide(),w.off("scroll"))},100)))),m}function g(t){return $('<li class="day-marker">').append($("<time>").text(t))}function v(t){var e,i,n=$('<li class="message">'),s=$('<span class="callsign">').append('<span class="name">').append($('<span class="timestamp">').append("<time>")),o=$('<div class="content">');return t&&(e=$('<span class="stale">').append($('<a class="resend">').text("Resend").click(function(){n.removeClass("stale");var t=o.text(),e=n.attr("data-id");p(e,t,n)})).append($('<a class="cancel">').text("Cancel").click(function(){n.remove()})),i=$('<span class="pending"><i class="fa fa-fw fa-cog fa-spin">')),n.append($("<div>").append(s).append(e).append(i)).append(o),n}var y=!1,b={},w=t.panel.find("ul#conversation"),x=t.panel.find("#message-alert"),k=t.panel.find(".load-older a"),C=t.panel.find(".purge a"),T=t.panel.find(".rtc a"),S=t.panel.find("form"),D=S.find('[name="message"]'),M=null;e||T.parent().hide(),k.click(s),C.click(o),T.click(a),S.submit(r),D.on("keydown",c),i.on("message",l),s()})}(ChatManager,HtmlManager)},{}],3:[function(t,e,i){!function(t){$(document).ready(function(){function e(t){return"text"==t.data("type")?t.data("session").getValue():t.data("contents")}function i(){try{return"localStorage"in window&&null!==window.localStorage}catch(t){return!1}}function n(){if(i()){var n={};for(var s in t.cur_files){var o=e(t.cur_files[s]);n[s]=o}localStorage.editor=JSON.stringify(n)}}function s(){function t(){x.emit("message",{from:"editor",to:"computer",type:"put",passback:"0",path:n,is_dir:!1,value:s,encoding:"utf8"})}var i=y();if(i){var n=i.data("name"),s=e(i);if("!"==$(".editor_tab_save",i).html()){var o="File has been modified since you opened. Continue save?";confirm_modal($("body"),o,function(e){e&&t()})}else t()}}function o(t){t&&E[t]||(t=P),$(".theme_dropdown").removeClass("active_theme_dropdown"),E[t].dropdown.addClass("active_theme_dropdown"),w.setTheme("ace/theme/"+t),localStorage.ace_theme=t;var e=E[t].metatheme;$(".metathemes_button").hide(),$(".metathemes_button.metatheme_"+e).show(),$("body").removeClass(),$("body").addClass("theme_"+e)}function a(t,e){for(var i=e.split("_"),n=[],s=0;s<i.length;s++)n.push(i[s].charAt(0).toUpperCase()+i[s].slice(1));var a=$("<a>").addClass("theme_dropdown").text(n.join(" ")).attr({role:"button","data-toggle":"modal"}).hover(function(){o(e)}).click(function(){o(e)});$("<li>").append(a).appendTo(N),E[e]={dropdown:a,metatheme:t}}function r(){$(this).tooltip("hide")}function l(t,e){t.setUndoManager(new ace.UndoManager);var i="ace/mode/"+(C[e]||"text");return t.setMode(i),t.setTabSize(2),t.setUseSoftTabs(!0),t.setUseWrapMode(!0),t.setWrapLimitRange(null,null),t}function c(e,i){if(i&&x.emit("message",{from:"editor",to:"computer",type:"close",passback:"0",path:e,client_id:client_id}),!(e in t.cur_files))return console.log("Cannot close: "+e+".  File was not open!");if(t.cur_file==e){t.cur_file=null;var s=!1;for(var o in t.cur_files){if(s){t.cur_file=o;break}o==e?s=!0:t.cur_file=o}}t.cur_files[e].parent().remove(),delete t.cur_files[e],delete t.cur_files_saved[e],v(),null===t.cur_file?$("#editor").hide():t.cur_files[t.cur_file].click(),n()}function h(t){TerminalManager.curTerm().handler(t+"\n")}function u(){if(t.cur_file){var e=get_extension(t.cur_file);if("m"==e)h("run('"+t.cur_file+"');");else if("sh"==e)h("bash "+t.cur_file);else if("c"==e||"cpp"==e||"cc"==e)h("make");else if("clog"==e||"cmacro"==e){x.emit("message",{from:"editor",to:"computer",type:"playback_speed",passback:"0",speed:1}),x.emit("message",{from:"editor",to:"computer",type:"playback",passback:"0",path:t.cur_file}),$("#meta_toolbar").css("width","50%"),$("#playback_bar").css("width","50%"),$("#playback_bar").show();var i=$("#playback_slider").slider({min:0,max:10,value:1});i.on("slide",function(t){var e=i.data("slider").getValue();x.emit("message",{from:"editor",to:"computer",type:"playback_speed",passback:"0",speed:e})}),i.slider("setValue",1),$("#playback_progress").css("width","80%"),$("#playback_progress .bar").css("width","0%"),$("#playback_slider").css("width","20%"),open_meta_pane()}else show_main_modal(text_box("Sorry! Don't know how to run this file."))}}function d(){t.cur_file&&t.open_file(t.cur_file,{force:!0,reload:!0})}function p(){trigger_files_modal($("body"),{action:"Open File",input_default:""},FilesManager.cur_dir.slice(0),modal_file_viewer,function(e,i){var n=ensure_valid_location(e.join("/")+"/"+i),s=show_loading_modal($("#editor_container"));t.open_file(n,{force:!0,reload:!1,loading_id:s})})}function f(){var t={General:{}};for(var e in z.commands){var i;z.commands[e].bindKey&&z.commands[e].bindKey[z.platform]?(i=z.commands[e].bindKey[z.platform].replace(/Command/g,"Cmd").replace(/Option/g,"Alt").replace(/-/g,"+"),t.General[e]=i.split("|")):t.General[e]=[""]}hotkeysHandler(t,null,null,null,m)}function m(t){localStorage.editor_hotkeys=JSON.stringify(t);for(var e in t.General){var i=t.General[e].join("|").replace(/Cmd/g,"Command").replace(/Alt/g,"Option").replace(/\+/g,"-"),n=$.extend({},z.commands[e]),s=utils.is_mac?"mac":"win";n.bindKey=n.bindKey||{mac:"",win:""},n.bindKey[s]=i,z.addCommand(n)}hide_main_modal()}function g(){var t=$("#editor_toolbar"),e=35;t.children().not(".metathemes_button").remove();for(var i=0;i<F.length;i++)make_button(F[i],e).appendTo(t)}function v(){var t=$("#editor_container").width(),e=$("#editor_tabs .tab"),i=$(".editor_tab_text"),n=e.length,s=(t-10)/n;s=Math.min(200,s),e.css("width",s),i.css("width",s-35)}function y(e){return void 0===e&&(e=t.cur_file),t.cur_files[e]}function b(e,i,s,o,a){function r(){a||t.open(),t.show()}function h(){}function u(i){i.preventDefault(),t.cur_file=e,$("#editor_tabs .tab").removeClass("active"),_.addClass("active"),$("#editor_tabs .tab").removeClass("activeright"),_.next().addClass("activeright")}$("#editor").show();var d=get_name(e),p=get_extension(d),f=p in tabular_types;t.cur_files_saved[e]="";for(var m in t.cur_files){if(m==e){t.cur_file=m;var g=y();if(!g)return;if(s){var b=g.parent();(jQuery.hasData(b[0])&&jQuery._data(b[0])).events.click[0].handler({preventDefault:h})}return o&&(f?"csv"==p&&set_spreadsheet_data($("#spreadsheet"),get_csv_data(i)):g.data("session").setValue(i),x.emit("message",{from:"editor",to:"computer",type:"contents_check",path:e,client_id:client_id})),void r()}get_name(m)==d&&show_main_modal(text_box("Be careful!  You have multiple files open with the name: "+d))}r();var _=$("<div>").addClass("tab"),k=$("<span>").addClass("editor_tab"),C=$("<span>").addClass("editor_tab_text").text(d);k.append(C),t.cur_files_saved[e]="",t.cur_file=e,t.cur_files[e]=k,k.attr("title",e);var T=$("<span>").addClass("editor_tab_save").text(t.cur_files_saved[e]);k.append(T),k.data("index",e),k.data("name",e);var S=$("<span>").addClass("closetab").html("&times;");S.data("index",e),S.click(function(e){var i=$(this).data("index"),n=y(i),s=n.data("name");return""!==t.cur_files_saved[i]?confirm_modal($("#editor_container"),"You have unsaved changes, which will be lost. Continue?",function(t){t&&c(s,!0)}):c(s,!0),!1}),k.append(S),_.append(k);var D;if(f)D=function(e,i){var s=y();if(e){""===t.cur_files_saved[t.cur_file]&&(t.cur_files_saved[t.cur_file]="*",$(".editor_tab_save",s).html("*"));var o=$("#spreadsheet").handsontable("getData"),a=[];for(var r in o){var l=o[r];a.push(l.join(","))}var c=a.join("\n");s.data("contents",c),n()}},k.data("type","tabular"),set_spreadsheet_data($("#spreadsheet"),get_csv_data(i),D),_.data("contents",i),_.click(function(t){u(t),$("#spreadsheet").show(),$("#editor").hide();var e=$(this).data("contents");return set_spreadsheet_data($("#spreadsheet"),get_csv_data(e),D),!1});else{D=function(){""===t.cur_files_saved[t.cur_file]&&(t.cur_files_saved[t.cur_file]="*",$(".editor_tab_save",y()).html("*")),n()},k.data("type","text");var M=new ace.EditSession(i);l(M,p),k.data("session",M),w.setSession(M),M.on("change",D),_.click(function(t){return u(t),$("#editor").show(),$("#spreadsheet").hide(),w.setSession(M),!1})}_.click(),$("#editor_tabs").append(_),v(),n()}function _(i){if("open"==i.type){if(i.result.force_prompt)i.client_id&&i.client_id!=client_id||(i.loading_id&&hide_loading_modal(i.loading_id),confirm_modal($("body"),i.result.force_prompt,function(e){if(!e)return void x.emit("message",{from:"editor",to:"computer",type:"close",passback:"0",path:i.path,client_id:client_id});var n=show_loading_modal($("#editor_container"));t.open_file(i.path,{force:!0,loading_id:n})}));else if(i.result.error)show_error(i.result.error);else if(!i.reload||!i.client_id||i.client_id==client_id){if("string"!=typeof i.result.contents)return console.log("Contents undefined! shouldnt happen");b(i.path,i.result.contents,!i.dont_show,i.reload,i.hello),hide_loading_modal(i.loading_id)}}else if("close"==i.type)i.client_id!=client_id&&c(i.path,!1);else if("closeallnot"==i.type)for(var n in t.cur_files)n in i.paths||c(n,!1);else if("contents_check"==i.type){if(!i.client_id||i.client_id==client_id)for(var s in t.cur_files)if(s==i.path){var o=y(s),a=e(o),r=CryptoJS.SHA3(a).toString();i.hash==r?t.cur_files_saved[s]="":t.cur_files_saved[s]="!",$(".editor_tab_save",o).html(t.cur_files_saved[s]);break}}else"hello"==i.type||(console.log("UNHEARD MESSAGE"),console.log(i))}t.show(),ace.config.set("basePath","/lib/ace");var w=ace.edit("editor");t.cur_file=null,t.cur_files={},w.setOptions({enableBasicAutocompletion:!0}),t.cur_files_saved={};var x=get_socket("editor");t.editor=w,w.setHighlightActiveLine(!1),w.setKeyboardHandler(null),$("#editor").hide(),$("#spreadsheet").hide(),window.onbeforeunload=function(e){var i=!1;for(var n in t.cur_files_saved)if("*"==t.cur_files_saved[n]){i=!0;break}return i?"You have unsaved changes in at least one file. Are you sure you want to navigate away?":void 0},t.saveCurrent=s;var k={ABAP:["abap"],ADA:["ada|adb"],ActionScript:["as"],AsciiDoc:["asciidoc"],Assembly_x86:["asm"],AutoHotKey:["ahk"],BatchFile:["bat|cmd"],C9Search:["c9search_results"],C_Cpp:["c|cc|cpp|cxx|h|hh|hpp"],Clojure:["clj"],Cobol:["^CBL|COB"],coffee:["^Cakefile|coffee|cf|cson"],ColdFusion:["cfm"],CSharp:["cs"],CSS:["css"],Curly:["curly"],D:["d|di"],Dart:["dart"],Diff:["diff|patch"],Dot:["dot"],Erlang:["erl|hrl"],EJS:["ejs"],Forth:["frt|fs|ldr"],FTL:["ftl"],Glsl:["glsl|frag|vert"],golang:["go"],Groovy:["groovy"],HAML:["haml"],Haskell:["hs"],haXe:["hx"],HTML:["htm|html|xhtml"],HTML_Ruby:["erb|rhtml|html.erb"],Ini:["Ini|conf"],Jade:["jade"],Java:["java"],JavaScript:["js"],JSON:["json"],JSONiq:["jq"],JSP:["jsp"],JSX:["jsx"],Julia:["jl"],LaTeX:["latex|tex|ltx|bib"],LESS:["less"],Liquid:["liquid"],Lisp:["lisp"],LiveScript:["ls"],LogiQL:["logic|lql"],LSL:["lsl"],Lua:["lua"],LuaPage:["lp"],Lucene:["lucene"],Makefile:["^GNUmakefile|^makefile|^Makefile|^OCamlMakefile|make"],MATLAB:["m|matlab"],Markdown:["md|markdown"],MySQL:["mysql"],MUSHCode:["mc|mush"],ObjectiveC:["mm"],OCaml:["ml|mli"],Pascal:["pas|p"],Perl:["pl|pm"],pgSQL:["pgsql"],PHP:["php|phtml"],Powershell:["ps1"],Prolog:["plg|prolog"],Properties:["properties"],Python:["py"],R:["r"],RDoc:["Rd"],RHTML:["Rhtml"],Ruby:["ru|gemspec|rake|rb"],Rust:["rs"],SASS:["sass"],SCAD:["scad"],Scala:["scala"],Scheme:["scm|rkt"],SCSS:["scss"],SH:["sh|bash"],snippets:["snippets"],SQL:["sql"],Stylus:["styl|stylus"],SVG:["svg"],Tcl:["tcl"],Tex:["tex"],Text:["txt"],Textile:["textile"],Toml:["toml"],Twig:["twig"],Typescript:["typescript|ts|str"],VBScript:["vbs"],Velocity:["vm"],XML:["xml|rdf|rss|wsdl|xslt|atom|mathml|mml|xul|xbl"],XQuery:["xq"],YAML:["yaml"]};window.define=ace.define;var C={};for(var T in k){var S=k[T][0].split("|");T=T.toLowerCase();for(var D=0;D<S.length;D++)C[S[D]]=T}var M={light:{themes:["chrome","clouds","crimson_editor","dawn","dreamweaver","eclipse","github","solarized_light","textmate","tomorrow","xcode"]},dark:{themes:["ambiance","chaos","clouds_midnight","cobalt","idle_fingers","merbivore","merbivore_soft","mono_industrial","monokai","pastel_on_dark","solarized_dark","terminal","tomorrow_night_blue","tomorrow_night_bright","tomorrow_night_eighties","tomorrow_night","twilight","vibrant_ink"]}},E={},P="textmate";for(var A in M){var N=$("<ul>").addClass("dropdown-menu"),H=$("<a>").addClass("dropdown-toggle").attr("data-toggle","dropdown").html('<i class="fa fa-fw fa-adjust"></i>'),I=$("<li>").addClass("metathemes_button").addClass("metatheme_"+A).append(H).append(N).click(r);$("#editor_toolbar").append(I);for(var R=M[A].themes,O=0;O<R.length;O++){var L=R[O];a(A,L)}}bind_dropdown_submenus(),$(".metathemes_button").tooltip({animation:!0,html:!0,placement:"bottom",title:"Theme"}),$(".metathemes_button .dropdown-menu").hover(function(t){t.preventDefault(),t.stopPropagation()}),o(localStorage.ace_theme),$("#toggle_metatheme").click(function(t){var e=localStorage.ace_theme,i=e&&E[e]&&E[e].metatheme;return o("light"===i?"terminal":"textmate"),!1}),t.CloseCurTab=function(){var t=$("#editor_tabs .tab.active");if(t.length){t.length>1&&console.log("weird, more than one active tab",t);var e=t[0];$(".closetab",e).click()}},t.runCurrent=u,t.reloadCurrent=d,t.newFile=p,$("#editor_container .empty_newtab").click(p);var z=w.commands;localStorage&&localStorage.editor_hotkeys&&m(JSON.parse(localStorage.editor_hotkeys));var F=[{icon:"fa fa-fw fa-play",text:"Run",click:u,hotkey:[t.name,"run"]},{icon:"fa fa-fw fa-save",text:"Save",click:s,hotkey:[t.name,"save"]},{icon:"fa fa-fw fa-refresh",text:"Reload",click:d,hotkey:[t.name,"reload"]},{icon:"fa fa-fw fa-folder-open",text:"Open",click:p,hotkey:[t.name,"newfile"],withSeparator:!0},{icon:"fa fa-fw fa-keyboard-o",text:"Hotkeys",click:f}];g(),t.update_toolbar_buttons=g,t.SwitchTab=function(t){return function(){for(var e=$("#editor_tabs .tab"),i=null,n=0;n<e.length;n++)if($(e[n]).hasClass("active")){i=n;break}if(null!==i){var s=(i+t+e.length)%e.length,o=$(".editor_tab",e[s]);o.click()}}},t.NextTab=t.SwitchTab(1),t.PrevTab=t.SwitchTab(-1),x.on("message",function(t){_(t)}),t.open_file=function(t,e){var i=e;i.from="editor",i.to="computer",i.type="open",i.path=t,i.client_id=client_id,x.emit("message",i)},$("#editor_tabs").empty();var W=100,j=utils.exec_sparsely(function(){w.resize(),v(),g()},W);$("#editor_container").resize(j),$(window).resize(j),j(),t.focusContent=function(){w.focus()},t.blurContent=function(){w.blur()}})}(EditorManager)},{}],4:[function(t,e,i){!function(t){t.cur_dir=["/"],t.getCurDir=function(){return t.cur_dir.join("/").replace(/^\/\//,"/")},$(document).ready(function(){function e(t,e){var i=show_loading_modal($("#files_container"));k.emit("message",{from:"files",to:"computer",type:"move",passback:"0",old_path:t,new_path:e,loading_id:i})}function i(t,e){var i=show_loading_modal($("#files_container"));k.emit("message",{from:"files",to:"computer",type:"copy",passback:"0",old_path:t,new_path:e,loading_id:i})}function n(t,e){var i=show_loading_modal($("#files_container"));k.emit("message",{from:"files",to:"computer",type:"remove",passback:"0",path:t,is_dir:e,loading_id:i})}function s(){trigger_files_modal($("body"),{action:"New File",input_default:"",focus_name_input:!0},t.cur_dir.slice(0),modal_file_viewer,function(t,e){var i=ensure_valid_location(t.join("/")+"/"+e);k.emit("message",{from:"files",to:"computer",type:"put",passback:"0",path:i,value:"",is_dir:!1})})}function o(){trigger_files_modal($("body"),{action:"New Folder",input_default:"",focus_name_input:!0},t.cur_dir.slice(0),modal_file_viewer,function(t,e){var i=ensure_valid_location(t.join("/")+"/"+e);k.emit("message",{from:"files",to:"computer",type:"put",passback:"0",path:i,value:"",is_dir:!0})})}function a(e){var i=e.join("/");t.cd(i)}function r(t){var e=t.hasClass("active"),i=t.closest(".modal"),n=t.data("name");e&&i.find("#files_modal_input").val(n)}function l(t){var e,i=t.hasClass("active"),n=t.closest(".panel").find("#files_toolbar"),s=t.closest(".panel").find("#active_file_toolbar");if(e=t.data("is_dir")?y(t):b(t),i){n.hide(),s.empty().show();for(var o=0;o<e.length;o++){var a=make_button(e[o]);a.appendTo(s)}}else n.show(),s.hide()}function c(t){var e=t.closest(".modal");e.find("#files_modal_submit").click()}function h(t){var e=t.data("name"),i=t.data("crumbs"),n=get_extension(e),s=i.join("/")+"/"+e,o=get_file_url(s);if(n in image_types)window.open(o);else if(n in pdf_types)window.open(o);else if(n in video_types)window.open(o);else if(n in compress_types){var a=show_loading_modal($("#files_container"));k.emit("message",{from:"files",to:"computer",type:"uncompress",passback:"0",path:s,dir:i.join("/")+"/",extension:n,loading_id:a})}else if(n in cfig_types)k.emit("message",{from:"files",to:"computer",type:"loadfig",passback:"0",path:s});else{var r=show_loading_modal($("#editor_container"));EditorManager.open_file(s,{loading_id:r,reload:!1})}}function u(e){for(var i=t.cur_dir.join("/")+"/"+e;"/"==i[0]&&"/"==i[1];)i=i.slice(1);return i}function d(t){$("span",t).dblclick()}function p(t){var e=$(t).data("is_dir"),i=$(t).data("name"),n=u(i);"/"==n[0]&&(n=n.slice(1)),e&&(n+="/"),HtmlManager.new_frame({url:"localhost"+_SERVE_FILES_PATH+"/"+n})}function f(t){var e=$(t).data("is_dir"),i=$(t).data("name"),s=u(i),o=get_extension(i);confirm_modal($("body"),"Are you sure?",function(t){t&&n(s,e||"cfig"==o)})}function m(i){var n=$(i).data("name"),s=u(n);trigger_files_modal($("body"),{action:"Move Here",input_default:n,focus_name_input:!0},t.cur_dir.slice(0),modal_file_viewer,function(t,i){var n=ensure_valid_location(t.join("/")+"/"+i);e(s,n)})}function g(e){var n=$(e).data("name"),s=u(n),o=n+" copy";trigger_files_modal($("body"),{action:"Copy Here",input_default:o,focus_name_input:!0},t.cur_dir.slice(0),modal_file_viewer,function(t,e){var n=ensure_valid_location(t.join("/")+"/"+e);i(s,n)})}function v(t){var e,i=$(t).data("name"),n=u(i),s=$(t).data("is_dir");e=s?server_url+"/download/"+encodeURIComponent(n):get_download_url(n),logEvent({type:"download",url:e}),window.location.assign(e)}function y(t){return[{icon:"fa fa-fw fa-paste",text:"Move Folder",click:function(){m(t)}},{icon:"fa fa-fw fa-copy",text:"Copy Folder",click:function(){g(t)}},{icon:"fa fa-fw fa-download",text:"Download Folder",click:function(){v(t)}},{icon:"fa fa-fw fa-trash-o",text:"Delete Folder",click:function(){f(t)}}]}function b(t){return[{icon:"fa fa-fw fa-file",text:"Open",click:function(){d(t)},withSeparator:!0,withText:!0},{icon:"fa fa-fw fa-external-link",text:"Browse",click:function(){p(t)},withSeparator:!0,withText:!0},{icon:"fa fa-fw fa-paste",text:"Move",click:function(){m(t)}},{icon:"fa fa-fw fa-copy",text:"Copy",click:function(){g(t)}},{icon:"fa fa-fw fa-download",text:"Download",click:function(){v(t)}},{icon:"fa fa-fw fa-trash-o",text:"Delete",click:function(){f(t)}}]}function _(t){var e=[];"/"==t[0]&&e.push("/");for(var i=t.split("/"),n=0;n<i.length;n++){var s=i[n];s.length>0&&e.push(s)}return e}function w(t){k.emit("message",{from:"meta",to:"computer",type:"list",passback:"modal",path:t.join("/"),client_id:client_id}),show_loading_modal($("#files_modal"),"modal_files_list_loading")}function x(e){if("list"==e.type){if(!e.client_id||e.client_id==client_id){e.passback||(e.passback="main"),logEvent({type:"received_list",message:e}),hide_loading_modal("files_list_loading");for(var i={},n=JSON.parse(e.result),s=0;s<n.length;++s){var o=n[s].name,a=(n[s].is_directory,get_name(o));"."!=a[0]&&(i[o]=o)}var r=_(e.path);"main"==e.passback?(t.cur_dir=r,T.update_crumbs(t.cur_dir),T.update_files(n)):"modal"==e.passback?(modal_file_viewer.update_crumbs(r),modal_file_viewer.update_files(n)):"search"==e.passback||console.log("NOT SURE WHERE TO LIST:",JSON.stringify(e))}}else if("hide_files_list_loading"==e.type)hide_loading_modal("files_list_loading");else if("list_error"==e.type)show_error("Error listing "+e.path+"\n"+e.error+"\nResetting to /"),k.emit("message",{from:"files",to:"computer",type:"list",passback:e.passback,path:"/"}),hide_loading_modal("files_list_loading");else if("find_result"==e.type){var l=JSON.parse(e.info);l.name=e.file,C.add_file(l,function(t,e){})}else"hello"==e.type||("hide_loading"==e.type?hide_loading_modal(e.loading_id):console.log("UNHEARD MESSAGE:",e))}t.show(),show_loading_modal($("#files_container"),"files_list_loading");var k=get_socket("files");t.newFile=s,$("#create_file").click(s),t.newFolder=o,$("#create_folder").click(o),$("#file_search_input").keyup(function(){var e=$("#file_search_input").val();if($("#search_files").empty(),0===e.length)$("#search_files").hide(),$("#myFiles").show();else{$("#search_files").show(),$("#myFiles").hide();var i=show_loading_modal($("#files_container"));k.emit("message",{from:"files",to:"computer",type:"find",input:e,client_id:client_id,loading_id:i,path:t.cur_dir.join("/")})}}),$("#search_files").hide();var C=new FileViewer($("#search_files"),$("#dummy"),["/"],{});t.cd=function(t){k.emit("message",{from:"files",to:"computer",type:"list",passback:"main",path:t}),show_loading_modal($("#files_container"),"files_list_loading")};var T=new FileViewer($("#myFiles"),$("#myCrumbs"),t.cur_dir,{cd_callback:a,select_callback:l,open_callback:h}),S={Open:d,Delete:f,Move:m,Copy:g,Browse:p,Download:v},D=function(t,e){var i=$(t).closest(".file_tab_link");i.closest("#modal_files").size()>0?(i.siblings().removeClass("active"),r(i)):(i.siblings().removeClass("active"),l(i));var n=i.data("is_dir"),s=n?"fa fa-fw fa-folder-open":"fa fa-fw fa-edit";return{callback:function(t,e){if(t in S)S[t](i);else{var n="Sorry!  The "+t+" feature is not yet implemented";show_main_modal(text_box(n))}},items:{Open:{name:'<i class="'+s+'"></i> Open'},Move:{name:'<i class="fa fa-fw fa-paste"></i> Move'},Copy:{name:'<i class="fa fa-fw fa-copy"></i> Copy'},Download:{name:'<i class="fa fa-fw fa-download"></i> Download'},Browse:{name:'<i class="fa fa-fw fa-external-link"></i> Browse'},Delete:{name:'<i class="fa fa-fw fa-trash-o"></i> Delete'}}}};try{$.contextMenu({selector:".file_tab_link",build:D,zIndex:100,animation:{duration:0,show:"show",hide:"hide"}})}catch(M){console.log("ERROR INITIALIZING CONTEXT MENU")}$("#files_modal").click(function(){$(this).find("tbody.files_list tr").removeClass("active")}),$(window).click(function(){var t=$("#files_container");t.find("tbody.files_list tr").removeClass("active"),t.find("#files_toolbar").show(),t.find("#active_file_toolbar").hide()}),k.on("message",function(t){x(t)}),modal_file_viewer=new FileViewer($("#modal_files"),$("#modal_crumbs"),["/"],{cd_callback:w,select_callback:r,open_callback:c}),$("#modal_create_folder").click(function(){})})}(FilesManager)},{}],5:[function(t,e,i){!function(t){$(document).ready(function(){function e(){$(".figure_div").remove();for(var t in x.axis_plotters)x.axis_plotters[t]._delete();x.axis_plotters={},x.figure_states={}}function i(i,n){if(i||(i=x.message),!i||!i.figures.length)return t.hide();var a=i.figures;e(),x.message=i;for(var r in a){var c=a[r],u=h(c.handle);for(var d in c.axes){var p=c.axes[d];s(u,p)}}a.length?(n||t.open_if_new(),t.show(),o(i.gcf)):t.hide(),l()}function n(t){t.drawn=!0;for(var e in t.axes){var i=t.axes[e],n=$(".plot_div",i.div);n.css("width","100%"),n.css("height","100%"),n.empty();var s=i.properties,o=new canvasAxisPlotter(b,n,x.cache,s);o.set_mode(D),x.axis_plotters[s.handle]=o}}function s(t,e){var i=t.div,n=$("<div></div>");n.css("position","absolute");var s=e.OuterPosition[0],o=e.OuterPosition[1],a=e.OuterPosition[2],r=e.OuterPosition[3],l=1-o-r;n.css("left",100*s+"%"),n.css("top",100*l+"%"),n.css("right","auto"),n.css("bottom","auto"),n.css("width",100*a+"%"),n.css("height",100*r+"%");var c=($("<center></center>"),$('<div class="title_div"></div>'));c.css("text-align","center"),n.append(c);var h=$('<div class="plot_div"></div>');h.css("margin-left","auto"),h.css("margin-right","auto"),n.append(h),i.append(n);var u={div:n,properties:e};t.axes[e.handle]=u,t.cur_plot=e.handle}function o(t){w=t,$("#plot_container").children().hide();var e=x.figure_states[t];e.div.css("display","block"),e.drawn?c():n(e)}function a(t){t.preventDefault();var e=$(this).data("index");return o(e),l(),!1}function r(t){t.preventDefault();var e=$(this).data("index");return b.emit("message",{from:"plot",to:"computer",type:"closefig",passback:"0",figure_id:e}),!1}function l(){$("#figure_tabs").empty();var t=!1;for(var e in x.figure_states){var i=$("<div>").addClass("tab").attr("id","figure_tab_"+e);i.css({width:"50px","text-align":"center"}),t&&(i.addClass("activeright"),t=!1),e==w&&(i.addClass("active"),t=!0);var n=$("<span>").text(e);i.append(n),i.data("index",e),i.click(a);var s=$("<span>").addClass("closetab").html("&times;");s.data("index",e),s.click(r),i.append(s),$("#figure_tabs").append(i)}}function c(){for(var t in x.axis_plotters){var e=x.axis_plotters[t];e.redraw({delay:!0})}}function h(t){var e={};e.axes={},e.drawn=!1,e.cur_plot=null;var i=$('<div class="figure_div"></div>');return $("#plot_container").append(i),e.div=i,x.figure_states[t]=e,e}function u(n){if(n.type in T)return T[n.type](n);if("last_plot_id"==n.type)return console.log("comparing plot ids",_,n.last_plot_id),void(_<n.last_plot_id&&(console.log("asking for update"),logEvent({type:"last_plot_id",data:"last_plot_id:"+_+" vs  mess.last_plot_id "+n.last_plot_id}),b.emit("message",{from:"plot",to:"computer",type:"update_plots",passback:"0"})));if(n.plot_id&&(console.log("Updating Plot Id to "+n.plot_id),_=n.plot_id),"hello"!=n.type){if("redraw"==n.type)return void i(n.graphics_object,n.hello);if("no_plot"==n.type)console.log("GOT NO PLOT!!!!"),e(),t.hide();else{if("loading"==n.type)return logEvent({type:"graph_loading"}),t.open_if_new(),t.show(),void(n.id?show_loading_modal($("#plot_window"),n.id):show_loading_modal($("#plot_window"),"plot_loading"));if("hide_loading"==n.type)return console.log("GOT: hide_loading"),logEvent({type:"graph_hide_loading"}),hide_loading_modal(n.loading_id?n.loading_id:"plot_loading"),void(n.error&&show_error(n.error));if("plot_error"==n.type)return hide_loading_modal("plot_loading"),void show_error(n.error_message);if("figure_shared"==n.type){if(client_id==n.client_id){if(!S[n.id])return void console.log("share cb missing?",n.id);S[n.id](n.file),delete S[n.id],n.error&&show_error(n.error)}}else console.log("UNHEARD MESSAGE",n)}logEvent({type:"after_graph_draw",id:n.id}),hide_loading_modal("plot_loading")}}function d(t,e){var i=show_loading_modal($("#plot_window"));b.emit("message",{from:"plot",to:"computer",type:"savefig",figure_id:t,path:e,loading_id:i,client_id:client_id})}function p(){$("#files_modal_input").val("untitled.png"),trigger_files_modal($("body"),{action:"Save Figure",focus_name_input:!0},["/"],modal_file_viewer,function(t,e){var i=ensure_valid_location(t.join("/")+"/"+e);d(w,i)})}function f(){i()}function m(t,e){var i="shared_figure"+uuid.v1();show_loading_modal($("body"),i),b.emit("message",{from:"plot",to:"computer",type:"sharefig",passback:"0",figure_id:t,client_id:client_id,id:i}),S[i]=function(t){console.log("SHARE CB CALLED"),hide_loading_modal(i),e(t)}}function g(){m(w,function(t){var e=document.domain.split("."),i=e[0],n=e.slice(1).join("."),s="//"+i+"-80."+n+"/"+t;window.open(s)})}function v(t){for(var e in x.axis_plotters){var i=x.axis_plotters[e];i.set_mode(t)}D=t;var n=["pan","zoom_out","zoom_in"],s=!1;for(var o in n){var a=n[o];t==a?(s=!0,$(".plot_"+a+"_button").addClass("active")):$(".plot_"+a+"_button").removeClass("active")}s||console.log("Unknown mode: ",t)}function y(){update_buttons($("#plot_button_toolbar"),M,35),v(D)}var b,_=-1;b=get_socket("plot");var w=null,x={cache:{},axis_plotters:{},figure_states:{}};t.figure_plotter=x,t.open_if_new=function(){t.showing||t.open()},t.SwitchTab=function(t){return function(){for(var e=$("#figure_tabs .tab"),i=null,n=0;n<e.length;n++)if($(e[n]).hasClass("active")){i=n;break}if(console.log("index",i),null!==i){var s=(i+t+e.length)%e.length;e[s].click()}}},t.NextTab=t.SwitchTab(1),t.PrevTab=t.SwitchTab(-1),b.on("message",function(t){u(t)});var k=100,C=utils.exec_sparsely(function(){y(),c()},k);$("#plot_window").resize(C),$(window).resize(C),C();var T={plot_tile_fetched:function(t){if(t.handle in x.axis_plotters){var e=x.axis_plotters[t.handle];e.tileFetched(t)}},static_plot_close:function(t){},static_plot_update:function(t){}};t.save_current_fig=p,t.reset_current_fig=f;var S={},D="zoom_in";v("zoom_in");var M=[{icon:"fa fa-search-plus",text:"Zoom In",click:function(){v("zoom_in")},classes:"plot_zoom_in_button"},{icon:"fa fa-search-minus",text:"Zoom Out",click:function(){v("zoom_out")},classes:"plot_zoom_out_button"},{icon:"fa fa-arrows",text:"Pan",click:function(){v("pan")},classes:"plot_pan_button",withSeparator:!0},{icon:"fa fa-refresh",text:"Reset",click:f,hotkey:[t.name,"reset"]},{icon:"fa fa-save",text:"Save",click:p,hotkey:[t.name,"save"]},{icon:"fa fa-globe",text:"Share",click:g,hotkey:[t.name,"share"]}];y(),t.update_toolbar_buttons=y,b.on("message",function(t){u(t)})})}(GraphManager)},{}],6:[function(t,e,i){!function(t){$(document).ready(function(){function e(e){if(null===e)return $("#html_bar").hide(),$("#html_content_div").hide(),void $("#html_x-origin").hide();$("#html_bar").show(),$("#html_content_div").show(),t.curframe=e;var i=t.frames[e];$(".html_frame").hide(),$("#html_url_input").val(i.url),i["x-origin"]?$("#html_x-origin").show():($("#html_x-origin").hide(),i.iframe.show()),n()}function i(t){v.emit("message",{type:"close_frame",id:t})}function n(){function e(e){return function(){t.SelectTab(e)}}function i(e){return function(i){return i.preventDefault(),t.CloseTab(e),!1}}var n=$("#htmltablist");n.empty();var s=$("<div>").addClass("tab newtab").click(t.newTab),o=$("<span>").text("+");s.append(o),n.append(s);var a=!1;for(var r in t.frames){s=$("<div>").addClass("tab term").click(e(r)),s.css("text-align","center"),$("<span>").addClass("tab_title").text(r).appendTo(s);var l=$("<span>").addClass("closetab").html("&times;").click(i(r));s.append(l),a&&(s.addClass("activeright"),a=!1),r===t.curframe.toString()&&(s.addClass("active"),a=!0),n.append(s)}}function s(e){return function(){var i=[],n=null;for(var s in t.frames)s===t.curframe.toString()&&(n=i.length),i.push(s);if(null!==n){var o=i[(n+e+i.length)%i.length];t.SelectTab(o)}}}function o(){var e=$("#html_url_input").val(),i={url:e};return v.emit("message",{type:"set_frame",to:"computer",id:t.curframe,info:i}),!1}function a(i,s){t.curframe||t.open(),t.frames[i]&&t.frames[i].iframe&&t.frames[i].iframe.remove(),s.iframe=$("<iframe>").addClass("html_frame").appendTo($("#html_content_div")).on("mouseover",function(){y=!0}).on("mouseout",function(){y=!1}),s.iframe.attr("src",f(s)),t.frames[i]=s,e(i),n()}function r(i,n){i=i.toString();var s=t.frames[i];s.url===n.url&&(_.extend(s,n),t.curframe.toString()===i&&n["x-origin"]&&e(i))}function l(){c()}function c(t){v.emit("message",{to:"computer",type:"new_frame",info:t})}function h(e){if(e=e.toString(),e===t.curframe.toString()){t.curframe=null;var i=!1;for(var s in t.frames){if(i){t.curframe=s;break}e===s?i=!0:t.curframe=s;
}}t.frames[e].iframe&&t.frames[e].iframe.remove(),delete t.frames[e],t.SelectTab(t.curframe),n()}function u(){t.curframe&&t.CloseTab(t.curframe)}function d(e){var i=f(t.frames[e]);if(i){var n=window.open(i);b.push(n)}t.CloseTab(e)}function p(){t.curframe&&d(t.curframe)}function f(t){if(t.url){var e=t.url.split("//");1===e.length&&(e=["",e[0]]);var i=e[1].split("/"),n=i[0].split(":");if("localhost"===n[0]||"127.0.0.1"===n[0]){var s=document.domain.split(".");n[1]&&(s[0]=s[0]+"-"+n[1]),i[0]=s.join("."),e[1]=i.join("/")}return e.join("//")}}function m(){if(t.curframe){var e=t.frames[t.curframe],i=f(e);if($("#html_url_input").val(e.url),i){e.iframe.show(),e.iframe.attr("src",i);for(var n in b)b[n].location.reload()}}}function g(e){if("set_frame"===e.type)a(e.id,e.info);else if("set_frames"===e.type){for(var i in e.frames)a(i,e.frames[i]);for(var n in t.frames)n in e.frames||h(n)}else"close_frame"===e.type?h(e.id):"reload_frame"===e.type?m():"prefetch_frame"===e.type?r(e.id,e.info):"hello"!==e.type&&console.log("UNHEARD MESSAGE",e)}t.show();var v=get_socket("html"),y=!1,b=[];t.frames={},t.curframe=null,t.newTab=l,t.SelectTab=e,t.CloseTab=i,t.NextTab=s(1),t.PrevTab=s(-1),t.CloseCurTab=u,t.submit_frame=o,t.set_frame=a,t.new_frame=c,t.close_frame=h,t.popout_frame=d,t.popout_cur_iframe=p,t.reload_cur_iframe=m,$("#html_container .empty_newtab").click(t.newTab),$("#html_form").submit(o),$("#html_refresh").click(m),$(".html_popout").click(t.popout_cur_iframe),$(window).on("blur",function(){y&&t.focus()}),v.on("message",g),n()})}(HtmlManager)},{}],7:[function(t,e,i){e.exports={chat:t("./chat"),editor:t("./editor"),files:t("./files"),graph:t("./graph"),html:t("./html"),index:t("./index"),meta:t("./meta"),terminal:t("./terminal")}},{"./chat":2,"./editor":3,"./files":4,"./graph":5,"./html":6,"./index":7,"./meta":8,"./terminal":9}],8:[function(t,e,i){$(document).ready(function(){function t(t){if(t){var i=t&&(new Date).getTime()-t,n=0;h.shift(),h.push(i);for(var s=0;s<h.length;s++)n+=h[s];n/=h.length,e(i,n)}}function e(t,e){var i=$("#connection_status"),n=$("#meta_stats .ping_stat"),s="("+t.toFixed(0)+"ms)";i.removeClass("waiting_connection good_connection slow_connection no_connection"),null===t?(i.addClass("no_connection"),n.html("Waiting for connection...")):e>l||t>c?(i.addClass("slow_connection"),n.html('<span class="fa fa-question-circle"></span> Slow Connection '+s)):(i.addClass("good_connection"),n.html('<span class="fa fa-check-circle"></span> Good Connection '+s))}function i(t){function e(e,n){n=n||6e5,console.log("next beat",n),e&&console.log("heartbeat error",e),setTimeout(function(){i(t)},n)}$.getJSON("//"+main_domain+"/containers/heartbeat/"+t,function(n){if(n.err)return e(n.err);if("Infinity"==n.time)e(null,6e5);else if(n.time){if(getParameterByName("embedtoken")){var s="embed"+getParameterByName("embedtoken"),o=(Date.now()+n.time,"."+document.domain.split(".").slice(1).join(".")),a=new Date(Date.now()+n.time);console.log("new embed cookie",s,"expire",a,"domain",o),$.cookie(s,$.cookie(s),{expires:a,domain:o,path:"/"})}console.log("heartbeat, time to expiration",n.time),setTimeout(function(){i(t)},n.time/2)}})}function n(t){var e=Math.floor(t/1e3),i=Math.floor(e/60);e=e%60+"",1==e.length&&(e="0"+e);var n=Math.floor(i/60);return i=i%60+"",1==i.length&&(i="0"+i),n+":"+i+":"+e}function s(t){var e="This is a temporary container. It will self-destruct in "+t+" minutes.  Click away to dismiss.";show_main_modal(text_box().html(e))}function o(t){$.getJSON("//"+main_domain+"/containers/maxTimeRemaining/"+t,function(t){var e=parseFloat(t.time);if(t.err)return void console.log("get max time error",t.err);if(console.log("max expire time remaining",e),isFinite(e)){p&&p.remove(),d&&d.remove();var i=[30,15,5];for(var o in i){var a=i[o];setTimeout(s.bind(this,a),e-60*a*1e3-1e4)}var r=Date.now()+e;p=$("<li>").append($("<a>").attr("id","death_timer_link")).click(function(){s(Math.floor((r-Date.now())/6e4))}),$("#top_bar_right_list").prepend(p);var l=function(){var t=r-Date.now();if(0>t){show_main_modal(text_box(expiry_message)),clearInterval(u),p.remove()}else{var e=n(t),i="Self Destruction in "+e;$("#death_timer_link").text(i)}};l(),clearInterval(u),u=setInterval(l,500)}})}var a=get_socket("meta");$("#reconnect_button").click(function(){initialize_actual_socket()});var r=2e3,l=150,c=200,h=[l,l,l,l,l];setInterval(function(){a.emit("message",{from:"term",to:"computer",type:"ping",passback:"0",time:(new Date).getTime(),client_id:client_id})},r);var u,d,p,f={hello:function(t){},loadavg:function(t){},ping:function(e){e.client_id==client_id&&t(e.time)},get_script:function(t){console.log("get script",t),$.getScript(t.file,function(){console.log("script gotten")})},ctid:function(t){var e=t.ctid;o(e),i(e)},show_error:function(t){console.log("show error",t.error)}};a.on("message",function(t){return t.type in f?f[t.type](t):void console.log("UNHEARD MESSAGE IN META OF TYPE ",t.type)})})},{}],9:[function(t,e,i){!function(t){t.show(),window.onload=function(){function e(t,e){var i;"function"==typeof t?i=function(){var e=t(),i=e.state;return e.action&&(i+='<br/><span class="tooltip-subtitle">'+e.action+"</span>"),i}:(i=t,e&&(i+='<br/><span class="tooltip-subtitle">'+e+"</span>")),this.tooltip({animation:!0,html:!0,placement:"bottom",title:i})}function i(t,e){var i=this.hasClass(t),n=this.attr("class");if(n=n.length?n.split(" "):[],e&&!i)n.push(t);else{if(e||!i)return;var s=n.indexOf(t);n.splice(s,1)}n=n.join(" "),this.attr("class",n)}function n(t){return t instanceof Terminal}function s(e){return e=e||t.selected_term&&t.all_tabs[t.selected_term],n(e)?e:void 0}function o(t){return n(t)&&s()===t}function a(t){var e=t.charRuler;return e||(e=document.createElement("div"),e.innerHTML="0123456789ABCDE!{}|?",e.style.position="absolute",e.style.visibility="hidden",t.element.appendChild(e),t.charRuler=e),e.charWidth=e.getBoundingClientRect().width/20,e.charHeight=Math.max(e.getBoundingClientRect().height-1,0),e}function r(){function e(e){function i(i){i.stopPropagation(),e===t.selected_term?u():h(e)}var n=$("<span>").addClass("tab_title").text(e),s=$("<span>").addClass("closetab").html("&times;").click(i),o=$("<div>").addClass("tab term").css("text-align","center").click(l.bind(null,e)).append(n).append(s);return e===t.selected_term&&o.addClass("active"),o}var i=t.all_tabs;L.children(".term").remove();for(var n in i)L.append(e(n));0===_.size(i)?(z.hide(),H.empty(!0)):(H.empty(!1),z.show())}function l(e){var i;for(var n in t.all_tabs)(i=t.all_tabs[n].element)&&(i.style.display="none");t.selected_term=e;var o=s();o?(F.detach(),o.element.style.display="block",o.focus(),Y=!B,q=!1,d()):z.append(F),r()}function c(e){return function(){var i=[],n=null;for(var s in t.all_tabs)s===t.selected_term&&(n=i.length),i.push(s);if(null!==n){var o=(n+e+i.length)%i.length,a=i[o];l(a)}}}function h(t){M.emit("destroy",t)}function u(){if(null!==t.selected_term){h(t.selected_term);var e=null,i=!1;for(var n in t.all_tabs){if(i){e=n;break}n===t.selected_term?i=!0:e=n}e?l(e):H.empty(!0)}}function d(t){t=t||{};var e=s();if(e){var i=a(e);if(!(i.charWidth<=0||i.charHeight<=0)){var n=z[0].getBoundingClientRect(),o={id:e.id,cols:Math.floor(n.width/i.charWidth)||0,rows:Math.floor(n.height/i.charHeight)||0,force:t.force,release:t.release};p(o)}}}function p(t){var e=s();!e||t.cols<2||(B&&M.emit("md",t.id),M.emit("resize",t),(!Y||Y&&q||t.force||B)&&f(e,t.cols,t.rows))}function f(t,e,i){o(t)&&H.dimensions(e,i),t.resize(e,i),$(t.element).css("width",Math.floor(e*a(t).charWidth))}function m(){var t=s();t&&t.focus()}function g(){var t=s();t&&t.blur()}function v(){var t=s();if(t){var e="",i=t.x+1,n=t.lines[t.ybase+t.y],o="";for(var a in n)o+=n[a][1];t.write(e+"c"),t.write(o),t.write(e+"[1;"+i+"H"),t.showCursor()}}function y(){A=!0,M.emit("new_term",{cols:E,rows:P})}function b(){M.emit("sync_tabs"),setTimeout(j,1e3)}function w(t){H.compatibility(),W=t}function x(e){var i,o;for(i in e)t.all_tabs[i]||M.emit("sync",i);for(i in t.all_tabs)e[i]||(o=t.all_tabs[i],n(o)&&o.destroy(),delete t.all_tabs[i]);if(!t.selected_term||!s()){t.selected_term=null;for(i in t.all_tabs){l(i);break}}t.all_tabs=_.extend(e,t.all_tabs),r()}function k(e){var i=t.all_tabs[e.id];n(i)?i.write(e.d):t.data_queue[e.id]?t.data_queue[e.id].push(e):t.data_queue[e.id]=[e]}function C(e){var i=t.all_tabs[e.id];n(i)&&(o(i)&&H.lock(e.leader,e.leader===W),f(i,e.cols,e.rows))}function T(e){var i=t.all_tabs[e.id];o(i)&&H.presence(e.presence)}function S(e){var i=t.all_tabs[e.id];n(i)&&(i.write("c"),i.showCursor())}function D(e,i){var s=0;t.selected_term||l(e),A&&!n(t.all_tabs[e])&&(A=!1,l(e)),function o(e,i){function a(i){var s=t.all_tabs[e];n(s)&&s.destroy(),Terminal.pasteMode=+GlobalHotkeyManager.keySettings.pasteMode,s=new Terminal(i),s.send=function(){},s.load(i),s.id=e,s.on("data",function(t){M.emit("data",{id:s.id,d:t})}),s.on("title",function(t){document.title=t}),s.open($("#resizable")[0],!0),t.all_tabs[e]=s,e===t.selected_term&&t.SelectTab(e);var o=t.data_queue[e];for(var a in o)o[a].n>=s.n&&s.write(o[a].d);delete t.data_queue[e],s.showCursor()}return++s>10?console.error("Could not sync tab",e,i):void $.ajax({dataType:"json",url:_SERVE_FILES_PATH+i,timeout:2e4,success:a,error:o.bind(null,e,i)})}(e,i)}var M=io.connect("/terminal"),E=80,P=50,A=!1,N=$("#shell_container"),H=N.find(".info_pane"),I=H.find(".users-indicator"),R=H.find(".lock-button"),O=H.find(".dimensions"),L=N.find("#tablist").append($("<div>").addClass("tab newtab").click(y).append($("<span>").text("+"))),z=N.find("#resizable"),F=z.find(".loading");N.find(".empty_newtab").click(y);var W,j=_.throttle(d,100),B=!0,Y=!B,q=!1;t.all_tabs={},t.selected_term=null,t.data_queue={},t.socket=M,t.curTerm=s,t.SelectTab=l,t.NextTab=c(1),t.PrevTab=c(-1),t.destroyTerm=h,t.CloseCurTab=u,t.resizeTerm=p,t.focusContent=m,t.blurContent=g,t.resetTab=v,t.newTerm=y,t.newTab=y,M.on("connect",b),M.on("id",w),M.on("list_tabs",x),M.on("resize",C),M.on("presence",T),M.on("sync",D),M.on("data",k),M.on("reset",S),$("#shell_container").on("resize",j),$(window).on("resize",j),R.click(function(){var t={force:!0};Y&&q&&(t.release=!0),d(t)}),H.compatibility=function(){B=!1,H.find(".compatibility-mode").removeClass("compatibility-mode")},H.empty=function(t){this.toggleClass("hidden",t)},H.presence=function(t){t||(Y=!1,q=!1),I.toggleClass("many",t),R.toggleClass("many",t)},H.lock=function(t,e){Y=t,q=e,i.call(R,"lock",t),i.call(R,"leader",e)},H.dimensions=function(t,e){O.html([t,e].join("&times;"))},e.call(R.find(".lock"),function(){return q?{state:"The shell is locked to your tab's size.",action:"Click to relinquish control."}:{state:"The shell is locked to someone else's tab's size.",action:"Click to claim control."}}),e.call(R.find(".unlock"),"The shell will change size when any viewer's tab changes.","Click to lock it to your tab's size."),e.call(I.find(".one"),"You are the only one viewing this tab."),e.call(I.find(".many"),"Multiple people are viewing this tab.")}}(TerminalManager)},{}]},{},[1]),function(){function t(){if(!("WebSocket"in window))return n();var t=new XMLHttpRequest;t.open("GET",o,!0),t.onreadystatechange=function(){4==t.readyState&&e(200===t.status)},t.send()}function e(t){if(t){var e=io.connect(o),i=!1;e.on("connect",function(t){i=!0}),setTimeout(function(){return i?void console.log("Browser is compatible, and Socket.io is reachable: all systems are go."):n()},2e3)}else console.log("socket io test down")}function i(){alert("Your browser isn't supported: please try using IE10+, Firefox v.11+, Chrome v.14+, or Safari v.6+")}function n(){alert("This website needs to use Websockets, and your connection doesn't allow for them. Talk to your system administrator.")}var s=window.navigator.userAgent,o="/socket_io-test",a=s.match(/Chrome\/(\d+)/),r=s.match(/Firefox\/(\d+)/),l=s.match(/Trident\/(\d+)/),c=s.match(/MSIE (\d+)/),h=!!~s.indexOf("Safari");return a&&a[1]>13?t():r&&r[1]>10?t():c&&c[1]>9?t():l&&l[1]>5?t():h&&s.match(/Version\/(\d+)/)[1]>5?t():i()}();