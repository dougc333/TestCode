define("bundles/programming/promises/learnerAssignment",["require","exports","module","underscore","bundles/programming/data/learnerAssignment","bundles/programming/models/filesSubmissionBuilderSchema","bundles/programming/models/instructions","bundles/programming/models/multipartSubmissionLearnerSchema","bundles/programming/models/scriptSubmissionBuilderSchema"],function(require,exports,module){"use strict";function makeSubmissionLearnerSchema(i){var e=i.submissionLearnerSchema;if("multipart"===e.typeName){var n=e.definition;return new s({instructions:new r(_(n).pick("assignmentInstructions")),parts:n.parts})}throw new Error("Cannot construct "+e.typeName+" SubmissionLearnerSchema.")}function makeSubmissionBuilderSchema(r){var e=r.submissionBuilderSchema,s=e.definition;if("files"===e.typeName)return new n({suggestedFilenames:s.suggestedFilenames});if("script"===e.typeName)return new i;throw new Error("Cannot construct "+e.typeName+" SubmissionBuilderSchema.")}var _=require("underscore"),e=require("bundles/programming/data/learnerAssignment"),n=require("bundles/programming/models/filesSubmissionBuilderSchema"),r=require("bundles/programming/models/instructions"),s=require("bundles/programming/models/multipartSubmissionLearnerSchema"),i=require("bundles/programming/models/scriptSubmissionBuilderSchema");module.exports=function(n){return e(n).then(function(e){return{submissionLearnerSchema:makeSubmissionLearnerSchema(e),submissionBuilderSchema:makeSubmissionBuilderSchema(e),versionId:e.versionId,maxScore:e.maxScore,passingFraction:e.passingFraction,passingScore:e.passingScore}})}});