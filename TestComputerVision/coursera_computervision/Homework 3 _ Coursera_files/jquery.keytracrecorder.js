!function(){var e=function($){var e=function(e){return e+"_keytrac"},t={init:function(a){function setLengthOfMaskedSample(t){var n=document.getElementById(e(t)),r=document.getElementById(t);n.value=n.value.replace(c,r.value.length)}function addListener(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function keyDownListener(e){keyListener(e,"d",!1)}function keyUpListener(e){keyListener(e,"u",!1)}function keyDownMaskedListener(e){keyListener(e,"d",!0)}function keyUpMaskedListener(e){keyListener(e,"u",!0)}function keyListener(e,d,o){i=(new Date).getTime();var r=getTypingField(e),t=getKeytracField(e),n=i-f;if(0>n&&(n=0),0===r.value.length&&(t.value=""),keyCode=getKeyCode(e),o&&(keyCode=maskKeyCode(keyCode,"keydown"==e.type)),"keydown"==e.type&&"BACKSPACE"!=keyCode){if(null!==u[keyCode]&&u[keyCode]===!0)return void(r.value=y);u[keyCode]=!0}else"keyup"==e.type&&"BACKSPACE"!=keyCode&&(u[keyCode]=!1);""===t.value&&(t.value=getPrefix(o),n=0),t.value.length<v&&(t.value=t.value+"|"+n+d+keyCode),lastDownKey=keyCode,y=r.value,f=i}function getTypingField(e){var t;return null!=e.currentTarget?t=document.getElementById(e.currentTarget.id):null!=e.srcElement&&(t=document.getElementById(e.srcElement.id)),t}function getKeytracField(t){var n;return null!=t.currentTarget?n=document.getElementById(e(t.currentTarget.id)):null!=t.srcElement&&(n=document.getElementById(e(t.srcElement.id))),n}function getKeyCode(t){var e;t.which?e=t.which:t.keyCode&&(e=t.keyCode),17==e&&("keyup"==t.type?e=o?"LCTRL":"RCTRL":t.ctrlLeft?(e="LCTRL",o=!0):(e="RCTRL",o=!1)),16==e&&("keyup"==t.type?e=d?"LSHIFT":"RSHIFT":t.shiftLeft?(e="LSHIFT",d=!0):(e="RSHIFT",d=!1)),18==e&&("keyup"==t.type?e=l?"LALT":"RALT":t.altLeft?(e="LALT",l=!0):(e="RALT",l=!1)),null!=n[e]&&(e=n[e]);var r=""+e;return(-1!=r.indexOf("d")||-1!=r.indexOf("u")||-1!=r.indexOf("|"))&&(e="00"),e}function maskKeyCode(n,i){var u=n,e;for(e=0;e<t.length;e++)if(t[e]==n)return u;if(i){var o=r.length;r[o]=n,u=s+o}else for(e=0;e<r.length;e++)r[e]==n&&(r[e]=null,u=s+e);return u}function getPrefix(d){var e=new Date,t=e.getDate(),n=e.getMonth()+1,r=e.getHours(),u=e.getMinutes(),o=e.getSeconds();10>t&&(t="0"+t),10>n&&(n="0"+n),10>r&&(r="0"+r),10>u&&(u="0"+u),10>o&&(o="0"+o);var i=e.getFullYear()+"-"+n+"-"+t+" "+r+":"+u+":"+o;return d&&(i+="|l="+c),i}function createKeytracListener(r){var t=r[0],u=r.closest("form")[0],o=r.attr("id"),n=document.createElement("input");n.setAttribute("type","hidden"),n.setAttribute("name",e(o)),n.setAttribute("id",e(o)),u.appendChild(n),this.masked?(u.setAttribute("onsubmit","setLengthOfMaskedSample('"+o+"');"+u.getAttribute("onsubmit")),addListener(t,"keydown",keyDownMaskedListener),addListener(t,"keyup",keyUpMaskedListener)):(addListener(t,"keydown",keyDownListener),addListener(t,"keyup",keyUpListener))}a="undefined"!=typeof a?a:!1;var v=1e6,t=[];t[0]="ENTER",t[1]="BACKSPACE",t[2]="DELETE",t[3]="LSHIFT",t[4]="RSHIFT",t[5]="LCTRL",t[6]="RCTRL",t[7]="LALT",t[8]="RALT",t[9]="TAB",t[10]="CAPSLOCK",t[11]="37",t[12]="38",t[13]="39",t[14]="40";var s="I",r=[],c="@length@",n={};n[9]="TAB",n[20]="CAPSLOCK",n[32]="SPACE",n[8]="BACKSPACE",n[13]="ENTER",n[46]="DELETE";var k=navigator.userAgent.toLowerCase(),m="firefox",L="Firefox/2",g="msie",p="opera",C="chrome",f=0,i,l=!1,d=!1,o=!1,u={},y;return this.each(function(){createKeytracListener($(this)),$(this).on("paste drop",function(e){e.preventDefault()})})},removeListener:function(){var t=$(this).attr("id"),n=e(t);$("#"+n).remove()},keystroke:function(){var t=$(this).attr("id"),n=e(t);return $("#"+n).val()}};$.fn.extend({keytracRecorder:function(e){if(t[e])return t[e].apply(this,Array.prototype.slice.call(arguments,1));if("object"==typeof e||!e)return t.init.apply(this,arguments);$.error("Method "+e+" does not exist on jQuery.keytracrecorder")}})};"function"==typeof define&&define.amd?define("js/lib/jquery.keytracrecorder",["jquery"],function($){e($)}):"undefined"!=typeof window&&"undefined"==typeof ender&&e(window.$)}();