define("bundles/scribe-plugins/scribe-plugin-toolbar",["require","exports","module"],function(require,exports,module){"use strict";module.exports=function(e){return function(t){var n=e.querySelectorAll("[data-command-name]");Array.prototype.forEach.call(n,function(e){function update(){var r=new t.api.Selection,a=e.getAttribute("data-disabled-tags")||"";a=a.split(",");var i=r.getContaining(function(e){var t=e.nodeName.toLowerCase();return-1!==a.indexOf(t)}),u=function queryState(){try{return n.queryState()}catch(e){return!1}},c=function queryEnabled(){try{return n.queryEnabled()}catch(e){return!1}};r.range&&u()?e.classList.add("active"):e.classList.remove("active"),r.range&&c()&&!i?e.removeAttribute("disabled"):e.setAttribute("disabled","disabled")}var n=t.getCommand(e.getAttribute("data-command-name"));e.addEventListener("click",function(){t.el.focus(),n.execute()}),t.el.addEventListener("keyup",update),t.el.addEventListener("mouseup",update),t.el.addEventListener("focus",update),t.el.addEventListener("blur",update),t.on("content-changed",update)})}}});