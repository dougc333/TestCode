define("pages/open-course/video/util/video",["require","exports","module","jquery","underscore","videojs","js/vendor/lucid.v2-7-0","bundles/videojs/plugins/circlePlayButton","bundles/videojs/plugins/fullScreenButton","bundles/videojs/plugins/playToggle","bundles/videojs/plugins/heartbeat","bundles/videojs/plugins/settingsMenuButton","bundles/videojs/plugins/subtitlesMenuButton","bundles/videojs/plugins/volumeMenuButton"],function(require,exports,module){"use strict";var $=require("jquery"),_=require("underscore"),e=require("videojs"),n=require("js/vendor/lucid.v2-7-0");require("bundles/videojs/plugins/circlePlayButton"),require("bundles/videojs/plugins/fullScreenButton"),require("bundles/videojs/plugins/playToggle"),require("bundles/videojs/plugins/heartbeat"),require("bundles/videojs/plugins/settingsMenuButton"),require("bundles/videojs/plugins/subtitlesMenuButton"),require("bundles/videojs/plugins/volumeMenuButton");var u=function getFlexDefaults(e){return{controls:!0,children:{mediaLoader:{},posterImage:{},textTrackDisplay:{},loadingSpinner:{},circlePlayButton:{},controlBar:{children:["progressControl","cPlayToggle","currentTimeDisplay","timeDivider","durationDisplay",{name:"subtitlesMenuButton",defaultSubtitleLanguage:e.defaultSubtitleLanguage},{name:"cVolumeMenuButton",inline:!1,vertical:!0},"settingsMenuButton","cFullscreenToggle"]},errorDisplay:{},textTrackSettings:{}}}},t=function attachListeners(e){e.one("play",function(){e.autoplay()&&$(e.el_).focus()})},s=function VideoPlayer(l){var i=arguments.length<=1||void 0===arguments[1]?{}:arguments[1],o=_(i).defaults(u(i)),s=e(l,o);return t(s),s.emitter=n.emitter(),s.setupHeartbeatListener(),s.currentTrack=function(){return _(s.textTracks()).find(function(e){return"showing"===e.mode})},s};module.exports=s});